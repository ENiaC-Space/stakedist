import{e as ls,aL as fs,ar as oe,a5 as ci,b as hs,aQ as Mt,aE as ed}from"./vendor.6a5a1686.js";function td(t,e){for(var r=0;r<e.length;r++){const n=e[r];if(typeof n!="string"&&!Array.isArray(n)){for(const i in n)if(i!=="default"&&!(i in t)){const s=Object.getOwnPropertyDescriptor(n,i);s&&Object.defineProperty(t,i,s.get?s:{enumerable:!0,get:()=>n[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}var ya={},ti={},ds={};Object.defineProperty(ds,"__esModule",{value:!0});ds.walletLogo=void 0;const rd=(t,e)=>{let r;switch(t){case"standard":return r=e,`data:image/svg+xml,%3Csvg width='${e}' height='${r}' viewBox='0 0 1024 1024' fill='none' xmlns='http://www.w3.org/2000/svg'%3E %3Crect width='1024' height='1024' fill='%230052FF'/%3E %3Cpath fill-rule='evenodd' clip-rule='evenodd' d='M152 512C152 710.823 313.177 872 512 872C710.823 872 872 710.823 872 512C872 313.177 710.823 152 512 152C313.177 152 152 313.177 152 512ZM420 396C406.745 396 396 406.745 396 420V604C396 617.255 406.745 628 420 628H604C617.255 628 628 617.255 628 604V420C628 406.745 617.255 396 604 396H420Z' fill='white'/%3E %3C/svg%3E `;case"circle":return r=e,`data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='${e}' height='${r}' viewBox='0 0 999.81 999.81'%3E%3Cdefs%3E%3Cstyle%3E.cls-1%7Bfill:%230052fe;%7D.cls-2%7Bfill:%23fefefe;%7D.cls-3%7Bfill:%230152fe;%7D%3C/style%3E%3C/defs%3E%3Cpath class='cls-1' d='M655-115.9h56c.83,1.59,2.36.88,3.56,1a478,478,0,0,1,75.06,10.42C891.4-81.76,978.33-32.58,1049.19,44q116.7,126,131.94,297.61c.38,4.14-.34,8.53,1.78,12.45v59c-1.58.84-.91,2.35-1,3.56a482.05,482.05,0,0,1-10.38,74.05c-24,106.72-76.64,196.76-158.83,268.93s-178.18,112.82-287.2,122.6c-4.83.43-9.86-.25-14.51,1.77H654c-1-1.68-2.69-.91-4.06-1a496.89,496.89,0,0,1-105.9-18.59c-93.54-27.42-172.78-77.59-236.91-150.94Q199.34,590.1,184.87,426.58c-.47-5.19.25-10.56-1.77-15.59V355c1.68-1,.91-2.7,1-4.06a498.12,498.12,0,0,1,18.58-105.9c26-88.75,72.64-164.9,140.6-227.57q126-116.27,297.21-131.61C645.32-114.57,650.35-113.88,655-115.9Zm377.92,500c0-192.44-156.31-349.49-347.56-350.15-194.13-.68-350.94,155.13-352.29,347.42-1.37,194.55,155.51,352.1,348.56,352.47C876.15,734.23,1032.93,577.84,1032.93,384.11Z' transform='translate(-183.1 115.9)'/%3E%3Cpath class='cls-2' d='M1032.93,384.11c0,193.73-156.78,350.12-351.29,349.74-193-.37-349.93-157.92-348.56-352.47C334.43,189.09,491.24,33.28,685.37,34,876.62,34.62,1032.94,191.67,1032.93,384.11ZM683,496.81q43.74,0,87.48,0c15.55,0,25.32-9.72,25.33-25.21q0-87.48,0-175c0-15.83-9.68-25.46-25.59-25.46H595.77c-15.88,0-25.57,9.64-25.58,25.46q0,87.23,0,174.45c0,16.18,9.59,25.7,25.84,25.71Z' transform='translate(-183.1 115.9)'/%3E%3Cpath class='cls-3' d='M683,496.81H596c-16.25,0-25.84-9.53-25.84-25.71q0-87.23,0-174.45c0-15.82,9.7-25.46,25.58-25.46H770.22c15.91,0,25.59,9.63,25.59,25.46q0,87.47,0,175c0,15.49-9.78,25.2-25.33,25.21Q726.74,496.84,683,496.81Z' transform='translate(-183.1 115.9)'/%3E%3C/svg%3E`;case"text":return r=(.1*e).toFixed(2),`data:image/svg+xml,%3Csvg width='${e}' height='${r}' xmlns='http://www.w3.org/2000/svg' viewBox='0 0 528.15 53.64'%3E%3Cdefs%3E%3Cstyle%3E.cls-1%7Bfill:%230052ff;%7D%3C/style%3E%3C/defs%3E%3Ctitle%3ECoinbase_Wordmark_SubBrands_ALL%3C/title%3E%3Cpath class='cls-1' d='M164.45,15a15,15,0,0,0-11.74,5.4V0h-8.64V52.92h8.5V48a15,15,0,0,0,11.88,5.62c10.37,0,18.21-8.21,18.21-19.3S174.67,15,164.45,15Zm-1.3,30.67c-6.19,0-10.73-4.83-10.73-11.31S157,23,163.22,23s10.66,4.82,10.66,11.37S169.34,45.65,163.15,45.65Zm83.31-14.91-6.34-.93c-3-.43-5.18-1.44-5.18-3.82,0-2.59,2.8-3.89,6.62-3.89,4.18,0,6.84,1.8,7.42,4.76h8.35c-.94-7.49-6.7-11.88-15.55-11.88-9.15,0-15.2,4.68-15.2,11.3,0,6.34,4,10,12,11.16l6.33.94c3.1.43,4.83,1.65,4.83,4,0,2.95-3,4.17-7.2,4.17-5.12,0-8-2.09-8.43-5.25h-8.49c.79,7.27,6.48,12.38,16.84,12.38,9.44,0,15.7-4.32,15.7-11.74C258.12,35.28,253.58,31.82,246.46,30.74Zm-27.65-2.3c0-8.06-4.9-13.46-15.27-13.46-9.79,0-15.26,5-16.34,12.6h8.57c.43-3,2.73-5.4,7.63-5.4,4.39,0,6.55,1.94,6.55,4.32,0,3.09-4,3.88-8.85,4.39-6.63.72-14.84,3-14.84,11.66,0,6.7,5,11,12.89,11,6.19,0,10.08-2.59,12-6.7.28,3.67,3,6.05,6.84,6.05h5v-7.7h-4.25Zm-8.5,9.36c0,5-4.32,8.64-9.57,8.64-3.24,0-6-1.37-6-4.25,0-3.67,4.39-4.68,8.42-5.11s6-1.22,7.13-2.88ZM281.09,15c-11.09,0-19.23,8.35-19.23,19.36,0,11.6,8.72,19.3,19.37,19.3,9,0,16.06-5.33,17.86-12.89h-9c-1.3,3.31-4.47,5.19-8.71,5.19-5.55,0-9.72-3.46-10.66-9.51H299.3V33.12C299.3,22.46,291.53,15,281.09,15Zm-9.87,15.26c1.37-5.18,5.26-7.7,9.72-7.7,4.9,0,8.64,2.8,9.51,7.7ZM19.3,23a9.84,9.84,0,0,1,9.5,7h9.14c-1.65-8.93-9-15-18.57-15A19,19,0,0,0,0,34.34c0,11.09,8.28,19.3,19.37,19.3,9.36,0,16.85-6,18.5-15H28.8a9.75,9.75,0,0,1-9.43,7.06c-6.27,0-10.66-4.83-10.66-11.31S13,23,19.3,23Zm41.11-8A19,19,0,0,0,41,34.34c0,11.09,8.28,19.3,19.37,19.3A19,19,0,0,0,79.92,34.27C79.92,23.33,71.64,15,60.41,15Zm.07,30.67c-6.19,0-10.73-4.83-10.73-11.31S54.22,23,60.41,23s10.8,4.89,10.8,11.37S66.67,45.65,60.48,45.65ZM123.41,15c-5.62,0-9.29,2.3-11.45,5.54V15.7h-8.57V52.92H112V32.69C112,27,115.63,23,121,23c5,0,8.06,3.53,8.06,8.64V52.92h8.64V31C137.66,21.6,132.84,15,123.41,15ZM92,.36a5.36,5.36,0,0,0-5.55,5.47,5.55,5.55,0,0,0,11.09,0A5.35,5.35,0,0,0,92,.36Zm-9.72,23h5.4V52.92h8.64V15.7h-14Zm298.17-7.7L366.2,52.92H372L375.29,44H392l3.33,8.88h6L386.87,15.7ZM377,39.23l6.45-17.56h.1l6.56,17.56ZM362.66,15.7l-7.88,29h-.11l-8.14-29H341l-8,28.93h-.1l-8-28.87H319L329.82,53h5.45l8.19-29.24h.11L352,53h5.66L368.1,15.7Zm135.25,0v4.86h12.32V52.92h5.6V20.56h12.32V15.7ZM467.82,52.92h25.54V48.06H473.43v-12h18.35V31.35H473.43V20.56h19.93V15.7H467.82ZM443,15.7h-5.6V52.92h24.32V48.06H443Zm-30.45,0h-5.61V52.92h24.32V48.06H412.52Z'/%3E%3C/svg%3E`;case"textWithLogo":return r=(.25*e).toFixed(2),`data:image/svg+xml,%3Csvg width='${e}' height='${r}' xmlns='http://www.w3.org/2000/svg' viewBox='0 0 308.44 77.61'%3E%3Cdefs%3E%3Cstyle%3E.cls-1%7Bfill:%230052ff;%7D%3C/style%3E%3C/defs%3E%3Cpath class='cls-1' d='M142.94,20.2l-7.88,29H135l-8.15-29h-5.55l-8,28.93h-.11l-8-28.87H99.27l10.84,37.27h5.44l8.2-29.24h.1l8.41,29.24h5.66L148.39,20.2Zm17.82,0L146.48,57.42h5.82l3.28-8.88h16.65l3.34,8.88h6L167.16,20.2Zm-3.44,23.52,6.45-17.55h.11l6.56,17.55ZM278.2,20.2v4.86h12.32V57.42h5.6V25.06h12.32V20.2ZM248.11,57.42h25.54V52.55H253.71V40.61h18.35V35.85H253.71V25.06h19.94V20.2H248.11ZM223.26,20.2h-5.61V57.42H242V52.55H223.26Zm-30.46,0h-5.6V57.42h24.32V52.55H192.8Zm-154,38A19.41,19.41,0,1,1,57.92,35.57H77.47a38.81,38.81,0,1,0,0,6.47H57.92A19.39,19.39,0,0,1,38.81,58.21Z'/%3E%3C/svg%3E`;case"textLight":return r=(.1*e).toFixed(2),`data:image/svg+xml,%3Csvg width='${e}' height='${r}' xmlns='http://www.w3.org/2000/svg' viewBox='0 0 528.15 53.64'%3E%3Cdefs%3E%3Cstyle%3E.cls-1%7Bfill:%23fefefe;%7D%3C/style%3E%3C/defs%3E%3Ctitle%3ECoinbase_Wordmark_SubBrands_ALL%3C/title%3E%3Cpath class='cls-1' d='M164.45,15a15,15,0,0,0-11.74,5.4V0h-8.64V52.92h8.5V48a15,15,0,0,0,11.88,5.62c10.37,0,18.21-8.21,18.21-19.3S174.67,15,164.45,15Zm-1.3,30.67c-6.19,0-10.73-4.83-10.73-11.31S157,23,163.22,23s10.66,4.82,10.66,11.37S169.34,45.65,163.15,45.65Zm83.31-14.91-6.34-.93c-3-.43-5.18-1.44-5.18-3.82,0-2.59,2.8-3.89,6.62-3.89,4.18,0,6.84,1.8,7.42,4.76h8.35c-.94-7.49-6.7-11.88-15.55-11.88-9.15,0-15.2,4.68-15.2,11.3,0,6.34,4,10,12,11.16l6.33.94c3.1.43,4.83,1.65,4.83,4,0,2.95-3,4.17-7.2,4.17-5.12,0-8-2.09-8.43-5.25h-8.49c.79,7.27,6.48,12.38,16.84,12.38,9.44,0,15.7-4.32,15.7-11.74C258.12,35.28,253.58,31.82,246.46,30.74Zm-27.65-2.3c0-8.06-4.9-13.46-15.27-13.46-9.79,0-15.26,5-16.34,12.6h8.57c.43-3,2.73-5.4,7.63-5.4,4.39,0,6.55,1.94,6.55,4.32,0,3.09-4,3.88-8.85,4.39-6.63.72-14.84,3-14.84,11.66,0,6.7,5,11,12.89,11,6.19,0,10.08-2.59,12-6.7.28,3.67,3,6.05,6.84,6.05h5v-7.7h-4.25Zm-8.5,9.36c0,5-4.32,8.64-9.57,8.64-3.24,0-6-1.37-6-4.25,0-3.67,4.39-4.68,8.42-5.11s6-1.22,7.13-2.88ZM281.09,15c-11.09,0-19.23,8.35-19.23,19.36,0,11.6,8.72,19.3,19.37,19.3,9,0,16.06-5.33,17.86-12.89h-9c-1.3,3.31-4.47,5.19-8.71,5.19-5.55,0-9.72-3.46-10.66-9.51H299.3V33.12C299.3,22.46,291.53,15,281.09,15Zm-9.87,15.26c1.37-5.18,5.26-7.7,9.72-7.7,4.9,0,8.64,2.8,9.51,7.7ZM19.3,23a9.84,9.84,0,0,1,9.5,7h9.14c-1.65-8.93-9-15-18.57-15A19,19,0,0,0,0,34.34c0,11.09,8.28,19.3,19.37,19.3,9.36,0,16.85-6,18.5-15H28.8a9.75,9.75,0,0,1-9.43,7.06c-6.27,0-10.66-4.83-10.66-11.31S13,23,19.3,23Zm41.11-8A19,19,0,0,0,41,34.34c0,11.09,8.28,19.3,19.37,19.3A19,19,0,0,0,79.92,34.27C79.92,23.33,71.64,15,60.41,15Zm.07,30.67c-6.19,0-10.73-4.83-10.73-11.31S54.22,23,60.41,23s10.8,4.89,10.8,11.37S66.67,45.65,60.48,45.65ZM123.41,15c-5.62,0-9.29,2.3-11.45,5.54V15.7h-8.57V52.92H112V32.69C112,27,115.63,23,121,23c5,0,8.06,3.53,8.06,8.64V52.92h8.64V31C137.66,21.6,132.84,15,123.41,15ZM92,.36a5.36,5.36,0,0,0-5.55,5.47,5.55,5.55,0,0,0,11.09,0A5.35,5.35,0,0,0,92,.36Zm-9.72,23h5.4V52.92h8.64V15.7h-14Zm298.17-7.7L366.2,52.92H372L375.29,44H392l3.33,8.88h6L386.87,15.7ZM377,39.23l6.45-17.56h.1l6.56,17.56ZM362.66,15.7l-7.88,29h-.11l-8.14-29H341l-8,28.93h-.1l-8-28.87H319L329.82,53h5.45l8.19-29.24h.11L352,53h5.66L368.1,15.7Zm135.25,0v4.86h12.32V52.92h5.6V20.56h12.32V15.7ZM467.82,52.92h25.54V48.06H473.43v-12h18.35V31.35H473.43V20.56h19.93V15.7H467.82ZM443,15.7h-5.6V52.92h24.32V48.06H443Zm-30.45,0h-5.61V52.92h24.32V48.06H412.52Z'/%3E%3C/svg%3E`;case"textWithLogoLight":return r=(.25*e).toFixed(2),`data:image/svg+xml,%3Csvg width='${e}' height='${r}' xmlns='http://www.w3.org/2000/svg' viewBox='0 0 308.44 77.61'%3E%3Cdefs%3E%3Cstyle%3E.cls-1%7Bfill:%23fefefe;%7D%3C/style%3E%3C/defs%3E%3Cpath class='cls-1' d='M142.94,20.2l-7.88,29H135l-8.15-29h-5.55l-8,28.93h-.11l-8-28.87H99.27l10.84,37.27h5.44l8.2-29.24h.1l8.41,29.24h5.66L148.39,20.2Zm17.82,0L146.48,57.42h5.82l3.28-8.88h16.65l3.34,8.88h6L167.16,20.2Zm-3.44,23.52,6.45-17.55h.11l6.56,17.55ZM278.2,20.2v4.86h12.32V57.42h5.6V25.06h12.32V20.2ZM248.11,57.42h25.54V52.55H253.71V40.61h18.35V35.85H253.71V25.06h19.94V20.2H248.11ZM223.26,20.2h-5.61V57.42H242V52.55H223.26Zm-30.46,0h-5.6V57.42h24.32V52.55H192.8Zm-154,38A19.41,19.41,0,1,1,57.92,35.57H77.47a38.81,38.81,0,1,0,0,6.47H57.92A19.39,19.39,0,0,1,38.81,58.21Z'/%3E%3C/svg%3E`;default:return r=e,`data:image/svg+xml,%3Csvg width='${e}' height='${r}' viewBox='0 0 1024 1024' fill='none' xmlns='http://www.w3.org/2000/svg'%3E %3Crect width='1024' height='1024' fill='%230052FF'/%3E %3Cpath fill-rule='evenodd' clip-rule='evenodd' d='M152 512C152 710.823 313.177 872 512 872C710.823 872 872 710.823 872 512C872 313.177 710.823 152 512 152C313.177 152 152 313.177 152 512ZM420 396C406.745 396 396 406.745 396 420V604C396 617.255 406.745 628 420 628H604C617.255 628 628 617.255 628 604V420C628 406.745 617.255 396 604 396H420Z' fill='white'/%3E %3C/svg%3E `}};ds.walletLogo=rd;var ps={};Object.defineProperty(ps,"__esModule",{value:!0});ps.ScopedLocalStorage=void 0;class nd{constructor(e){this.scope=e}setItem(e,r){localStorage.setItem(this.scopedKey(e),r)}getItem(e){return localStorage.getItem(this.scopedKey(e))}removeItem(e){localStorage.removeItem(this.scopedKey(e))}clear(){const e=this.scopedKey(""),r=[];for(let n=0;n<localStorage.length;n++){const i=localStorage.key(n);typeof i=="string"&&i.startsWith(e)&&r.push(i)}r.forEach(n=>localStorage.removeItem(n))}scopedKey(e){return`${this.scope}:${e}`}}ps.ScopedLocalStorage=nd;var dn={},Cn={};Object.defineProperty(Cn,"__esModule",{value:!0});const id=ls.exports;function dc(t,e,r){try{Reflect.apply(t,e,r)}catch(n){setTimeout(()=>{throw n})}}function sd(t){const e=t.length,r=new Array(e);for(let n=0;n<e;n+=1)r[n]=t[n];return r}class od extends id.EventEmitter{emit(e,...r){let n=e==="error";const i=this._events;if(i!==void 0)n=n&&i.error===void 0;else if(!n)return!1;if(n){let o;if(r.length>0&&([o]=r),o instanceof Error)throw o;const c=new Error(`Unhandled error.${o?` (${o.message})`:""}`);throw c.context=o,c}const s=i[e];if(s===void 0)return!1;if(typeof s=="function")dc(s,this,r);else{const o=s.length,c=sd(s);for(let l=0;l<o;l+=1)dc(c[l],this,r)}return!0}}Cn.default=od;var ui={exports:{}};(function(t){(function(e,r){function n(_,a){if(!_)throw new Error(a||"Assertion failed")}function i(_,a){_.super_=a;var f=function(){};f.prototype=a.prototype,_.prototype=new f,_.prototype.constructor=_}function s(_,a,f){if(s.isBN(_))return _;this.negative=0,this.words=null,this.length=0,this.red=null,_!==null&&((a==="le"||a==="be")&&(f=a,a=10),this._init(_||0,a||10,f||"be"))}typeof e=="object"?e.exports=s:r.BN=s,s.BN=s,s.wordSize=26;var o;try{typeof window<"u"&&typeof window.Buffer<"u"?o=window.Buffer:o=fs.Buffer}catch{}s.isBN=function(a){return a instanceof s?!0:a!==null&&typeof a=="object"&&a.constructor.wordSize===s.wordSize&&Array.isArray(a.words)},s.max=function(a,f){return a.cmp(f)>0?a:f},s.min=function(a,f){return a.cmp(f)<0?a:f},s.prototype._init=function(a,f,p){if(typeof a=="number")return this._initNumber(a,f,p);if(typeof a=="object")return this._initArray(a,f,p);f==="hex"&&(f=16),n(f===(f|0)&&f>=2&&f<=36),a=a.toString().replace(/\s+/g,"");var b=0;a[0]==="-"&&(b++,this.negative=1),b<a.length&&(f===16?this._parseHex(a,b,p):(this._parseBase(a,f,b),p==="le"&&this._initArray(this.toArray(),f,p)))},s.prototype._initNumber=function(a,f,p){a<0&&(this.negative=1,a=-a),a<67108864?(this.words=[a&67108863],this.length=1):a<4503599627370496?(this.words=[a&67108863,a/67108864&67108863],this.length=2):(n(a<9007199254740992),this.words=[a&67108863,a/67108864&67108863,1],this.length=3),p==="le"&&this._initArray(this.toArray(),f,p)},s.prototype._initArray=function(a,f,p){if(n(typeof a.length=="number"),a.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(a.length/3),this.words=new Array(this.length);for(var b=0;b<this.length;b++)this.words[b]=0;var v,k,T=0;if(p==="be")for(b=a.length-1,v=0;b>=0;b-=3)k=a[b]|a[b-1]<<8|a[b-2]<<16,this.words[v]|=k<<T&67108863,this.words[v+1]=k>>>26-T&67108863,T+=24,T>=26&&(T-=26,v++);else if(p==="le")for(b=0,v=0;b<a.length;b+=3)k=a[b]|a[b+1]<<8|a[b+2]<<16,this.words[v]|=k<<T&67108863,this.words[v+1]=k>>>26-T&67108863,T+=24,T>=26&&(T-=26,v++);return this._strip()};function c(_,a){var f=_.charCodeAt(a);if(f>=48&&f<=57)return f-48;if(f>=65&&f<=70)return f-55;if(f>=97&&f<=102)return f-87;n(!1,"Invalid character in "+_)}function l(_,a,f){var p=c(_,f);return f-1>=a&&(p|=c(_,f-1)<<4),p}s.prototype._parseHex=function(a,f,p){this.length=Math.ceil((a.length-f)/6),this.words=new Array(this.length);for(var b=0;b<this.length;b++)this.words[b]=0;var v=0,k=0,T;if(p==="be")for(b=a.length-1;b>=f;b-=2)T=l(a,f,b)<<v,this.words[k]|=T&67108863,v>=18?(v-=18,k+=1,this.words[k]|=T>>>26):v+=8;else{var S=a.length-f;for(b=S%2===0?f+1:f;b<a.length;b+=2)T=l(a,f,b)<<v,this.words[k]|=T&67108863,v>=18?(v-=18,k+=1,this.words[k]|=T>>>26):v+=8}this._strip()};function h(_,a,f,p){for(var b=0,v=0,k=Math.min(_.length,f),T=a;T<k;T++){var S=_.charCodeAt(T)-48;b*=p,S>=49?v=S-49+10:S>=17?v=S-17+10:v=S,n(S>=0&&v<p,"Invalid character"),b+=v}return b}s.prototype._parseBase=function(a,f,p){this.words=[0],this.length=1;for(var b=0,v=1;v<=67108863;v*=f)b++;b--,v=v/f|0;for(var k=a.length-p,T=k%b,S=Math.min(k,k-T)+p,u=0,g=p;g<S;g+=b)u=h(a,g,g+b,f),this.imuln(v),this.words[0]+u<67108864?this.words[0]+=u:this._iaddn(u);if(T!==0){var D=1;for(u=h(a,g,a.length,f),g=0;g<T;g++)D*=f;this.imuln(D),this.words[0]+u<67108864?this.words[0]+=u:this._iaddn(u)}this._strip()},s.prototype.copy=function(a){a.words=new Array(this.length);for(var f=0;f<this.length;f++)a.words[f]=this.words[f];a.length=this.length,a.negative=this.negative,a.red=this.red};function d(_,a){_.words=a.words,_.length=a.length,_.negative=a.negative,_.red=a.red}if(s.prototype._move=function(a){d(a,this)},s.prototype.clone=function(){var a=new s(null);return this.copy(a),a},s.prototype._expand=function(a){for(;this.length<a;)this.words[this.length++]=0;return this},s.prototype._strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},s.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},typeof Symbol<"u"&&typeof Symbol.for=="function")try{s.prototype[Symbol.for("nodejs.util.inspect.custom")]=C}catch{s.prototype.inspect=C}else s.prototype.inspect=C;function C(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"}var m=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],x=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],A=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];s.prototype.toString=function(a,f){a=a||10,f=f|0||1;var p;if(a===16||a==="hex"){p="";for(var b=0,v=0,k=0;k<this.length;k++){var T=this.words[k],S=((T<<b|v)&16777215).toString(16);v=T>>>24-b&16777215,b+=2,b>=26&&(b-=26,k--),v!==0||k!==this.length-1?p=m[6-S.length]+S+p:p=S+p}for(v!==0&&(p=v.toString(16)+p);p.length%f!==0;)p="0"+p;return this.negative!==0&&(p="-"+p),p}if(a===(a|0)&&a>=2&&a<=36){var u=x[a],g=A[a];p="";var D=this.clone();for(D.negative=0;!D.isZero();){var j=D.modrn(g).toString(a);D=D.idivn(g),D.isZero()?p=j+p:p=m[u-j.length]+j+p}for(this.isZero()&&(p="0"+p);p.length%f!==0;)p="0"+p;return this.negative!==0&&(p="-"+p),p}n(!1,"Base should be between 2 and 36")},s.prototype.toNumber=function(){var a=this.words[0];return this.length===2?a+=this.words[1]*67108864:this.length===3&&this.words[2]===1?a+=4503599627370496+this.words[1]*67108864:this.length>2&&n(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-a:a},s.prototype.toJSON=function(){return this.toString(16,2)},o&&(s.prototype.toBuffer=function(a,f){return this.toArrayLike(o,a,f)}),s.prototype.toArray=function(a,f){return this.toArrayLike(Array,a,f)};var P=function(a,f){return a.allocUnsafe?a.allocUnsafe(f):new a(f)};s.prototype.toArrayLike=function(a,f,p){this._strip();var b=this.byteLength(),v=p||Math.max(1,b);n(b<=v,"byte array longer than desired length"),n(v>0,"Requested array length <= 0");var k=P(a,v),T=f==="le"?"LE":"BE";return this["_toArrayLike"+T](k,b),k},s.prototype._toArrayLikeLE=function(a,f){for(var p=0,b=0,v=0,k=0;v<this.length;v++){var T=this.words[v]<<k|b;a[p++]=T&255,p<a.length&&(a[p++]=T>>8&255),p<a.length&&(a[p++]=T>>16&255),k===6?(p<a.length&&(a[p++]=T>>24&255),b=0,k=0):(b=T>>>24,k+=2)}if(p<a.length)for(a[p++]=b;p<a.length;)a[p++]=0},s.prototype._toArrayLikeBE=function(a,f){for(var p=a.length-1,b=0,v=0,k=0;v<this.length;v++){var T=this.words[v]<<k|b;a[p--]=T&255,p>=0&&(a[p--]=T>>8&255),p>=0&&(a[p--]=T>>16&255),k===6?(p>=0&&(a[p--]=T>>24&255),b=0,k=0):(b=T>>>24,k+=2)}if(p>=0)for(a[p--]=b;p>=0;)a[p--]=0},Math.clz32?s.prototype._countBits=function(a){return 32-Math.clz32(a)}:s.prototype._countBits=function(a){var f=a,p=0;return f>=4096&&(p+=13,f>>>=13),f>=64&&(p+=7,f>>>=7),f>=8&&(p+=4,f>>>=4),f>=2&&(p+=2,f>>>=2),p+f},s.prototype._zeroBits=function(a){if(a===0)return 26;var f=a,p=0;return(f&8191)===0&&(p+=13,f>>>=13),(f&127)===0&&(p+=7,f>>>=7),(f&15)===0&&(p+=4,f>>>=4),(f&3)===0&&(p+=2,f>>>=2),(f&1)===0&&p++,p},s.prototype.bitLength=function(){var a=this.words[this.length-1],f=this._countBits(a);return(this.length-1)*26+f};function L(_){for(var a=new Array(_.bitLength()),f=0;f<a.length;f++){var p=f/26|0,b=f%26;a[f]=_.words[p]>>>b&1}return a}s.prototype.zeroBits=function(){if(this.isZero())return 0;for(var a=0,f=0;f<this.length;f++){var p=this._zeroBits(this.words[f]);if(a+=p,p!==26)break}return a},s.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},s.prototype.toTwos=function(a){return this.negative!==0?this.abs().inotn(a).iaddn(1):this.clone()},s.prototype.fromTwos=function(a){return this.testn(a-1)?this.notn(a).iaddn(1).ineg():this.clone()},s.prototype.isNeg=function(){return this.negative!==0},s.prototype.neg=function(){return this.clone().ineg()},s.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},s.prototype.iuor=function(a){for(;this.length<a.length;)this.words[this.length++]=0;for(var f=0;f<a.length;f++)this.words[f]=this.words[f]|a.words[f];return this._strip()},s.prototype.ior=function(a){return n((this.negative|a.negative)===0),this.iuor(a)},s.prototype.or=function(a){return this.length>a.length?this.clone().ior(a):a.clone().ior(this)},s.prototype.uor=function(a){return this.length>a.length?this.clone().iuor(a):a.clone().iuor(this)},s.prototype.iuand=function(a){var f;this.length>a.length?f=a:f=this;for(var p=0;p<f.length;p++)this.words[p]=this.words[p]&a.words[p];return this.length=f.length,this._strip()},s.prototype.iand=function(a){return n((this.negative|a.negative)===0),this.iuand(a)},s.prototype.and=function(a){return this.length>a.length?this.clone().iand(a):a.clone().iand(this)},s.prototype.uand=function(a){return this.length>a.length?this.clone().iuand(a):a.clone().iuand(this)},s.prototype.iuxor=function(a){var f,p;this.length>a.length?(f=this,p=a):(f=a,p=this);for(var b=0;b<p.length;b++)this.words[b]=f.words[b]^p.words[b];if(this!==f)for(;b<f.length;b++)this.words[b]=f.words[b];return this.length=f.length,this._strip()},s.prototype.ixor=function(a){return n((this.negative|a.negative)===0),this.iuxor(a)},s.prototype.xor=function(a){return this.length>a.length?this.clone().ixor(a):a.clone().ixor(this)},s.prototype.uxor=function(a){return this.length>a.length?this.clone().iuxor(a):a.clone().iuxor(this)},s.prototype.inotn=function(a){n(typeof a=="number"&&a>=0);var f=Math.ceil(a/26)|0,p=a%26;this._expand(f),p>0&&f--;for(var b=0;b<f;b++)this.words[b]=~this.words[b]&67108863;return p>0&&(this.words[b]=~this.words[b]&67108863>>26-p),this._strip()},s.prototype.notn=function(a){return this.clone().inotn(a)},s.prototype.setn=function(a,f){n(typeof a=="number"&&a>=0);var p=a/26|0,b=a%26;return this._expand(p+1),f?this.words[p]=this.words[p]|1<<b:this.words[p]=this.words[p]&~(1<<b),this._strip()},s.prototype.iadd=function(a){var f;if(this.negative!==0&&a.negative===0)return this.negative=0,f=this.isub(a),this.negative^=1,this._normSign();if(this.negative===0&&a.negative!==0)return a.negative=0,f=this.isub(a),a.negative=1,f._normSign();var p,b;this.length>a.length?(p=this,b=a):(p=a,b=this);for(var v=0,k=0;k<b.length;k++)f=(p.words[k]|0)+(b.words[k]|0)+v,this.words[k]=f&67108863,v=f>>>26;for(;v!==0&&k<p.length;k++)f=(p.words[k]|0)+v,this.words[k]=f&67108863,v=f>>>26;if(this.length=p.length,v!==0)this.words[this.length]=v,this.length++;else if(p!==this)for(;k<p.length;k++)this.words[k]=p.words[k];return this},s.prototype.add=function(a){var f;return a.negative!==0&&this.negative===0?(a.negative=0,f=this.sub(a),a.negative^=1,f):a.negative===0&&this.negative!==0?(this.negative=0,f=a.sub(this),this.negative=1,f):this.length>a.length?this.clone().iadd(a):a.clone().iadd(this)},s.prototype.isub=function(a){if(a.negative!==0){a.negative=0;var f=this.iadd(a);return a.negative=1,f._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(a),this.negative=1,this._normSign();var p=this.cmp(a);if(p===0)return this.negative=0,this.length=1,this.words[0]=0,this;var b,v;p>0?(b=this,v=a):(b=a,v=this);for(var k=0,T=0;T<v.length;T++)f=(b.words[T]|0)-(v.words[T]|0)+k,k=f>>26,this.words[T]=f&67108863;for(;k!==0&&T<b.length;T++)f=(b.words[T]|0)+k,k=f>>26,this.words[T]=f&67108863;if(k===0&&T<b.length&&b!==this)for(;T<b.length;T++)this.words[T]=b.words[T];return this.length=Math.max(this.length,T),b!==this&&(this.negative=1),this._strip()},s.prototype.sub=function(a){return this.clone().isub(a)};function E(_,a,f){f.negative=a.negative^_.negative;var p=_.length+a.length|0;f.length=p,p=p-1|0;var b=_.words[0]|0,v=a.words[0]|0,k=b*v,T=k&67108863,S=k/67108864|0;f.words[0]=T;for(var u=1;u<p;u++){for(var g=S>>>26,D=S&67108863,j=Math.min(u,a.length-1),M=Math.max(0,u-_.length+1);M<=j;M++){var R=u-M|0;b=_.words[R]|0,v=a.words[M]|0,k=b*v+D,g+=k/67108864|0,D=k&67108863}f.words[u]=D|0,S=g|0}return S!==0?f.words[u]=S|0:f.length--,f._strip()}var I=function(a,f,p){var b=a.words,v=f.words,k=p.words,T=0,S,u,g,D=b[0]|0,j=D&8191,M=D>>>13,R=b[1]|0,N=R&8191,F=R>>>13,G=b[2]|0,y=G&8191,w=G>>>13,$=b[3]|0,H=$&8191,re=$>>>13,ne=b[4]|0,te=ne&8191,de=ne>>>13,B=b[5]|0,be=B&8191,ye=B>>>13,Qt=b[6]|0,ve=Qt&8191,me=Qt>>>13,Wt=b[7]|0,ge=Wt&8191,pe=Wt>>>13,gt=b[8]|0,we=gt&8191,Se=gt>>>13,Wr=b[9]|0,Ee=Wr&8191,ke=Wr>>>13,Hr=v[0]|0,xe=Hr&8191,Me=Hr>>>13,Vr=v[1]|0,Ce=Vr&8191,Ae=Vr>>>13,qr=v[2]|0,Re=qr&8191,Ie=qr>>>13,zr=v[3]|0,Te=zr&8191,Oe=zr>>>13,Gr=v[4]|0,Ne=Gr&8191,De=Gr>>>13,Zr=v[5]|0,Pe=Zr&8191,Le=Zr>>>13,Kr=v[6]|0,je=Kr&8191,Be=Kr>>>13,Qr=v[7]|0,Fe=Qr&8191,Ue=Qr>>>13,Yr=v[8]|0,$e=Yr&8191,We=Yr>>>13,Jr=v[9]|0,He=Jr&8191,Ve=Jr>>>13;p.negative=a.negative^f.negative,p.length=19,S=Math.imul(j,xe),u=Math.imul(j,Me),u=u+Math.imul(M,xe)|0,g=Math.imul(M,Me);var dr=(T+S|0)+((u&8191)<<13)|0;T=(g+(u>>>13)|0)+(dr>>>26)|0,dr&=67108863,S=Math.imul(N,xe),u=Math.imul(N,Me),u=u+Math.imul(F,xe)|0,g=Math.imul(F,Me),S=S+Math.imul(j,Ce)|0,u=u+Math.imul(j,Ae)|0,u=u+Math.imul(M,Ce)|0,g=g+Math.imul(M,Ae)|0;var pr=(T+S|0)+((u&8191)<<13)|0;T=(g+(u>>>13)|0)+(pr>>>26)|0,pr&=67108863,S=Math.imul(y,xe),u=Math.imul(y,Me),u=u+Math.imul(w,xe)|0,g=Math.imul(w,Me),S=S+Math.imul(N,Ce)|0,u=u+Math.imul(N,Ae)|0,u=u+Math.imul(F,Ce)|0,g=g+Math.imul(F,Ae)|0,S=S+Math.imul(j,Re)|0,u=u+Math.imul(j,Ie)|0,u=u+Math.imul(M,Re)|0,g=g+Math.imul(M,Ie)|0;var _r=(T+S|0)+((u&8191)<<13)|0;T=(g+(u>>>13)|0)+(_r>>>26)|0,_r&=67108863,S=Math.imul(H,xe),u=Math.imul(H,Me),u=u+Math.imul(re,xe)|0,g=Math.imul(re,Me),S=S+Math.imul(y,Ce)|0,u=u+Math.imul(y,Ae)|0,u=u+Math.imul(w,Ce)|0,g=g+Math.imul(w,Ae)|0,S=S+Math.imul(N,Re)|0,u=u+Math.imul(N,Ie)|0,u=u+Math.imul(F,Re)|0,g=g+Math.imul(F,Ie)|0,S=S+Math.imul(j,Te)|0,u=u+Math.imul(j,Oe)|0,u=u+Math.imul(M,Te)|0,g=g+Math.imul(M,Oe)|0;var gr=(T+S|0)+((u&8191)<<13)|0;T=(g+(u>>>13)|0)+(gr>>>26)|0,gr&=67108863,S=Math.imul(te,xe),u=Math.imul(te,Me),u=u+Math.imul(de,xe)|0,g=Math.imul(de,Me),S=S+Math.imul(H,Ce)|0,u=u+Math.imul(H,Ae)|0,u=u+Math.imul(re,Ce)|0,g=g+Math.imul(re,Ae)|0,S=S+Math.imul(y,Re)|0,u=u+Math.imul(y,Ie)|0,u=u+Math.imul(w,Re)|0,g=g+Math.imul(w,Ie)|0,S=S+Math.imul(N,Te)|0,u=u+Math.imul(N,Oe)|0,u=u+Math.imul(F,Te)|0,g=g+Math.imul(F,Oe)|0,S=S+Math.imul(j,Ne)|0,u=u+Math.imul(j,De)|0,u=u+Math.imul(M,Ne)|0,g=g+Math.imul(M,De)|0;var br=(T+S|0)+((u&8191)<<13)|0;T=(g+(u>>>13)|0)+(br>>>26)|0,br&=67108863,S=Math.imul(be,xe),u=Math.imul(be,Me),u=u+Math.imul(ye,xe)|0,g=Math.imul(ye,Me),S=S+Math.imul(te,Ce)|0,u=u+Math.imul(te,Ae)|0,u=u+Math.imul(de,Ce)|0,g=g+Math.imul(de,Ae)|0,S=S+Math.imul(H,Re)|0,u=u+Math.imul(H,Ie)|0,u=u+Math.imul(re,Re)|0,g=g+Math.imul(re,Ie)|0,S=S+Math.imul(y,Te)|0,u=u+Math.imul(y,Oe)|0,u=u+Math.imul(w,Te)|0,g=g+Math.imul(w,Oe)|0,S=S+Math.imul(N,Ne)|0,u=u+Math.imul(N,De)|0,u=u+Math.imul(F,Ne)|0,g=g+Math.imul(F,De)|0,S=S+Math.imul(j,Pe)|0,u=u+Math.imul(j,Le)|0,u=u+Math.imul(M,Pe)|0,g=g+Math.imul(M,Le)|0;var vr=(T+S|0)+((u&8191)<<13)|0;T=(g+(u>>>13)|0)+(vr>>>26)|0,vr&=67108863,S=Math.imul(ve,xe),u=Math.imul(ve,Me),u=u+Math.imul(me,xe)|0,g=Math.imul(me,Me),S=S+Math.imul(be,Ce)|0,u=u+Math.imul(be,Ae)|0,u=u+Math.imul(ye,Ce)|0,g=g+Math.imul(ye,Ae)|0,S=S+Math.imul(te,Re)|0,u=u+Math.imul(te,Ie)|0,u=u+Math.imul(de,Re)|0,g=g+Math.imul(de,Ie)|0,S=S+Math.imul(H,Te)|0,u=u+Math.imul(H,Oe)|0,u=u+Math.imul(re,Te)|0,g=g+Math.imul(re,Oe)|0,S=S+Math.imul(y,Ne)|0,u=u+Math.imul(y,De)|0,u=u+Math.imul(w,Ne)|0,g=g+Math.imul(w,De)|0,S=S+Math.imul(N,Pe)|0,u=u+Math.imul(N,Le)|0,u=u+Math.imul(F,Pe)|0,g=g+Math.imul(F,Le)|0,S=S+Math.imul(j,je)|0,u=u+Math.imul(j,Be)|0,u=u+Math.imul(M,je)|0,g=g+Math.imul(M,Be)|0;var mr=(T+S|0)+((u&8191)<<13)|0;T=(g+(u>>>13)|0)+(mr>>>26)|0,mr&=67108863,S=Math.imul(ge,xe),u=Math.imul(ge,Me),u=u+Math.imul(pe,xe)|0,g=Math.imul(pe,Me),S=S+Math.imul(ve,Ce)|0,u=u+Math.imul(ve,Ae)|0,u=u+Math.imul(me,Ce)|0,g=g+Math.imul(me,Ae)|0,S=S+Math.imul(be,Re)|0,u=u+Math.imul(be,Ie)|0,u=u+Math.imul(ye,Re)|0,g=g+Math.imul(ye,Ie)|0,S=S+Math.imul(te,Te)|0,u=u+Math.imul(te,Oe)|0,u=u+Math.imul(de,Te)|0,g=g+Math.imul(de,Oe)|0,S=S+Math.imul(H,Ne)|0,u=u+Math.imul(H,De)|0,u=u+Math.imul(re,Ne)|0,g=g+Math.imul(re,De)|0,S=S+Math.imul(y,Pe)|0,u=u+Math.imul(y,Le)|0,u=u+Math.imul(w,Pe)|0,g=g+Math.imul(w,Le)|0,S=S+Math.imul(N,je)|0,u=u+Math.imul(N,Be)|0,u=u+Math.imul(F,je)|0,g=g+Math.imul(F,Be)|0,S=S+Math.imul(j,Fe)|0,u=u+Math.imul(j,Ue)|0,u=u+Math.imul(M,Fe)|0,g=g+Math.imul(M,Ue)|0;var yr=(T+S|0)+((u&8191)<<13)|0;T=(g+(u>>>13)|0)+(yr>>>26)|0,yr&=67108863,S=Math.imul(we,xe),u=Math.imul(we,Me),u=u+Math.imul(Se,xe)|0,g=Math.imul(Se,Me),S=S+Math.imul(ge,Ce)|0,u=u+Math.imul(ge,Ae)|0,u=u+Math.imul(pe,Ce)|0,g=g+Math.imul(pe,Ae)|0,S=S+Math.imul(ve,Re)|0,u=u+Math.imul(ve,Ie)|0,u=u+Math.imul(me,Re)|0,g=g+Math.imul(me,Ie)|0,S=S+Math.imul(be,Te)|0,u=u+Math.imul(be,Oe)|0,u=u+Math.imul(ye,Te)|0,g=g+Math.imul(ye,Oe)|0,S=S+Math.imul(te,Ne)|0,u=u+Math.imul(te,De)|0,u=u+Math.imul(de,Ne)|0,g=g+Math.imul(de,De)|0,S=S+Math.imul(H,Pe)|0,u=u+Math.imul(H,Le)|0,u=u+Math.imul(re,Pe)|0,g=g+Math.imul(re,Le)|0,S=S+Math.imul(y,je)|0,u=u+Math.imul(y,Be)|0,u=u+Math.imul(w,je)|0,g=g+Math.imul(w,Be)|0,S=S+Math.imul(N,Fe)|0,u=u+Math.imul(N,Ue)|0,u=u+Math.imul(F,Fe)|0,g=g+Math.imul(F,Ue)|0,S=S+Math.imul(j,$e)|0,u=u+Math.imul(j,We)|0,u=u+Math.imul(M,$e)|0,g=g+Math.imul(M,We)|0;var wr=(T+S|0)+((u&8191)<<13)|0;T=(g+(u>>>13)|0)+(wr>>>26)|0,wr&=67108863,S=Math.imul(Ee,xe),u=Math.imul(Ee,Me),u=u+Math.imul(ke,xe)|0,g=Math.imul(ke,Me),S=S+Math.imul(we,Ce)|0,u=u+Math.imul(we,Ae)|0,u=u+Math.imul(Se,Ce)|0,g=g+Math.imul(Se,Ae)|0,S=S+Math.imul(ge,Re)|0,u=u+Math.imul(ge,Ie)|0,u=u+Math.imul(pe,Re)|0,g=g+Math.imul(pe,Ie)|0,S=S+Math.imul(ve,Te)|0,u=u+Math.imul(ve,Oe)|0,u=u+Math.imul(me,Te)|0,g=g+Math.imul(me,Oe)|0,S=S+Math.imul(be,Ne)|0,u=u+Math.imul(be,De)|0,u=u+Math.imul(ye,Ne)|0,g=g+Math.imul(ye,De)|0,S=S+Math.imul(te,Pe)|0,u=u+Math.imul(te,Le)|0,u=u+Math.imul(de,Pe)|0,g=g+Math.imul(de,Le)|0,S=S+Math.imul(H,je)|0,u=u+Math.imul(H,Be)|0,u=u+Math.imul(re,je)|0,g=g+Math.imul(re,Be)|0,S=S+Math.imul(y,Fe)|0,u=u+Math.imul(y,Ue)|0,u=u+Math.imul(w,Fe)|0,g=g+Math.imul(w,Ue)|0,S=S+Math.imul(N,$e)|0,u=u+Math.imul(N,We)|0,u=u+Math.imul(F,$e)|0,g=g+Math.imul(F,We)|0,S=S+Math.imul(j,He)|0,u=u+Math.imul(j,Ve)|0,u=u+Math.imul(M,He)|0,g=g+Math.imul(M,Ve)|0;var Sr=(T+S|0)+((u&8191)<<13)|0;T=(g+(u>>>13)|0)+(Sr>>>26)|0,Sr&=67108863,S=Math.imul(Ee,Ce),u=Math.imul(Ee,Ae),u=u+Math.imul(ke,Ce)|0,g=Math.imul(ke,Ae),S=S+Math.imul(we,Re)|0,u=u+Math.imul(we,Ie)|0,u=u+Math.imul(Se,Re)|0,g=g+Math.imul(Se,Ie)|0,S=S+Math.imul(ge,Te)|0,u=u+Math.imul(ge,Oe)|0,u=u+Math.imul(pe,Te)|0,g=g+Math.imul(pe,Oe)|0,S=S+Math.imul(ve,Ne)|0,u=u+Math.imul(ve,De)|0,u=u+Math.imul(me,Ne)|0,g=g+Math.imul(me,De)|0,S=S+Math.imul(be,Pe)|0,u=u+Math.imul(be,Le)|0,u=u+Math.imul(ye,Pe)|0,g=g+Math.imul(ye,Le)|0,S=S+Math.imul(te,je)|0,u=u+Math.imul(te,Be)|0,u=u+Math.imul(de,je)|0,g=g+Math.imul(de,Be)|0,S=S+Math.imul(H,Fe)|0,u=u+Math.imul(H,Ue)|0,u=u+Math.imul(re,Fe)|0,g=g+Math.imul(re,Ue)|0,S=S+Math.imul(y,$e)|0,u=u+Math.imul(y,We)|0,u=u+Math.imul(w,$e)|0,g=g+Math.imul(w,We)|0,S=S+Math.imul(N,He)|0,u=u+Math.imul(N,Ve)|0,u=u+Math.imul(F,He)|0,g=g+Math.imul(F,Ve)|0;var Er=(T+S|0)+((u&8191)<<13)|0;T=(g+(u>>>13)|0)+(Er>>>26)|0,Er&=67108863,S=Math.imul(Ee,Re),u=Math.imul(Ee,Ie),u=u+Math.imul(ke,Re)|0,g=Math.imul(ke,Ie),S=S+Math.imul(we,Te)|0,u=u+Math.imul(we,Oe)|0,u=u+Math.imul(Se,Te)|0,g=g+Math.imul(Se,Oe)|0,S=S+Math.imul(ge,Ne)|0,u=u+Math.imul(ge,De)|0,u=u+Math.imul(pe,Ne)|0,g=g+Math.imul(pe,De)|0,S=S+Math.imul(ve,Pe)|0,u=u+Math.imul(ve,Le)|0,u=u+Math.imul(me,Pe)|0,g=g+Math.imul(me,Le)|0,S=S+Math.imul(be,je)|0,u=u+Math.imul(be,Be)|0,u=u+Math.imul(ye,je)|0,g=g+Math.imul(ye,Be)|0,S=S+Math.imul(te,Fe)|0,u=u+Math.imul(te,Ue)|0,u=u+Math.imul(de,Fe)|0,g=g+Math.imul(de,Ue)|0,S=S+Math.imul(H,$e)|0,u=u+Math.imul(H,We)|0,u=u+Math.imul(re,$e)|0,g=g+Math.imul(re,We)|0,S=S+Math.imul(y,He)|0,u=u+Math.imul(y,Ve)|0,u=u+Math.imul(w,He)|0,g=g+Math.imul(w,Ve)|0;var kr=(T+S|0)+((u&8191)<<13)|0;T=(g+(u>>>13)|0)+(kr>>>26)|0,kr&=67108863,S=Math.imul(Ee,Te),u=Math.imul(Ee,Oe),u=u+Math.imul(ke,Te)|0,g=Math.imul(ke,Oe),S=S+Math.imul(we,Ne)|0,u=u+Math.imul(we,De)|0,u=u+Math.imul(Se,Ne)|0,g=g+Math.imul(Se,De)|0,S=S+Math.imul(ge,Pe)|0,u=u+Math.imul(ge,Le)|0,u=u+Math.imul(pe,Pe)|0,g=g+Math.imul(pe,Le)|0,S=S+Math.imul(ve,je)|0,u=u+Math.imul(ve,Be)|0,u=u+Math.imul(me,je)|0,g=g+Math.imul(me,Be)|0,S=S+Math.imul(be,Fe)|0,u=u+Math.imul(be,Ue)|0,u=u+Math.imul(ye,Fe)|0,g=g+Math.imul(ye,Ue)|0,S=S+Math.imul(te,$e)|0,u=u+Math.imul(te,We)|0,u=u+Math.imul(de,$e)|0,g=g+Math.imul(de,We)|0,S=S+Math.imul(H,He)|0,u=u+Math.imul(H,Ve)|0,u=u+Math.imul(re,He)|0,g=g+Math.imul(re,Ve)|0;var xr=(T+S|0)+((u&8191)<<13)|0;T=(g+(u>>>13)|0)+(xr>>>26)|0,xr&=67108863,S=Math.imul(Ee,Ne),u=Math.imul(Ee,De),u=u+Math.imul(ke,Ne)|0,g=Math.imul(ke,De),S=S+Math.imul(we,Pe)|0,u=u+Math.imul(we,Le)|0,u=u+Math.imul(Se,Pe)|0,g=g+Math.imul(Se,Le)|0,S=S+Math.imul(ge,je)|0,u=u+Math.imul(ge,Be)|0,u=u+Math.imul(pe,je)|0,g=g+Math.imul(pe,Be)|0,S=S+Math.imul(ve,Fe)|0,u=u+Math.imul(ve,Ue)|0,u=u+Math.imul(me,Fe)|0,g=g+Math.imul(me,Ue)|0,S=S+Math.imul(be,$e)|0,u=u+Math.imul(be,We)|0,u=u+Math.imul(ye,$e)|0,g=g+Math.imul(ye,We)|0,S=S+Math.imul(te,He)|0,u=u+Math.imul(te,Ve)|0,u=u+Math.imul(de,He)|0,g=g+Math.imul(de,Ve)|0;var Mr=(T+S|0)+((u&8191)<<13)|0;T=(g+(u>>>13)|0)+(Mr>>>26)|0,Mr&=67108863,S=Math.imul(Ee,Pe),u=Math.imul(Ee,Le),u=u+Math.imul(ke,Pe)|0,g=Math.imul(ke,Le),S=S+Math.imul(we,je)|0,u=u+Math.imul(we,Be)|0,u=u+Math.imul(Se,je)|0,g=g+Math.imul(Se,Be)|0,S=S+Math.imul(ge,Fe)|0,u=u+Math.imul(ge,Ue)|0,u=u+Math.imul(pe,Fe)|0,g=g+Math.imul(pe,Ue)|0,S=S+Math.imul(ve,$e)|0,u=u+Math.imul(ve,We)|0,u=u+Math.imul(me,$e)|0,g=g+Math.imul(me,We)|0,S=S+Math.imul(be,He)|0,u=u+Math.imul(be,Ve)|0,u=u+Math.imul(ye,He)|0,g=g+Math.imul(ye,Ve)|0;var io=(T+S|0)+((u&8191)<<13)|0;T=(g+(u>>>13)|0)+(io>>>26)|0,io&=67108863,S=Math.imul(Ee,je),u=Math.imul(Ee,Be),u=u+Math.imul(ke,je)|0,g=Math.imul(ke,Be),S=S+Math.imul(we,Fe)|0,u=u+Math.imul(we,Ue)|0,u=u+Math.imul(Se,Fe)|0,g=g+Math.imul(Se,Ue)|0,S=S+Math.imul(ge,$e)|0,u=u+Math.imul(ge,We)|0,u=u+Math.imul(pe,$e)|0,g=g+Math.imul(pe,We)|0,S=S+Math.imul(ve,He)|0,u=u+Math.imul(ve,Ve)|0,u=u+Math.imul(me,He)|0,g=g+Math.imul(me,Ve)|0;var so=(T+S|0)+((u&8191)<<13)|0;T=(g+(u>>>13)|0)+(so>>>26)|0,so&=67108863,S=Math.imul(Ee,Fe),u=Math.imul(Ee,Ue),u=u+Math.imul(ke,Fe)|0,g=Math.imul(ke,Ue),S=S+Math.imul(we,$e)|0,u=u+Math.imul(we,We)|0,u=u+Math.imul(Se,$e)|0,g=g+Math.imul(Se,We)|0,S=S+Math.imul(ge,He)|0,u=u+Math.imul(ge,Ve)|0,u=u+Math.imul(pe,He)|0,g=g+Math.imul(pe,Ve)|0;var oo=(T+S|0)+((u&8191)<<13)|0;T=(g+(u>>>13)|0)+(oo>>>26)|0,oo&=67108863,S=Math.imul(Ee,$e),u=Math.imul(Ee,We),u=u+Math.imul(ke,$e)|0,g=Math.imul(ke,We),S=S+Math.imul(we,He)|0,u=u+Math.imul(we,Ve)|0,u=u+Math.imul(Se,He)|0,g=g+Math.imul(Se,Ve)|0;var ao=(T+S|0)+((u&8191)<<13)|0;T=(g+(u>>>13)|0)+(ao>>>26)|0,ao&=67108863,S=Math.imul(Ee,He),u=Math.imul(Ee,Ve),u=u+Math.imul(ke,He)|0,g=Math.imul(ke,Ve);var co=(T+S|0)+((u&8191)<<13)|0;return T=(g+(u>>>13)|0)+(co>>>26)|0,co&=67108863,k[0]=dr,k[1]=pr,k[2]=_r,k[3]=gr,k[4]=br,k[5]=vr,k[6]=mr,k[7]=yr,k[8]=wr,k[9]=Sr,k[10]=Er,k[11]=kr,k[12]=xr,k[13]=Mr,k[14]=io,k[15]=so,k[16]=oo,k[17]=ao,k[18]=co,T!==0&&(k[19]=T,p.length++),p};Math.imul||(I=E);function O(_,a,f){f.negative=a.negative^_.negative,f.length=_.length+a.length;for(var p=0,b=0,v=0;v<f.length-1;v++){var k=b;b=0;for(var T=p&67108863,S=Math.min(v,a.length-1),u=Math.max(0,v-_.length+1);u<=S;u++){var g=v-u,D=_.words[g]|0,j=a.words[u]|0,M=D*j,R=M&67108863;k=k+(M/67108864|0)|0,R=R+T|0,T=R&67108863,k=k+(R>>>26)|0,b+=k>>>26,k&=67108863}f.words[v]=T,p=k,k=b}return p!==0?f.words[v]=p:f.length--,f._strip()}function U(_,a,f){return O(_,a,f)}s.prototype.mulTo=function(a,f){var p,b=this.length+a.length;return this.length===10&&a.length===10?p=I(this,a,f):b<63?p=E(this,a,f):b<1024?p=O(this,a,f):p=U(this,a,f),p},s.prototype.mul=function(a){var f=new s(null);return f.words=new Array(this.length+a.length),this.mulTo(a,f)},s.prototype.mulf=function(a){var f=new s(null);return f.words=new Array(this.length+a.length),U(this,a,f)},s.prototype.imul=function(a){return this.clone().mulTo(a,this)},s.prototype.imuln=function(a){var f=a<0;f&&(a=-a),n(typeof a=="number"),n(a<67108864);for(var p=0,b=0;b<this.length;b++){var v=(this.words[b]|0)*a,k=(v&67108863)+(p&67108863);p>>=26,p+=v/67108864|0,p+=k>>>26,this.words[b]=k&67108863}return p!==0&&(this.words[b]=p,this.length++),f?this.ineg():this},s.prototype.muln=function(a){return this.clone().imuln(a)},s.prototype.sqr=function(){return this.mul(this)},s.prototype.isqr=function(){return this.imul(this.clone())},s.prototype.pow=function(a){var f=L(a);if(f.length===0)return new s(1);for(var p=this,b=0;b<f.length&&f[b]===0;b++,p=p.sqr());if(++b<f.length)for(var v=p.sqr();b<f.length;b++,v=v.sqr())f[b]!==0&&(p=p.mul(v));return p},s.prototype.iushln=function(a){n(typeof a=="number"&&a>=0);var f=a%26,p=(a-f)/26,b=67108863>>>26-f<<26-f,v;if(f!==0){var k=0;for(v=0;v<this.length;v++){var T=this.words[v]&b,S=(this.words[v]|0)-T<<f;this.words[v]=S|k,k=T>>>26-f}k&&(this.words[v]=k,this.length++)}if(p!==0){for(v=this.length-1;v>=0;v--)this.words[v+p]=this.words[v];for(v=0;v<p;v++)this.words[v]=0;this.length+=p}return this._strip()},s.prototype.ishln=function(a){return n(this.negative===0),this.iushln(a)},s.prototype.iushrn=function(a,f,p){n(typeof a=="number"&&a>=0);var b;f?b=(f-f%26)/26:b=0;var v=a%26,k=Math.min((a-v)/26,this.length),T=67108863^67108863>>>v<<v,S=p;if(b-=k,b=Math.max(0,b),S){for(var u=0;u<k;u++)S.words[u]=this.words[u];S.length=k}if(k!==0)if(this.length>k)for(this.length-=k,u=0;u<this.length;u++)this.words[u]=this.words[u+k];else this.words[0]=0,this.length=1;var g=0;for(u=this.length-1;u>=0&&(g!==0||u>=b);u--){var D=this.words[u]|0;this.words[u]=g<<26-v|D>>>v,g=D&T}return S&&g!==0&&(S.words[S.length++]=g),this.length===0&&(this.words[0]=0,this.length=1),this._strip()},s.prototype.ishrn=function(a,f,p){return n(this.negative===0),this.iushrn(a,f,p)},s.prototype.shln=function(a){return this.clone().ishln(a)},s.prototype.ushln=function(a){return this.clone().iushln(a)},s.prototype.shrn=function(a){return this.clone().ishrn(a)},s.prototype.ushrn=function(a){return this.clone().iushrn(a)},s.prototype.testn=function(a){n(typeof a=="number"&&a>=0);var f=a%26,p=(a-f)/26,b=1<<f;if(this.length<=p)return!1;var v=this.words[p];return!!(v&b)},s.prototype.imaskn=function(a){n(typeof a=="number"&&a>=0);var f=a%26,p=(a-f)/26;if(n(this.negative===0,"imaskn works only with positive numbers"),this.length<=p)return this;if(f!==0&&p++,this.length=Math.min(p,this.length),f!==0){var b=67108863^67108863>>>f<<f;this.words[this.length-1]&=b}return this._strip()},s.prototype.maskn=function(a){return this.clone().imaskn(a)},s.prototype.iaddn=function(a){return n(typeof a=="number"),n(a<67108864),a<0?this.isubn(-a):this.negative!==0?this.length===1&&(this.words[0]|0)<=a?(this.words[0]=a-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(a),this.negative=1,this):this._iaddn(a)},s.prototype._iaddn=function(a){this.words[0]+=a;for(var f=0;f<this.length&&this.words[f]>=67108864;f++)this.words[f]-=67108864,f===this.length-1?this.words[f+1]=1:this.words[f+1]++;return this.length=Math.max(this.length,f+1),this},s.prototype.isubn=function(a){if(n(typeof a=="number"),n(a<67108864),a<0)return this.iaddn(-a);if(this.negative!==0)return this.negative=0,this.iaddn(a),this.negative=1,this;if(this.words[0]-=a,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var f=0;f<this.length&&this.words[f]<0;f++)this.words[f]+=67108864,this.words[f+1]-=1;return this._strip()},s.prototype.addn=function(a){return this.clone().iaddn(a)},s.prototype.subn=function(a){return this.clone().isubn(a)},s.prototype.iabs=function(){return this.negative=0,this},s.prototype.abs=function(){return this.clone().iabs()},s.prototype._ishlnsubmul=function(a,f,p){var b=a.length+p,v;this._expand(b);var k,T=0;for(v=0;v<a.length;v++){k=(this.words[v+p]|0)+T;var S=(a.words[v]|0)*f;k-=S&67108863,T=(k>>26)-(S/67108864|0),this.words[v+p]=k&67108863}for(;v<this.length-p;v++)k=(this.words[v+p]|0)+T,T=k>>26,this.words[v+p]=k&67108863;if(T===0)return this._strip();for(n(T===-1),T=0,v=0;v<this.length;v++)k=-(this.words[v]|0)+T,T=k>>26,this.words[v]=k&67108863;return this.negative=1,this._strip()},s.prototype._wordDiv=function(a,f){var p=this.length-a.length,b=this.clone(),v=a,k=v.words[v.length-1]|0,T=this._countBits(k);p=26-T,p!==0&&(v=v.ushln(p),b.iushln(p),k=v.words[v.length-1]|0);var S=b.length-v.length,u;if(f!=="mod"){u=new s(null),u.length=S+1,u.words=new Array(u.length);for(var g=0;g<u.length;g++)u.words[g]=0}var D=b.clone()._ishlnsubmul(v,1,S);D.negative===0&&(b=D,u&&(u.words[S]=1));for(var j=S-1;j>=0;j--){var M=(b.words[v.length+j]|0)*67108864+(b.words[v.length+j-1]|0);for(M=Math.min(M/k|0,67108863),b._ishlnsubmul(v,M,j);b.negative!==0;)M--,b.negative=0,b._ishlnsubmul(v,1,j),b.isZero()||(b.negative^=1);u&&(u.words[j]=M)}return u&&u._strip(),b._strip(),f!=="div"&&p!==0&&b.iushrn(p),{div:u||null,mod:b}},s.prototype.divmod=function(a,f,p){if(n(!a.isZero()),this.isZero())return{div:new s(0),mod:new s(0)};var b,v,k;return this.negative!==0&&a.negative===0?(k=this.neg().divmod(a,f),f!=="mod"&&(b=k.div.neg()),f!=="div"&&(v=k.mod.neg(),p&&v.negative!==0&&v.iadd(a)),{div:b,mod:v}):this.negative===0&&a.negative!==0?(k=this.divmod(a.neg(),f),f!=="mod"&&(b=k.div.neg()),{div:b,mod:k.mod}):(this.negative&a.negative)!==0?(k=this.neg().divmod(a.neg(),f),f!=="div"&&(v=k.mod.neg(),p&&v.negative!==0&&v.isub(a)),{div:k.div,mod:v}):a.length>this.length||this.cmp(a)<0?{div:new s(0),mod:this}:a.length===1?f==="div"?{div:this.divn(a.words[0]),mod:null}:f==="mod"?{div:null,mod:new s(this.modrn(a.words[0]))}:{div:this.divn(a.words[0]),mod:new s(this.modrn(a.words[0]))}:this._wordDiv(a,f)},s.prototype.div=function(a){return this.divmod(a,"div",!1).div},s.prototype.mod=function(a){return this.divmod(a,"mod",!1).mod},s.prototype.umod=function(a){return this.divmod(a,"mod",!0).mod},s.prototype.divRound=function(a){var f=this.divmod(a);if(f.mod.isZero())return f.div;var p=f.div.negative!==0?f.mod.isub(a):f.mod,b=a.ushrn(1),v=a.andln(1),k=p.cmp(b);return k<0||v===1&&k===0?f.div:f.div.negative!==0?f.div.isubn(1):f.div.iaddn(1)},s.prototype.modrn=function(a){var f=a<0;f&&(a=-a),n(a<=67108863);for(var p=(1<<26)%a,b=0,v=this.length-1;v>=0;v--)b=(p*b+(this.words[v]|0))%a;return f?-b:b},s.prototype.modn=function(a){return this.modrn(a)},s.prototype.idivn=function(a){var f=a<0;f&&(a=-a),n(a<=67108863);for(var p=0,b=this.length-1;b>=0;b--){var v=(this.words[b]|0)+p*67108864;this.words[b]=v/a|0,p=v%a}return this._strip(),f?this.ineg():this},s.prototype.divn=function(a){return this.clone().idivn(a)},s.prototype.egcd=function(a){n(a.negative===0),n(!a.isZero());var f=this,p=a.clone();f.negative!==0?f=f.umod(a):f=f.clone();for(var b=new s(1),v=new s(0),k=new s(0),T=new s(1),S=0;f.isEven()&&p.isEven();)f.iushrn(1),p.iushrn(1),++S;for(var u=p.clone(),g=f.clone();!f.isZero();){for(var D=0,j=1;(f.words[0]&j)===0&&D<26;++D,j<<=1);if(D>0)for(f.iushrn(D);D-- >0;)(b.isOdd()||v.isOdd())&&(b.iadd(u),v.isub(g)),b.iushrn(1),v.iushrn(1);for(var M=0,R=1;(p.words[0]&R)===0&&M<26;++M,R<<=1);if(M>0)for(p.iushrn(M);M-- >0;)(k.isOdd()||T.isOdd())&&(k.iadd(u),T.isub(g)),k.iushrn(1),T.iushrn(1);f.cmp(p)>=0?(f.isub(p),b.isub(k),v.isub(T)):(p.isub(f),k.isub(b),T.isub(v))}return{a:k,b:T,gcd:p.iushln(S)}},s.prototype._invmp=function(a){n(a.negative===0),n(!a.isZero());var f=this,p=a.clone();f.negative!==0?f=f.umod(a):f=f.clone();for(var b=new s(1),v=new s(0),k=p.clone();f.cmpn(1)>0&&p.cmpn(1)>0;){for(var T=0,S=1;(f.words[0]&S)===0&&T<26;++T,S<<=1);if(T>0)for(f.iushrn(T);T-- >0;)b.isOdd()&&b.iadd(k),b.iushrn(1);for(var u=0,g=1;(p.words[0]&g)===0&&u<26;++u,g<<=1);if(u>0)for(p.iushrn(u);u-- >0;)v.isOdd()&&v.iadd(k),v.iushrn(1);f.cmp(p)>=0?(f.isub(p),b.isub(v)):(p.isub(f),v.isub(b))}var D;return f.cmpn(1)===0?D=b:D=v,D.cmpn(0)<0&&D.iadd(a),D},s.prototype.gcd=function(a){if(this.isZero())return a.abs();if(a.isZero())return this.abs();var f=this.clone(),p=a.clone();f.negative=0,p.negative=0;for(var b=0;f.isEven()&&p.isEven();b++)f.iushrn(1),p.iushrn(1);do{for(;f.isEven();)f.iushrn(1);for(;p.isEven();)p.iushrn(1);var v=f.cmp(p);if(v<0){var k=f;f=p,p=k}else if(v===0||p.cmpn(1)===0)break;f.isub(p)}while(!0);return p.iushln(b)},s.prototype.invm=function(a){return this.egcd(a).a.umod(a)},s.prototype.isEven=function(){return(this.words[0]&1)===0},s.prototype.isOdd=function(){return(this.words[0]&1)===1},s.prototype.andln=function(a){return this.words[0]&a},s.prototype.bincn=function(a){n(typeof a=="number");var f=a%26,p=(a-f)/26,b=1<<f;if(this.length<=p)return this._expand(p+1),this.words[p]|=b,this;for(var v=b,k=p;v!==0&&k<this.length;k++){var T=this.words[k]|0;T+=v,v=T>>>26,T&=67108863,this.words[k]=T}return v!==0&&(this.words[k]=v,this.length++),this},s.prototype.isZero=function(){return this.length===1&&this.words[0]===0},s.prototype.cmpn=function(a){var f=a<0;if(this.negative!==0&&!f)return-1;if(this.negative===0&&f)return 1;this._strip();var p;if(this.length>1)p=1;else{f&&(a=-a),n(a<=67108863,"Number is too big");var b=this.words[0]|0;p=b===a?0:b<a?-1:1}return this.negative!==0?-p|0:p},s.prototype.cmp=function(a){if(this.negative!==0&&a.negative===0)return-1;if(this.negative===0&&a.negative!==0)return 1;var f=this.ucmp(a);return this.negative!==0?-f|0:f},s.prototype.ucmp=function(a){if(this.length>a.length)return 1;if(this.length<a.length)return-1;for(var f=0,p=this.length-1;p>=0;p--){var b=this.words[p]|0,v=a.words[p]|0;if(b!==v){b<v?f=-1:b>v&&(f=1);break}}return f},s.prototype.gtn=function(a){return this.cmpn(a)===1},s.prototype.gt=function(a){return this.cmp(a)===1},s.prototype.gten=function(a){return this.cmpn(a)>=0},s.prototype.gte=function(a){return this.cmp(a)>=0},s.prototype.ltn=function(a){return this.cmpn(a)===-1},s.prototype.lt=function(a){return this.cmp(a)===-1},s.prototype.lten=function(a){return this.cmpn(a)<=0},s.prototype.lte=function(a){return this.cmp(a)<=0},s.prototype.eqn=function(a){return this.cmpn(a)===0},s.prototype.eq=function(a){return this.cmp(a)===0},s.red=function(a){return new Q(a)},s.prototype.toRed=function(a){return n(!this.red,"Already a number in reduction context"),n(this.negative===0,"red works only with positives"),a.convertTo(this)._forceRed(a)},s.prototype.fromRed=function(){return n(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},s.prototype._forceRed=function(a){return this.red=a,this},s.prototype.forceRed=function(a){return n(!this.red,"Already a number in reduction context"),this._forceRed(a)},s.prototype.redAdd=function(a){return n(this.red,"redAdd works only with red numbers"),this.red.add(this,a)},s.prototype.redIAdd=function(a){return n(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,a)},s.prototype.redSub=function(a){return n(this.red,"redSub works only with red numbers"),this.red.sub(this,a)},s.prototype.redISub=function(a){return n(this.red,"redISub works only with red numbers"),this.red.isub(this,a)},s.prototype.redShl=function(a){return n(this.red,"redShl works only with red numbers"),this.red.shl(this,a)},s.prototype.redMul=function(a){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,a),this.red.mul(this,a)},s.prototype.redIMul=function(a){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,a),this.red.imul(this,a)},s.prototype.redSqr=function(){return n(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},s.prototype.redISqr=function(){return n(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},s.prototype.redSqrt=function(){return n(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},s.prototype.redInvm=function(){return n(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},s.prototype.redNeg=function(){return n(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},s.prototype.redPow=function(a){return n(this.red&&!a.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,a)};var V={k256:null,p224:null,p192:null,p25519:null};function q(_,a){this.name=_,this.p=new s(a,16),this.n=this.p.bitLength(),this.k=new s(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}q.prototype._tmp=function(){var a=new s(null);return a.words=new Array(Math.ceil(this.n/13)),a},q.prototype.ireduce=function(a){var f=a,p;do this.split(f,this.tmp),f=this.imulK(f),f=f.iadd(this.tmp),p=f.bitLength();while(p>this.n);var b=p<this.n?-1:f.ucmp(this.p);return b===0?(f.words[0]=0,f.length=1):b>0?f.isub(this.p):f.strip!==void 0?f.strip():f._strip(),f},q.prototype.split=function(a,f){a.iushrn(this.n,0,f)},q.prototype.imulK=function(a){return a.imul(this.k)};function Z(){q.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}i(Z,q),Z.prototype.split=function(a,f){for(var p=4194303,b=Math.min(a.length,9),v=0;v<b;v++)f.words[v]=a.words[v];if(f.length=b,a.length<=9){a.words[0]=0,a.length=1;return}var k=a.words[9];for(f.words[f.length++]=k&p,v=10;v<a.length;v++){var T=a.words[v]|0;a.words[v-10]=(T&p)<<4|k>>>22,k=T}k>>>=22,a.words[v-10]=k,k===0&&a.length>10?a.length-=10:a.length-=9},Z.prototype.imulK=function(a){a.words[a.length]=0,a.words[a.length+1]=0,a.length+=2;for(var f=0,p=0;p<a.length;p++){var b=a.words[p]|0;f+=b*977,a.words[p]=f&67108863,f=b*64+(f/67108864|0)}return a.words[a.length-1]===0&&(a.length--,a.words[a.length-1]===0&&a.length--),a};function Y(){q.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}i(Y,q);function z(){q.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}i(z,q);function K(){q.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}i(K,q),K.prototype.imulK=function(a){for(var f=0,p=0;p<a.length;p++){var b=(a.words[p]|0)*19+f,v=b&67108863;b>>>=26,a.words[p]=v,f=b}return f!==0&&(a.words[a.length++]=f),a},s._prime=function(a){if(V[a])return V[a];var f;if(a==="k256")f=new Z;else if(a==="p224")f=new Y;else if(a==="p192")f=new z;else if(a==="p25519")f=new K;else throw new Error("Unknown prime "+a);return V[a]=f,f};function Q(_){if(typeof _=="string"){var a=s._prime(_);this.m=a.p,this.prime=a}else n(_.gtn(1),"modulus must be greater than 1"),this.m=_,this.prime=null}Q.prototype._verify1=function(a){n(a.negative===0,"red works only with positives"),n(a.red,"red works only with red numbers")},Q.prototype._verify2=function(a,f){n((a.negative|f.negative)===0,"red works only with positives"),n(a.red&&a.red===f.red,"red works only with red numbers")},Q.prototype.imod=function(a){return this.prime?this.prime.ireduce(a)._forceRed(this):(d(a,a.umod(this.m)._forceRed(this)),a)},Q.prototype.neg=function(a){return a.isZero()?a.clone():this.m.sub(a)._forceRed(this)},Q.prototype.add=function(a,f){this._verify2(a,f);var p=a.add(f);return p.cmp(this.m)>=0&&p.isub(this.m),p._forceRed(this)},Q.prototype.iadd=function(a,f){this._verify2(a,f);var p=a.iadd(f);return p.cmp(this.m)>=0&&p.isub(this.m),p},Q.prototype.sub=function(a,f){this._verify2(a,f);var p=a.sub(f);return p.cmpn(0)<0&&p.iadd(this.m),p._forceRed(this)},Q.prototype.isub=function(a,f){this._verify2(a,f);var p=a.isub(f);return p.cmpn(0)<0&&p.iadd(this.m),p},Q.prototype.shl=function(a,f){return this._verify1(a),this.imod(a.ushln(f))},Q.prototype.imul=function(a,f){return this._verify2(a,f),this.imod(a.imul(f))},Q.prototype.mul=function(a,f){return this._verify2(a,f),this.imod(a.mul(f))},Q.prototype.isqr=function(a){return this.imul(a,a.clone())},Q.prototype.sqr=function(a){return this.mul(a,a)},Q.prototype.sqrt=function(a){if(a.isZero())return a.clone();var f=this.m.andln(3);if(n(f%2===1),f===3){var p=this.m.add(new s(1)).iushrn(2);return this.pow(a,p)}for(var b=this.m.subn(1),v=0;!b.isZero()&&b.andln(1)===0;)v++,b.iushrn(1);n(!b.isZero());var k=new s(1).toRed(this),T=k.redNeg(),S=this.m.subn(1).iushrn(1),u=this.m.bitLength();for(u=new s(2*u*u).toRed(this);this.pow(u,S).cmp(T)!==0;)u.redIAdd(T);for(var g=this.pow(u,b),D=this.pow(a,b.addn(1).iushrn(1)),j=this.pow(a,b),M=v;j.cmp(k)!==0;){for(var R=j,N=0;R.cmp(k)!==0;N++)R=R.redSqr();n(N<M);var F=this.pow(g,new s(1).iushln(M-N-1));D=D.redMul(F),g=F.redSqr(),j=j.redMul(g),M=N}return D},Q.prototype.invm=function(a){var f=a._invmp(this.m);return f.negative!==0?(f.negative=0,this.imod(f).redNeg()):this.imod(f)},Q.prototype.pow=function(a,f){if(f.isZero())return new s(1).toRed(this);if(f.cmpn(1)===0)return a.clone();var p=4,b=new Array(1<<p);b[0]=new s(1).toRed(this),b[1]=a;for(var v=2;v<b.length;v++)b[v]=this.mul(b[v-1],a);var k=b[0],T=0,S=0,u=f.bitLength()%26;for(u===0&&(u=26),v=f.length-1;v>=0;v--){for(var g=f.words[v],D=u-1;D>=0;D--){var j=g>>D&1;if(k!==b[0]&&(k=this.sqr(k)),j===0&&T===0){S=0;continue}T<<=1,T|=j,S++,!(S!==p&&(v!==0||D!==0))&&(k=this.mul(k,b[T]),S=0,T=0)}u=26}return k},Q.prototype.convertTo=function(a){var f=a.umod(this.m);return f===a?f.clone():f},Q.prototype.convertFrom=function(a){var f=a.clone();return f.red=null,f},s.mont=function(a){return new X(a)};function X(_){Q.call(this,_),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new s(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}i(X,Q),X.prototype.convertTo=function(a){return this.imod(a.ushln(this.shift))},X.prototype.convertFrom=function(a){var f=this.imod(a.mul(this.rinv));return f.red=null,f},X.prototype.imul=function(a,f){if(a.isZero()||f.isZero())return a.words[0]=0,a.length=1,a;var p=a.imul(f),b=p.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),v=p.isub(b).iushrn(this.shift),k=v;return v.cmp(this.m)>=0?k=v.isub(this.m):v.cmpn(0)<0&&(k=v.iadd(this.m)),k._forceRed(this)},X.prototype.mul=function(a,f){if(a.isZero()||f.isZero())return new s(0)._forceRed(this);var p=a.mul(f),b=p.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),v=p.isub(b).iushrn(this.shift),k=v;return v.cmp(this.m)>=0?k=v.isub(this.m):v.cmpn(0)<0&&(k=v.iadd(this.m)),k._forceRed(this)},X.prototype.invm=function(a){var f=this.imod(a._invmp(this.m).mul(this.r2));return f._forceRed(this)}})(t,oe)})(ui);var _s={},sr={},Xu=ri;ri.default=ri;ri.stable=rl;ri.stableStringify=rl;var Zi="[...]",el="[Circular]",Dr=[],Tr=[];function tl(){return{depthLimit:Number.MAX_SAFE_INTEGER,edgesLimit:Number.MAX_SAFE_INTEGER}}function ri(t,e,r,n){typeof n>"u"&&(n=tl()),Yo(t,"",0,[],void 0,0,n);var i;try{Tr.length===0?i=JSON.stringify(t,e,r):i=JSON.stringify(t,nl(e),r)}catch{return JSON.stringify("[unable to serialize, circular reference is too complex to analyze]")}finally{for(;Dr.length!==0;){var s=Dr.pop();s.length===4?Object.defineProperty(s[0],s[1],s[3]):s[0][s[1]]=s[2]}}return i}function cn(t,e,r,n){var i=Object.getOwnPropertyDescriptor(n,r);i.get!==void 0?i.configurable?(Object.defineProperty(n,r,{value:t}),Dr.push([n,r,e,i])):Tr.push([e,r,t]):(n[r]=t,Dr.push([n,r,e]))}function Yo(t,e,r,n,i,s,o){s+=1;var c;if(typeof t=="object"&&t!==null){for(c=0;c<n.length;c++)if(n[c]===t){cn(el,t,e,i);return}if(typeof o.depthLimit<"u"&&s>o.depthLimit){cn(Zi,t,e,i);return}if(typeof o.edgesLimit<"u"&&r+1>o.edgesLimit){cn(Zi,t,e,i);return}if(n.push(t),Array.isArray(t))for(c=0;c<t.length;c++)Yo(t[c],c,c,n,t,s,o);else{var l=Object.keys(t);for(c=0;c<l.length;c++){var h=l[c];Yo(t[h],h,c,n,t,s,o)}}n.pop()}}function ad(t,e){return t<e?-1:t>e?1:0}function rl(t,e,r,n){typeof n>"u"&&(n=tl());var i=Jo(t,"",0,[],void 0,0,n)||t,s;try{Tr.length===0?s=JSON.stringify(i,e,r):s=JSON.stringify(i,nl(e),r)}catch{return JSON.stringify("[unable to serialize, circular reference is too complex to analyze]")}finally{for(;Dr.length!==0;){var o=Dr.pop();o.length===4?Object.defineProperty(o[0],o[1],o[3]):o[0][o[1]]=o[2]}}return s}function Jo(t,e,r,n,i,s,o){s+=1;var c;if(typeof t=="object"&&t!==null){for(c=0;c<n.length;c++)if(n[c]===t){cn(el,t,e,i);return}try{if(typeof t.toJSON=="function")return}catch{return}if(typeof o.depthLimit<"u"&&s>o.depthLimit){cn(Zi,t,e,i);return}if(typeof o.edgesLimit<"u"&&r+1>o.edgesLimit){cn(Zi,t,e,i);return}if(n.push(t),Array.isArray(t))for(c=0;c<t.length;c++)Jo(t[c],c,c,n,t,s,o);else{var l={},h=Object.keys(t).sort(ad);for(c=0;c<h.length;c++){var d=h[c];Jo(t[d],d,c,n,t,s,o),l[d]=t[d]}if(typeof i<"u")Dr.push([i,e,t]),i[e]=l;else return l}n.pop()}}function nl(t){return t=typeof t<"u"?t:function(e,r){return r},function(e,r){if(Tr.length>0)for(var n=0;n<Tr.length;n++){var i=Tr[n];if(i[1]===e&&i[0]===r){r=i[2],Tr.splice(n,1);break}}return t.call(this,e,r)}}Object.defineProperty(sr,"__esModule",{value:!0});sr.EthereumProviderError=sr.EthereumRpcError=void 0;const cd=Xu;class il extends Error{constructor(e,r,n){if(!Number.isInteger(e))throw new Error('"code" must be an integer.');if(!r||typeof r!="string")throw new Error('"message" must be a nonempty string.');super(r),this.code=e,n!==void 0&&(this.data=n)}serialize(){const e={code:this.code,message:this.message};return this.data!==void 0&&(e.data=this.data),this.stack&&(e.stack=this.stack),e}toString(){return cd.default(this.serialize(),fd,2)}}sr.EthereumRpcError=il;class ud extends il{constructor(e,r,n){if(!ld(e))throw new Error('"code" must be an integer such that: 1000 <= code <= 4999');super(e,r,n)}}sr.EthereumProviderError=ud;function ld(t){return Number.isInteger(t)&&t>=1e3&&t<=4999}function fd(t,e){if(e!=="[Circular]")return e}var wa={},or={};Object.defineProperty(or,"__esModule",{value:!0});or.errorValues=or.errorCodes=void 0;or.errorCodes={rpc:{invalidInput:-32e3,resourceNotFound:-32001,resourceUnavailable:-32002,transactionRejected:-32003,methodNotSupported:-32004,limitExceeded:-32005,parse:-32700,invalidRequest:-32600,methodNotFound:-32601,invalidParams:-32602,internal:-32603},provider:{userRejectedRequest:4001,unauthorized:4100,unsupportedMethod:4200,disconnected:4900,chainDisconnected:4901}};or.errorValues={"-32700":{standard:"JSON RPC 2.0",message:"Invalid JSON was received by the server. An error occurred on the server while parsing the JSON text."},"-32600":{standard:"JSON RPC 2.0",message:"The JSON sent is not a valid Request object."},"-32601":{standard:"JSON RPC 2.0",message:"The method does not exist / is not available."},"-32602":{standard:"JSON RPC 2.0",message:"Invalid method parameter(s)."},"-32603":{standard:"JSON RPC 2.0",message:"Internal JSON-RPC error."},"-32000":{standard:"EIP-1474",message:"Invalid input."},"-32001":{standard:"EIP-1474",message:"Resource not found."},"-32002":{standard:"EIP-1474",message:"Resource unavailable."},"-32003":{standard:"EIP-1474",message:"Transaction rejected."},"-32004":{standard:"EIP-1474",message:"Method not supported."},"-32005":{standard:"EIP-1474",message:"Request limit exceeded."},4001:{standard:"EIP-1193",message:"User rejected the request."},4100:{standard:"EIP-1193",message:"The requested account and/or method has not been authorized by the user."},4200:{standard:"EIP-1193",message:"The requested method is not supported by this Ethereum provider."},4900:{standard:"EIP-1193",message:"The provider is disconnected from all chains."},4901:{standard:"EIP-1193",message:"The provider is disconnected from the specified chain."}};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.serializeError=t.isValidCode=t.getMessageFromCode=t.JSON_RPC_SERVER_ERROR_MESSAGE=void 0;const e=or,r=sr,n=e.errorCodes.rpc.internal,i="Unspecified error message. This is a bug, please report it.",s={code:n,message:o(n)};t.JSON_RPC_SERVER_ERROR_MESSAGE="Unspecified server error.";function o(m,x=i){if(Number.isInteger(m)){const A=m.toString();if(C(e.errorValues,A))return e.errorValues[A].message;if(h(m))return t.JSON_RPC_SERVER_ERROR_MESSAGE}return x}t.getMessageFromCode=o;function c(m){if(!Number.isInteger(m))return!1;const x=m.toString();return!!(e.errorValues[x]||h(m))}t.isValidCode=c;function l(m,{fallbackError:x=s,shouldIncludeStack:A=!1}={}){var P,L;if(!x||!Number.isInteger(x.code)||typeof x.message!="string")throw new Error("Must provide fallback error with integer number code and string message.");if(m instanceof r.EthereumRpcError)return m.serialize();const E={};if(m&&typeof m=="object"&&!Array.isArray(m)&&C(m,"code")&&c(m.code)){const O=m;E.code=O.code,O.message&&typeof O.message=="string"?(E.message=O.message,C(O,"data")&&(E.data=O.data)):(E.message=o(E.code),E.data={originalError:d(m)})}else{E.code=x.code;const O=(P=m)===null||P===void 0?void 0:P.message;E.message=O&&typeof O=="string"?O:x.message,E.data={originalError:d(m)}}const I=(L=m)===null||L===void 0?void 0:L.stack;return A&&m&&I&&typeof I=="string"&&(E.stack=I),E}t.serializeError=l;function h(m){return m>=-32099&&m<=-32e3}function d(m){return m&&typeof m=="object"&&!Array.isArray(m)?Object.assign({},m):m}function C(m,x){return Object.prototype.hasOwnProperty.call(m,x)}})(wa);var gs={};Object.defineProperty(gs,"__esModule",{value:!0});gs.ethErrors=void 0;const Sa=sr,sl=wa,at=or;gs.ethErrors={rpc:{parse:t=>yt(at.errorCodes.rpc.parse,t),invalidRequest:t=>yt(at.errorCodes.rpc.invalidRequest,t),invalidParams:t=>yt(at.errorCodes.rpc.invalidParams,t),methodNotFound:t=>yt(at.errorCodes.rpc.methodNotFound,t),internal:t=>yt(at.errorCodes.rpc.internal,t),server:t=>{if(!t||typeof t!="object"||Array.isArray(t))throw new Error("Ethereum RPC Server errors must provide single object argument.");const{code:e}=t;if(!Number.isInteger(e)||e>-32005||e<-32099)throw new Error('"code" must be an integer such that: -32099 <= code <= -32005');return yt(e,t)},invalidInput:t=>yt(at.errorCodes.rpc.invalidInput,t),resourceNotFound:t=>yt(at.errorCodes.rpc.resourceNotFound,t),resourceUnavailable:t=>yt(at.errorCodes.rpc.resourceUnavailable,t),transactionRejected:t=>yt(at.errorCodes.rpc.transactionRejected,t),methodNotSupported:t=>yt(at.errorCodes.rpc.methodNotSupported,t),limitExceeded:t=>yt(at.errorCodes.rpc.limitExceeded,t)},provider:{userRejectedRequest:t=>Fn(at.errorCodes.provider.userRejectedRequest,t),unauthorized:t=>Fn(at.errorCodes.provider.unauthorized,t),unsupportedMethod:t=>Fn(at.errorCodes.provider.unsupportedMethod,t),disconnected:t=>Fn(at.errorCodes.provider.disconnected,t),chainDisconnected:t=>Fn(at.errorCodes.provider.chainDisconnected,t),custom:t=>{if(!t||typeof t!="object"||Array.isArray(t))throw new Error("Ethereum Provider custom errors must provide single object argument.");const{code:e,message:r,data:n}=t;if(!r||typeof r!="string")throw new Error('"message" must be a nonempty string');return new Sa.EthereumProviderError(e,r,n)}}};function yt(t,e){const[r,n]=ol(e);return new Sa.EthereumRpcError(t,r||sl.getMessageFromCode(t),n)}function Fn(t,e){const[r,n]=ol(e);return new Sa.EthereumProviderError(t,r||sl.getMessageFromCode(t),n)}function ol(t){if(t){if(typeof t=="string")return[t];if(typeof t=="object"&&!Array.isArray(t)){const{message:e,data:r}=t;if(e&&typeof e!="string")throw new Error("Must specify string message.");return[e||void 0,r]}}return[]}(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.getMessageFromCode=t.serializeError=t.EthereumProviderError=t.EthereumRpcError=t.ethErrors=t.errorCodes=void 0;const e=sr;Object.defineProperty(t,"EthereumRpcError",{enumerable:!0,get:function(){return e.EthereumRpcError}}),Object.defineProperty(t,"EthereumProviderError",{enumerable:!0,get:function(){return e.EthereumProviderError}});const r=wa;Object.defineProperty(t,"serializeError",{enumerable:!0,get:function(){return r.serializeError}}),Object.defineProperty(t,"getMessageFromCode",{enumerable:!0,get:function(){return r.getMessageFromCode}});const n=gs;Object.defineProperty(t,"ethErrors",{enumerable:!0,get:function(){return n.ethErrors}});const i=or;Object.defineProperty(t,"errorCodes",{enumerable:!0,get:function(){return i.errorCodes}})})(_s);var An={};Object.defineProperty(An,"__esModule",{value:!0});An.EVENTS=void 0;An.EVENTS={STARTED_CONNECTING:"walletlink_sdk.started.connecting",CONNECTED_STATE_CHANGE:"walletlink_sdk.connected",DISCONNECTED:"walletlink_sdk.disconnected",METADATA_DESTROYED:"walletlink_sdk_metadata_destroyed",LINKED:"walletlink_sdk.linked",FAILURE:"walletlink_sdk.generic_failure",SESSION_CONFIG_RECEIVED:"walletlink_sdk.session_config_event_received",ETH_ACCOUNTS_STATE:"walletlink_sdk.eth_accounts_state",SESSION_STATE_CHANGE:"walletlink_sdk.session_state_change",UNLINKED_ERROR_STATE:"walletlink_sdk.unlinked_error_state",SKIPPED_CLEARING_SESSION:"walletlink_sdk.skipped_clearing_session",GENERAL_ERROR:"walletlink_sdk.general_error",WEB3_REQUEST:"walletlink_sdk.web3.request",WEB3_REQUEST_PUBLISHED:"walletlink_sdk.web3.request_published",WEB3_RESPONSE:"walletlink_sdk.web3.response",UNKNOWN_ADDRESS_ENCOUNTERED:"walletlink_sdk.unknown_address_encountered"};var Rn={};/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var Xo=function(t,e){return Xo=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)n.hasOwnProperty(i)&&(r[i]=n[i])},Xo(t,e)};function W(t,e){Xo(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}function pn(t){return typeof t=="function"}var pc=!1,Et={Promise:void 0,set useDeprecatedSynchronousErrorHandling(t){if(t){var e=new Error;""+e.stack}pc=t},get useDeprecatedSynchronousErrorHandling(){return pc}};function sn(t){setTimeout(function(){throw t},0)}var Ki={closed:!0,next:function(t){},error:function(t){if(Et.useDeprecatedSynchronousErrorHandling)throw t;sn(t)},complete:function(){}},pt=function(){return Array.isArray||function(t){return t&&typeof t.length=="number"}}();function Ea(t){return t!==null&&typeof t=="object"}var hd=function(){function t(e){return Error.call(this),this.message=e?e.length+` errors occurred during unsubscription:
`+e.map(function(r,n){return n+1+") "+r.toString()}).join(`
  `):"",this.name="UnsubscriptionError",this.errors=e,this}return t.prototype=Object.create(Error.prototype),t}(),zn=hd,Ke=function(){function t(e){this.closed=!1,this._parentOrParents=null,this._subscriptions=null,e&&(this._ctorUnsubscribe=!0,this._unsubscribe=e)}return t.prototype.unsubscribe=function(){var e;if(!this.closed){var r=this,n=r._parentOrParents,i=r._ctorUnsubscribe,s=r._unsubscribe,o=r._subscriptions;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,n instanceof t)n.remove(this);else if(n!==null)for(var c=0;c<n.length;++c){var l=n[c];l.remove(this)}if(pn(s)){i&&(this._unsubscribe=void 0);try{s.call(this)}catch(C){e=C instanceof zn?_c(C.errors):[C]}}if(pt(o))for(var c=-1,h=o.length;++c<h;){var d=o[c];if(Ea(d))try{d.unsubscribe()}catch(m){e=e||[],m instanceof zn?e=e.concat(_c(m.errors)):e.push(m)}}if(e)throw new zn(e)}},t.prototype.add=function(e){var r=e;if(!e)return t.EMPTY;switch(typeof e){case"function":r=new t(e);case"object":if(r===this||r.closed||typeof r.unsubscribe!="function")return r;if(this.closed)return r.unsubscribe(),r;if(!(r instanceof t)){var n=r;r=new t,r._subscriptions=[n]}break;default:throw new Error("unrecognized teardown "+e+" added to Subscription.")}var i=r._parentOrParents;if(i===null)r._parentOrParents=this;else if(i instanceof t){if(i===this)return r;r._parentOrParents=[i,this]}else if(i.indexOf(this)===-1)i.push(this);else return r;var s=this._subscriptions;return s===null?this._subscriptions=[r]:s.push(r),r},t.prototype.remove=function(e){var r=this._subscriptions;if(r){var n=r.indexOf(e);n!==-1&&r.splice(n,1)}},t.EMPTY=function(e){return e.closed=!0,e}(new t),t}();function _c(t){return t.reduce(function(e,r){return e.concat(r instanceof zn?r.errors:r)},[])}var Qi=function(){return typeof Symbol=="function"?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random()}(),ee=function(t){W(e,t);function e(r,n,i){var s=t.call(this)||this;switch(s.syncErrorValue=null,s.syncErrorThrown=!1,s.syncErrorThrowable=!1,s.isStopped=!1,arguments.length){case 0:s.destination=Ki;break;case 1:if(!r){s.destination=Ki;break}if(typeof r=="object"){r instanceof e?(s.syncErrorThrowable=r.syncErrorThrowable,s.destination=r,r.add(s)):(s.syncErrorThrowable=!0,s.destination=new gc(s,r));break}default:s.syncErrorThrowable=!0,s.destination=new gc(s,r,n,i);break}return s}return e.prototype[Qi]=function(){return this},e.create=function(r,n,i){var s=new e(r,n,i);return s.syncErrorThrowable=!1,s},e.prototype.next=function(r){this.isStopped||this._next(r)},e.prototype.error=function(r){this.isStopped||(this.isStopped=!0,this._error(r))},e.prototype.complete=function(){this.isStopped||(this.isStopped=!0,this._complete())},e.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,t.prototype.unsubscribe.call(this))},e.prototype._next=function(r){this.destination.next(r)},e.prototype._error=function(r){this.destination.error(r),this.unsubscribe()},e.prototype._complete=function(){this.destination.complete(),this.unsubscribe()},e.prototype._unsubscribeAndRecycle=function(){var r=this._parentOrParents;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=r,this},e}(Ke),gc=function(t){W(e,t);function e(r,n,i,s){var o=t.call(this)||this;o._parentSubscriber=r;var c,l=o;return pn(n)?c=n:n&&(c=n.next,i=n.error,s=n.complete,n!==Ki&&(l=Object.create(n),pn(l.unsubscribe)&&o.add(l.unsubscribe.bind(l)),l.unsubscribe=o.unsubscribe.bind(o))),o._context=l,o._next=c,o._error=i,o._complete=s,o}return e.prototype.next=function(r){if(!this.isStopped&&this._next){var n=this._parentSubscriber;!Et.useDeprecatedSynchronousErrorHandling||!n.syncErrorThrowable?this.__tryOrUnsub(this._next,r):this.__tryOrSetError(n,this._next,r)&&this.unsubscribe()}},e.prototype.error=function(r){if(!this.isStopped){var n=this._parentSubscriber,i=Et.useDeprecatedSynchronousErrorHandling;if(this._error)!i||!n.syncErrorThrowable?(this.__tryOrUnsub(this._error,r),this.unsubscribe()):(this.__tryOrSetError(n,this._error,r),this.unsubscribe());else if(n.syncErrorThrowable)i?(n.syncErrorValue=r,n.syncErrorThrown=!0):sn(r),this.unsubscribe();else{if(this.unsubscribe(),i)throw r;sn(r)}}},e.prototype.complete=function(){var r=this;if(!this.isStopped){var n=this._parentSubscriber;if(this._complete){var i=function(){return r._complete.call(r._context)};!Et.useDeprecatedSynchronousErrorHandling||!n.syncErrorThrowable?(this.__tryOrUnsub(i),this.unsubscribe()):(this.__tryOrSetError(n,i),this.unsubscribe())}else this.unsubscribe()}},e.prototype.__tryOrUnsub=function(r,n){try{r.call(this._context,n)}catch(i){if(this.unsubscribe(),Et.useDeprecatedSynchronousErrorHandling)throw i;sn(i)}},e.prototype.__tryOrSetError=function(r,n,i){if(!Et.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{n.call(this._context,i)}catch(s){return Et.useDeprecatedSynchronousErrorHandling?(r.syncErrorValue=s,r.syncErrorThrown=!0,!0):(sn(s),!0)}return!1},e.prototype._unsubscribe=function(){var r=this._parentSubscriber;this._context=null,this._parentSubscriber=null,r.unsubscribe()},e}(ee);function ka(t){for(;t;){var e=t,r=e.closed,n=e.destination,i=e.isStopped;if(r||i)return!1;n&&n instanceof ee?t=n:t=null}return!0}function dd(t,e,r){if(t){if(t instanceof ee)return t;if(t[Qi])return t[Qi]()}return!t&&!e&&!r?new ee(Ki):new ee(t,e,r)}var In=function(){return typeof Symbol=="function"&&Symbol.observable||"@@observable"}();function ar(t){return t}function ea(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return al(t)}function al(t){return t.length===0?ar:t.length===1?t[0]:function(r){return t.reduce(function(n,i){return i(n)},r)}}var ce=function(){function t(e){this._isScalar=!1,e&&(this._subscribe=e)}return t.prototype.lift=function(e){var r=new t;return r.source=this,r.operator=e,r},t.prototype.subscribe=function(e,r,n){var i=this.operator,s=dd(e,r,n);if(i?s.add(i.call(s,this.source)):s.add(this.source||Et.useDeprecatedSynchronousErrorHandling&&!s.syncErrorThrowable?this._subscribe(s):this._trySubscribe(s)),Et.useDeprecatedSynchronousErrorHandling&&s.syncErrorThrowable&&(s.syncErrorThrowable=!1,s.syncErrorThrown))throw s.syncErrorValue;return s},t.prototype._trySubscribe=function(e){try{return this._subscribe(e)}catch(r){Et.useDeprecatedSynchronousErrorHandling&&(e.syncErrorThrown=!0,e.syncErrorValue=r),ka(e)?e.error(r):console.warn(r)}},t.prototype.forEach=function(e,r){var n=this;return r=bc(r),new r(function(i,s){var o;o=n.subscribe(function(c){try{e(c)}catch(l){s(l),o&&o.unsubscribe()}},s,i)})},t.prototype._subscribe=function(e){var r=this.source;return r&&r.subscribe(e)},t.prototype[In]=function(){return this},t.prototype.pipe=function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];return e.length===0?this:al(e)(this)},t.prototype.toPromise=function(e){var r=this;return e=bc(e),new e(function(n,i){var s;r.subscribe(function(o){return s=o},function(o){return i(o)},function(){return n(s)})})},t.create=function(e){return new t(e)},t}();function bc(t){if(t||(t=Et.Promise||Promise),!t)throw new Error("no Promise impl found");return t}var pd=function(){function t(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}return t.prototype=Object.create(Error.prototype),t}(),tr=pd,cl=function(t){W(e,t);function e(r,n){var i=t.call(this)||this;return i.subject=r,i.subscriber=n,i.closed=!1,i}return e.prototype.unsubscribe=function(){if(!this.closed){this.closed=!0;var r=this.subject,n=r.observers;if(this.subject=null,!(!n||n.length===0||r.isStopped||r.closed)){var i=n.indexOf(this.subscriber);i!==-1&&n.splice(i,1)}}},e}(Ke),ul=function(t){W(e,t);function e(r){var n=t.call(this,r)||this;return n.destination=r,n}return e}(ee),nt=function(t){W(e,t);function e(){var r=t.call(this)||this;return r.observers=[],r.closed=!1,r.isStopped=!1,r.hasError=!1,r.thrownError=null,r}return e.prototype[Qi]=function(){return new ul(this)},e.prototype.lift=function(r){var n=new vc(this,this);return n.operator=r,n},e.prototype.next=function(r){if(this.closed)throw new tr;if(!this.isStopped)for(var n=this.observers,i=n.length,s=n.slice(),o=0;o<i;o++)s[o].next(r)},e.prototype.error=function(r){if(this.closed)throw new tr;this.hasError=!0,this.thrownError=r,this.isStopped=!0;for(var n=this.observers,i=n.length,s=n.slice(),o=0;o<i;o++)s[o].error(r);this.observers.length=0},e.prototype.complete=function(){if(this.closed)throw new tr;this.isStopped=!0;for(var r=this.observers,n=r.length,i=r.slice(),s=0;s<n;s++)i[s].complete();this.observers.length=0},e.prototype.unsubscribe=function(){this.isStopped=!0,this.closed=!0,this.observers=null},e.prototype._trySubscribe=function(r){if(this.closed)throw new tr;return t.prototype._trySubscribe.call(this,r)},e.prototype._subscribe=function(r){if(this.closed)throw new tr;return this.hasError?(r.error(this.thrownError),Ke.EMPTY):this.isStopped?(r.complete(),Ke.EMPTY):(this.observers.push(r),new cl(this,r))},e.prototype.asObservable=function(){var r=new ce;return r.source=this,r},e.create=function(r,n){return new vc(r,n)},e}(ce),vc=function(t){W(e,t);function e(r,n){var i=t.call(this)||this;return i.destination=r,i.source=n,i}return e.prototype.next=function(r){var n=this.destination;n&&n.next&&n.next(r)},e.prototype.error=function(r){var n=this.destination;n&&n.error&&this.destination.error(r)},e.prototype.complete=function(){var r=this.destination;r&&r.complete&&this.destination.complete()},e.prototype._subscribe=function(r){var n=this.source;return n?this.source.subscribe(r):Ke.EMPTY},e}(nt);function xa(){return function(e){return e.lift(new _d(e))}}var _d=function(){function t(e){this.connectable=e}return t.prototype.call=function(e,r){var n=this.connectable;n._refCount++;var i=new gd(e,n),s=r.subscribe(i);return i.closed||(i.connection=n.connect()),s},t}(),gd=function(t){W(e,t);function e(r,n){var i=t.call(this,r)||this;return i.connectable=n,i}return e.prototype._unsubscribe=function(){var r=this.connectable;if(!r){this.connection=null;return}this.connectable=null;var n=r._refCount;if(n<=0){this.connection=null;return}if(r._refCount=n-1,n>1){this.connection=null;return}var i=this.connection,s=r._connection;this.connection=null,s&&(!i||s===i)&&s.unsubscribe()},e}(ee),ll=function(t){W(e,t);function e(r,n){var i=t.call(this)||this;return i.source=r,i.subjectFactory=n,i._refCount=0,i._isComplete=!1,i}return e.prototype._subscribe=function(r){return this.getSubject().subscribe(r)},e.prototype.getSubject=function(){var r=this._subject;return(!r||r.isStopped)&&(this._subject=this.subjectFactory()),this._subject},e.prototype.connect=function(){var r=this._connection;return r||(this._isComplete=!1,r=this._connection=new Ke,r.add(this.source.subscribe(new vd(this.getSubject(),this))),r.closed&&(this._connection=null,r=Ke.EMPTY)),r},e.prototype.refCount=function(){return xa()(this)},e}(ce),bd=function(){var t=ll.prototype;return{operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:t._subscribe},_isComplete:{value:t._isComplete,writable:!0},getSubject:{value:t.getSubject},connect:{value:t.connect},refCount:{value:t.refCount}}}(),vd=function(t){W(e,t);function e(r,n){var i=t.call(this,r)||this;return i.connectable=n,i}return e.prototype._error=function(r){this._unsubscribe(),t.prototype._error.call(this,r)},e.prototype._complete=function(){this.connectable._isComplete=!0,this._unsubscribe(),t.prototype._complete.call(this)},e.prototype._unsubscribe=function(){var r=this.connectable;if(r){this.connectable=null;var n=r._connection;r._refCount=0,r._subject=null,r._connection=null,n&&n.unsubscribe()}},e}(ul);function md(t,e,r,n){return function(i){return i.lift(new yd(t,e,r,n))}}var yd=function(){function t(e,r,n,i){this.keySelector=e,this.elementSelector=r,this.durationSelector=n,this.subjectSelector=i}return t.prototype.call=function(e,r){return r.subscribe(new wd(e,this.keySelector,this.elementSelector,this.durationSelector,this.subjectSelector))},t}(),wd=function(t){W(e,t);function e(r,n,i,s,o){var c=t.call(this,r)||this;return c.keySelector=n,c.elementSelector=i,c.durationSelector=s,c.subjectSelector=o,c.groups=null,c.attemptedToUnsubscribe=!1,c.count=0,c}return e.prototype._next=function(r){var n;try{n=this.keySelector(r)}catch(i){this.error(i);return}this._group(r,n)},e.prototype._group=function(r,n){var i=this.groups;i||(i=this.groups=new Map);var s=i.get(n),o;if(this.elementSelector)try{o=this.elementSelector(r)}catch(h){this.error(h)}else o=r;if(!s){s=this.subjectSelector?this.subjectSelector():new nt,i.set(n,s);var c=new ta(n,s,this);if(this.destination.next(c),this.durationSelector){var l=void 0;try{l=this.durationSelector(new ta(n,s))}catch(h){this.error(h);return}this.add(l.subscribe(new Sd(n,s,this)))}}s.closed||s.next(o)},e.prototype._error=function(r){var n=this.groups;n&&(n.forEach(function(i,s){i.error(r)}),n.clear()),this.destination.error(r)},e.prototype._complete=function(){var r=this.groups;r&&(r.forEach(function(n,i){n.complete()}),r.clear()),this.destination.complete()},e.prototype.removeGroup=function(r){this.groups.delete(r)},e.prototype.unsubscribe=function(){this.closed||(this.attemptedToUnsubscribe=!0,this.count===0&&t.prototype.unsubscribe.call(this))},e}(ee),Sd=function(t){W(e,t);function e(r,n,i){var s=t.call(this,n)||this;return s.key=r,s.group=n,s.parent=i,s}return e.prototype._next=function(r){this.complete()},e.prototype._unsubscribe=function(){var r=this,n=r.parent,i=r.key;this.key=this.parent=null,n&&n.removeGroup(i)},e}(ee),ta=function(t){W(e,t);function e(r,n,i){var s=t.call(this)||this;return s.key=r,s.groupSubject=n,s.refCountSubscription=i,s}return e.prototype._subscribe=function(r){var n=new Ke,i=this,s=i.refCountSubscription,o=i.groupSubject;return s&&!s.closed&&n.add(new Ed(s)),n.add(o.subscribe(r)),n},e}(ce),Ed=function(t){W(e,t);function e(r){var n=t.call(this)||this;return n.parent=r,r.count++,n}return e.prototype.unsubscribe=function(){var r=this.parent;!r.closed&&!this.closed&&(t.prototype.unsubscribe.call(this),r.count-=1,r.count===0&&r.attemptedToUnsubscribe&&r.unsubscribe())},e}(Ke),fl=function(t){W(e,t);function e(r){var n=t.call(this)||this;return n._value=r,n}return Object.defineProperty(e.prototype,"value",{get:function(){return this.getValue()},enumerable:!0,configurable:!0}),e.prototype._subscribe=function(r){var n=t.prototype._subscribe.call(this,r);return n&&!n.closed&&r.next(this._value),n},e.prototype.getValue=function(){if(this.hasError)throw this.thrownError;if(this.closed)throw new tr;return this._value},e.prototype.next=function(r){t.prototype.next.call(this,this._value=r)},e}(nt),kd=function(t){W(e,t);function e(r,n){return t.call(this)||this}return e.prototype.schedule=function(r,n){return this},e}(Ke),li=function(t){W(e,t);function e(r,n){var i=t.call(this,r,n)||this;return i.scheduler=r,i.work=n,i.pending=!1,i}return e.prototype.schedule=function(r,n){if(n===void 0&&(n=0),this.closed)return this;this.state=r;var i=this.id,s=this.scheduler;return i!=null&&(this.id=this.recycleAsyncId(s,i,n)),this.pending=!0,this.delay=n,this.id=this.id||this.requestAsyncId(s,this.id,n),this},e.prototype.requestAsyncId=function(r,n,i){return i===void 0&&(i=0),setInterval(r.flush.bind(r,this),i)},e.prototype.recycleAsyncId=function(r,n,i){if(i===void 0&&(i=0),i!==null&&this.delay===i&&this.pending===!1)return n;clearInterval(n)},e.prototype.execute=function(r,n){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;var i=this._execute(r,n);if(i)return i;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))},e.prototype._execute=function(r,n){var i=!1,s=void 0;try{this.work(r)}catch(o){i=!0,s=!!o&&o||new Error(o)}if(i)return this.unsubscribe(),s},e.prototype._unsubscribe=function(){var r=this.id,n=this.scheduler,i=n.actions,s=i.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,s!==-1&&i.splice(s,1),r!=null&&(this.id=this.recycleAsyncId(n,r,null)),this.delay=null},e}(kd),xd=function(t){W(e,t);function e(r,n){var i=t.call(this,r,n)||this;return i.scheduler=r,i.work=n,i}return e.prototype.schedule=function(r,n){return n===void 0&&(n=0),n>0?t.prototype.schedule.call(this,r,n):(this.delay=n,this.state=r,this.scheduler.flush(this),this)},e.prototype.execute=function(r,n){return n>0||this.closed?t.prototype.execute.call(this,r,n):this._execute(r,n)},e.prototype.requestAsyncId=function(r,n,i){return i===void 0&&(i=0),i!==null&&i>0||i===null&&this.delay>0?t.prototype.requestAsyncId.call(this,r,n,i):r.flush(this)},e}(li),ra=function(){function t(e,r){r===void 0&&(r=t.now),this.SchedulerAction=e,this.now=r}return t.prototype.schedule=function(e,r,n){return r===void 0&&(r=0),new this.SchedulerAction(this,e).schedule(n,r)},t.now=function(){return Date.now()},t}(),fi=function(t){W(e,t);function e(r,n){n===void 0&&(n=ra.now);var i=t.call(this,r,function(){return e.delegate&&e.delegate!==i?e.delegate.now():n()})||this;return i.actions=[],i.active=!1,i.scheduled=void 0,i}return e.prototype.schedule=function(r,n,i){return n===void 0&&(n=0),e.delegate&&e.delegate!==this?e.delegate.schedule(r,n,i):t.prototype.schedule.call(this,r,n,i)},e.prototype.flush=function(r){var n=this.actions;if(this.active){n.push(r);return}var i;this.active=!0;do if(i=r.execute(r.state,r.delay))break;while(r=n.shift());if(this.active=!1,i){for(;r=n.shift();)r.unsubscribe();throw i}},e}(ra),Md=function(t){W(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e}(fi),hl=new Md(xd),dl=hl,_n=new ce(function(t){return t.complete()});function Tn(t){return t?Cd(t):_n}function Cd(t){return new ce(function(e){return t.schedule(function(){return e.complete()})})}function mt(t){return t&&typeof t.schedule=="function"}var pl=function(t){return function(e){for(var r=0,n=t.length;r<n&&!e.closed;r++)e.next(t[r]);e.complete()}};function Ma(t,e){return new ce(function(r){var n=new Ke,i=0;return n.add(e.schedule(function(){if(i===t.length){r.complete();return}r.next(t[i++]),r.closed||n.add(this.schedule())})),n})}function hi(t,e){return e?Ma(t,e):new ce(pl(t))}function bs(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var r=t[t.length-1];return mt(r)?(t.pop(),Ma(t,r)):hi(t)}function Ca(t,e){return e?new ce(function(r){return e.schedule(Ad,0,{error:t,subscriber:r})}):new ce(function(r){return r.error(t)})}function Ad(t){var e=t.error,r=t.subscriber;r.error(e)}var na;na||(na={});var zt=function(){function t(e,r,n){this.kind=e,this.value=r,this.error=n,this.hasValue=e==="N"}return t.prototype.observe=function(e){switch(this.kind){case"N":return e.next&&e.next(this.value);case"E":return e.error&&e.error(this.error);case"C":return e.complete&&e.complete()}},t.prototype.do=function(e,r,n){var i=this.kind;switch(i){case"N":return e&&e(this.value);case"E":return r&&r(this.error);case"C":return n&&n()}},t.prototype.accept=function(e,r,n){return e&&typeof e.next=="function"?this.observe(e):this.do(e,r,n)},t.prototype.toObservable=function(){var e=this.kind;switch(e){case"N":return bs(this.value);case"E":return Ca(this.error);case"C":return Tn()}throw new Error("unexpected notification kind value")},t.createNext=function(e){return typeof e<"u"?new t("N",e):t.undefinedValueNotification},t.createError=function(e){return new t("E",void 0,e)},t.createComplete=function(){return t.completeNotification},t.completeNotification=new t("C"),t.undefinedValueNotification=new t("N",void 0),t}();function Rd(t,e){return e===void 0&&(e=0),function(n){return n.lift(new Id(t,e))}}var Id=function(){function t(e,r){r===void 0&&(r=0),this.scheduler=e,this.delay=r}return t.prototype.call=function(e,r){return r.subscribe(new _l(e,this.scheduler,this.delay))},t}(),_l=function(t){W(e,t);function e(r,n,i){i===void 0&&(i=0);var s=t.call(this,r)||this;return s.scheduler=n,s.delay=i,s}return e.dispatch=function(r){var n=r.notification,i=r.destination;n.observe(i),this.unsubscribe()},e.prototype.scheduleMessage=function(r){var n=this.destination;n.add(this.scheduler.schedule(e.dispatch,this.delay,new Td(r,this.destination)))},e.prototype._next=function(r){this.scheduleMessage(zt.createNext(r))},e.prototype._error=function(r){this.scheduleMessage(zt.createError(r)),this.unsubscribe()},e.prototype._complete=function(){this.scheduleMessage(zt.createComplete()),this.unsubscribe()},e}(ee),Td=function(){function t(e,r){this.notification=e,this.destination=r}return t}(),Aa=function(t){W(e,t);function e(r,n,i){r===void 0&&(r=Number.POSITIVE_INFINITY),n===void 0&&(n=Number.POSITIVE_INFINITY);var s=t.call(this)||this;return s.scheduler=i,s._events=[],s._infiniteTimeWindow=!1,s._bufferSize=r<1?1:r,s._windowTime=n<1?1:n,n===Number.POSITIVE_INFINITY?(s._infiniteTimeWindow=!0,s.next=s.nextInfiniteTimeWindow):s.next=s.nextTimeWindow,s}return e.prototype.nextInfiniteTimeWindow=function(r){if(!this.isStopped){var n=this._events;n.push(r),n.length>this._bufferSize&&n.shift()}t.prototype.next.call(this,r)},e.prototype.nextTimeWindow=function(r){this.isStopped||(this._events.push(new Od(this._getNow(),r)),this._trimBufferThenGetEvents()),t.prototype.next.call(this,r)},e.prototype._subscribe=function(r){var n=this._infiniteTimeWindow,i=n?this._events:this._trimBufferThenGetEvents(),s=this.scheduler,o=i.length,c;if(this.closed)throw new tr;if(this.isStopped||this.hasError?c=Ke.EMPTY:(this.observers.push(r),c=new cl(this,r)),s&&r.add(r=new _l(r,s)),n)for(var l=0;l<o&&!r.closed;l++)r.next(i[l]);else for(var l=0;l<o&&!r.closed;l++)r.next(i[l].value);return this.hasError?r.error(this.thrownError):this.isStopped&&r.complete(),c},e.prototype._getNow=function(){return(this.scheduler||dl).now()},e.prototype._trimBufferThenGetEvents=function(){for(var r=this._getNow(),n=this._bufferSize,i=this._windowTime,s=this._events,o=s.length,c=0;c<o&&!(r-s[c].time<i);)c++;return o>n&&(c=Math.max(c,o-n)),c>0&&s.splice(0,c),s},e}(nt),Od=function(){function t(e,r){this.time=e,this.value=r}return t}(),On=function(t){W(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.value=null,r.hasNext=!1,r.hasCompleted=!1,r}return e.prototype._subscribe=function(r){return this.hasError?(r.error(this.thrownError),Ke.EMPTY):this.hasCompleted&&this.hasNext?(r.next(this.value),r.complete(),Ke.EMPTY):t.prototype._subscribe.call(this,r)},e.prototype.next=function(r){this.hasCompleted||(this.value=r,this.hasNext=!0)},e.prototype.error=function(r){this.hasCompleted||t.prototype.error.call(this,r)},e.prototype.complete=function(){this.hasCompleted=!0,this.hasNext&&t.prototype.next.call(this,this.value),t.prototype.complete.call(this)},e}(nt),Nd=1,Dd=function(){return Promise.resolve()}(),ia={};function mc(t){return t in ia?(delete ia[t],!0):!1}var yc={setImmediate:function(t){var e=Nd++;return ia[e]=!0,Dd.then(function(){return mc(e)&&t()}),e},clearImmediate:function(t){mc(t)}},Pd=function(t){W(e,t);function e(r,n){var i=t.call(this,r,n)||this;return i.scheduler=r,i.work=n,i}return e.prototype.requestAsyncId=function(r,n,i){return i===void 0&&(i=0),i!==null&&i>0?t.prototype.requestAsyncId.call(this,r,n,i):(r.actions.push(this),r.scheduled||(r.scheduled=yc.setImmediate(r.flush.bind(r,null))))},e.prototype.recycleAsyncId=function(r,n,i){if(i===void 0&&(i=0),i!==null&&i>0||i===null&&this.delay>0)return t.prototype.recycleAsyncId.call(this,r,n,i);r.actions.length===0&&(yc.clearImmediate(n),r.scheduled=void 0)},e}(li),Ld=function(t){W(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.flush=function(r){this.active=!0,this.scheduled=void 0;var n=this.actions,i,s=-1,o=n.length;r=r||n.shift();do if(i=r.execute(r.state,r.delay))break;while(++s<o&&(r=n.shift()));if(this.active=!1,i){for(;++s<o&&(r=n.shift());)r.unsubscribe();throw i}},e}(fi),gl=new Ld(Pd),$i=gl,bl=new fi(li),_t=bl,jd=function(t){W(e,t);function e(r,n){var i=t.call(this,r,n)||this;return i.scheduler=r,i.work=n,i}return e.prototype.requestAsyncId=function(r,n,i){return i===void 0&&(i=0),i!==null&&i>0?t.prototype.requestAsyncId.call(this,r,n,i):(r.actions.push(this),r.scheduled||(r.scheduled=requestAnimationFrame(function(){return r.flush(null)})))},e.prototype.recycleAsyncId=function(r,n,i){if(i===void 0&&(i=0),i!==null&&i>0||i===null&&this.delay>0)return t.prototype.recycleAsyncId.call(this,r,n,i);r.actions.length===0&&(cancelAnimationFrame(n),r.scheduled=void 0)},e}(li),Bd=function(t){W(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.flush=function(r){this.active=!0,this.scheduled=void 0;var n=this.actions,i,s=-1,o=n.length;r=r||n.shift();do if(i=r.execute(r.state,r.delay))break;while(++s<o&&(r=n.shift()));if(this.active=!1,i){for(;++s<o&&(r=n.shift());)r.unsubscribe();throw i}},e}(fi),vl=new Bd(jd),Fd=vl,Ud=function(t){W(e,t);function e(r,n){r===void 0&&(r=ml),n===void 0&&(n=Number.POSITIVE_INFINITY);var i=t.call(this,r,function(){return i.frame})||this;return i.maxFrames=n,i.frame=0,i.index=-1,i}return e.prototype.flush=function(){for(var r=this,n=r.actions,i=r.maxFrames,s,o;(o=n[0])&&o.delay<=i&&(n.shift(),this.frame=o.delay,!(s=o.execute(o.state,o.delay))););if(s){for(;o=n.shift();)o.unsubscribe();throw s}},e.frameTimeFactor=10,e}(fi),ml=function(t){W(e,t);function e(r,n,i){i===void 0&&(i=r.index+=1);var s=t.call(this,r,n)||this;return s.scheduler=r,s.work=n,s.index=i,s.active=!0,s.index=r.index=i,s}return e.prototype.schedule=function(r,n){if(n===void 0&&(n=0),!this.id)return t.prototype.schedule.call(this,r,n);this.active=!1;var i=new e(this.scheduler,this.work);return this.add(i),i.schedule(r,n)},e.prototype.requestAsyncId=function(r,n,i){i===void 0&&(i=0),this.delay=r.frame+i;var s=r.actions;return s.push(this),s.sort(e.sortActions),!0},e.prototype.recycleAsyncId=function(r,n,i){},e.prototype._execute=function(r,n){if(this.active===!0)return t.prototype._execute.call(this,r,n)},e.sortActions=function(r,n){return r.delay===n.delay?r.index===n.index?0:r.index>n.index?1:-1:r.delay>n.delay?1:-1},e}(li);function Pt(){}function $d(t){return!!t&&(t instanceof ce||typeof t.lift=="function"&&typeof t.subscribe=="function")}var Wd=function(){function t(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}return t.prototype=Object.create(Error.prototype),t}(),gn=Wd,Hd=function(){function t(){return Error.call(this),this.message="no elements in sequence",this.name="EmptyError",this}return t.prototype=Object.create(Error.prototype),t}(),di=Hd,Vd=function(){function t(){return Error.call(this),this.message="Timeout has occurred",this.name="TimeoutError",this}return t.prototype=Object.create(Error.prototype),t}(),yl=Vd;function Ct(t,e){return function(n){if(typeof t!="function")throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return n.lift(new qd(t,e))}}var qd=function(){function t(e,r){this.project=e,this.thisArg=r}return t.prototype.call=function(e,r){return r.subscribe(new zd(e,this.project,this.thisArg))},t}(),zd=function(t){W(e,t);function e(r,n,i){var s=t.call(this,r)||this;return s.project=n,s.count=0,s.thisArg=i||s,s}return e.prototype._next=function(r){var n;try{n=this.project.call(this.thisArg,r,this.count++)}catch(i){this.destination.error(i);return}this.destination.next(n)},e}(ee);function wl(t,e,r){if(e)if(mt(e))r=e;else return function(){for(var n=[],i=0;i<arguments.length;i++)n[i]=arguments[i];return wl(t,r).apply(void 0,n).pipe(Ct(function(s){return pt(s)?e.apply(void 0,s):e(s)}))};return function(){for(var n=[],i=0;i<arguments.length;i++)n[i]=arguments[i];var s=this,o,c={context:s,subject:o,callbackFunc:t,scheduler:r};return new ce(function(l){if(r){var d={args:n,subscriber:l,params:c};return r.schedule(Gd,0,d)}else{if(!o){o=new On;var h=function(){for(var C=[],m=0;m<arguments.length;m++)C[m]=arguments[m];o.next(C.length<=1?C[0]:C),o.complete()};try{t.apply(s,n.concat([h]))}catch(C){ka(o)?o.error(C):console.warn(C)}}return o.subscribe(l)}})}}function Gd(t){var e=this,r=t.args,n=t.subscriber,i=t.params,s=i.callbackFunc,o=i.context,c=i.scheduler,l=i.subject;if(!l){l=i.subject=new On;var h=function(){for(var d=[],C=0;C<arguments.length;C++)d[C]=arguments[C];var m=d.length<=1?d[0]:d;e.add(c.schedule(Zd,0,{value:m,subject:l}))};try{s.apply(o,r.concat([h]))}catch(d){l.error(d)}}this.add(l.subscribe(n))}function Zd(t){var e=t.value,r=t.subject;r.next(e),r.complete()}function Sl(t,e,r){if(e)if(mt(e))r=e;else return function(){for(var n=[],i=0;i<arguments.length;i++)n[i]=arguments[i];return Sl(t,r).apply(void 0,n).pipe(Ct(function(s){return pt(s)?e.apply(void 0,s):e(s)}))};return function(){for(var n=[],i=0;i<arguments.length;i++)n[i]=arguments[i];var s={subject:void 0,args:n,callbackFunc:t,scheduler:r,context:this};return new ce(function(o){var c=s.context,l=s.subject;if(r)return r.schedule(Kd,0,{params:s,subscriber:o,context:c});if(!l){l=s.subject=new On;var h=function(){for(var d=[],C=0;C<arguments.length;C++)d[C]=arguments[C];var m=d.shift();if(m){l.error(m);return}l.next(d.length<=1?d[0]:d),l.complete()};try{t.apply(c,n.concat([h]))}catch(d){ka(l)?l.error(d):console.warn(d)}}return l.subscribe(o)})}}function Kd(t){var e=this,r=t.params,n=t.subscriber,i=t.context,s=r.callbackFunc,o=r.args,c=r.scheduler,l=r.subject;if(!l){l=r.subject=new On;var h=function(){for(var d=[],C=0;C<arguments.length;C++)d[C]=arguments[C];var m=d.shift();if(m)e.add(c.schedule(wc,0,{err:m,subject:l}));else{var x=d.length<=1?d[0]:d;e.add(c.schedule(Qd,0,{value:x,subject:l}))}};try{s.apply(i,o.concat([h]))}catch(d){this.add(c.schedule(wc,0,{err:d,subject:l}))}}this.add(l.subscribe(n))}function Qd(t){var e=t.value,r=t.subject;r.next(e),r.complete()}function wc(t){var e=t.err,r=t.subject;r.error(e)}var Br=function(t){W(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.notifyNext=function(r,n,i,s,o){this.destination.next(n)},e.prototype.notifyError=function(r,n){this.destination.error(r)},e.prototype.notifyComplete=function(r){this.destination.complete()},e}(ee),Yd=function(t){W(e,t);function e(r,n,i){var s=t.call(this)||this;return s.parent=r,s.outerValue=n,s.outerIndex=i,s.index=0,s}return e.prototype._next=function(r){this.parent.notifyNext(this.outerValue,r,this.outerIndex,this.index++,this)},e.prototype._error=function(r){this.parent.notifyError(r,this),this.unsubscribe()},e.prototype._complete=function(){this.parent.notifyComplete(this),this.unsubscribe()},e}(ee),Jd=function(t){return function(e){return t.then(function(r){e.closed||(e.next(r),e.complete())},function(r){return e.error(r)}).then(null,sn),e}};function Xd(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var cr=Xd(),ep=function(t){return function(e){var r=t[cr]();do{var n=void 0;try{n=r.next()}catch(i){return e.error(i),e}if(n.done){e.complete();break}if(e.next(n.value),e.closed)break}while(!0);return typeof r.return=="function"&&e.add(function(){r.return&&r.return()}),e}},tp=function(t){return function(e){var r=t[In]();if(typeof r.subscribe!="function")throw new TypeError("Provided object does not correctly implement Symbol.observable");return r.subscribe(e)}},El=function(t){return t&&typeof t.length=="number"&&typeof t!="function"};function kl(t){return!!t&&typeof t.subscribe!="function"&&typeof t.then=="function"}var ni=function(t){if(!!t&&typeof t[In]=="function")return tp(t);if(El(t))return pl(t);if(kl(t))return Jd(t);if(!!t&&typeof t[cr]=="function")return ep(t);var e=Ea(t)?"an invalid object":"'"+t+"'",r="You provided "+e+" where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.";throw new TypeError(r)};function Gt(t,e,r,n,i){if(i===void 0&&(i=new Yd(t,r,n)),!i.closed)return e instanceof ce?e.subscribe(i):ni(e)(i)}var Sc={};function rp(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var r=void 0,n=void 0;return mt(t[t.length-1])&&(n=t.pop()),typeof t[t.length-1]=="function"&&(r=t.pop()),t.length===1&&pt(t[0])&&(t=t[0]),hi(t,n).lift(new Ra(r))}var Ra=function(){function t(e){this.resultSelector=e}return t.prototype.call=function(e,r){return r.subscribe(new np(e,this.resultSelector))},t}(),np=function(t){W(e,t);function e(r,n){var i=t.call(this,r)||this;return i.resultSelector=n,i.active=0,i.values=[],i.observables=[],i}return e.prototype._next=function(r){this.values.push(Sc),this.observables.push(r)},e.prototype._complete=function(){var r=this.observables,n=r.length;if(n===0)this.destination.complete();else{this.active=n,this.toRespond=n;for(var i=0;i<n;i++){var s=r[i];this.add(Gt(this,s,void 0,i))}}},e.prototype.notifyComplete=function(r){(this.active-=1)===0&&this.destination.complete()},e.prototype.notifyNext=function(r,n,i){var s=this.values,o=s[i],c=this.toRespond?o===Sc?--this.toRespond:this.toRespond:0;s[i]=n,c===0&&(this.resultSelector?this._tryResultSelector(s):this.destination.next(s.slice()))},e.prototype._tryResultSelector=function(r){var n;try{n=this.resultSelector.apply(this,r)}catch(i){this.destination.error(i);return}this.destination.next(n)},e}(Br);function ip(t,e){return new ce(function(r){var n=new Ke;return n.add(e.schedule(function(){var i=t[In]();n.add(i.subscribe({next:function(s){n.add(e.schedule(function(){return r.next(s)}))},error:function(s){n.add(e.schedule(function(){return r.error(s)}))},complete:function(){n.add(e.schedule(function(){return r.complete()}))}}))})),n})}function sp(t,e){return new ce(function(r){var n=new Ke;return n.add(e.schedule(function(){return t.then(function(i){n.add(e.schedule(function(){r.next(i),n.add(e.schedule(function(){return r.complete()}))}))},function(i){n.add(e.schedule(function(){return r.error(i)}))})})),n})}function op(t,e){if(!t)throw new Error("Iterable cannot be null");return new ce(function(r){var n=new Ke,i;return n.add(function(){i&&typeof i.return=="function"&&i.return()}),n.add(e.schedule(function(){i=t[cr](),n.add(e.schedule(function(){if(!r.closed){var s,o;try{var c=i.next();s=c.value,o=c.done}catch(l){r.error(l);return}o?r.complete():(r.next(s),this.schedule())}}))})),n})}function ap(t){return t&&typeof t[In]=="function"}function cp(t){return t&&typeof t[cr]=="function"}function xl(t,e){if(t!=null){if(ap(t))return ip(t,e);if(kl(t))return sp(t,e);if(El(t))return Ma(t,e);if(cp(t)||typeof t=="string")return op(t,e)}throw new TypeError((t!==null&&typeof t||t)+" is not observable")}function Kt(t,e){return e?xl(t,e):t instanceof ce?t:new ce(ni(t))}var Qe=function(t){W(e,t);function e(r){var n=t.call(this)||this;return n.parent=r,n}return e.prototype._next=function(r){this.parent.notifyNext(r)},e.prototype._error=function(r){this.parent.notifyError(r),this.unsubscribe()},e.prototype._complete=function(){this.parent.notifyComplete(),this.unsubscribe()},e}(ee),Ye=function(t){W(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.notifyNext=function(r){this.destination.next(r)},e.prototype.notifyError=function(r){this.destination.error(r)},e.prototype.notifyComplete=function(){this.destination.complete()},e}(ee);function Je(t,e){if(!e.closed){if(t instanceof ce)return t.subscribe(e);var r;try{r=ni(t)(e)}catch(n){e.error(n)}return r}}function Pr(t,e,r){return r===void 0&&(r=Number.POSITIVE_INFINITY),typeof e=="function"?function(n){return n.pipe(Pr(function(i,s){return Kt(t(i,s)).pipe(Ct(function(o,c){return e(i,o,s,c)}))},r))}:(typeof e=="number"&&(r=e),function(n){return n.lift(new up(t,r))})}var up=function(){function t(e,r){r===void 0&&(r=Number.POSITIVE_INFINITY),this.project=e,this.concurrent=r}return t.prototype.call=function(e,r){return r.subscribe(new lp(e,this.project,this.concurrent))},t}(),lp=function(t){W(e,t);function e(r,n,i){i===void 0&&(i=Number.POSITIVE_INFINITY);var s=t.call(this,r)||this;return s.project=n,s.concurrent=i,s.hasCompleted=!1,s.buffer=[],s.active=0,s.index=0,s}return e.prototype._next=function(r){this.active<this.concurrent?this._tryNext(r):this.buffer.push(r)},e.prototype._tryNext=function(r){var n,i=this.index++;try{n=this.project(r,i)}catch(s){this.destination.error(s);return}this.active++,this._innerSub(n)},e.prototype._innerSub=function(r){var n=new Qe(this),i=this.destination;i.add(n);var s=Je(r,n);s!==n&&i.add(s)},e.prototype._complete=function(){this.hasCompleted=!0,this.active===0&&this.buffer.length===0&&this.destination.complete(),this.unsubscribe()},e.prototype.notifyNext=function(r){this.destination.next(r)},e.prototype.notifyComplete=function(){var r=this.buffer;this.active--,r.length>0?this._next(r.shift()):this.active===0&&this.hasCompleted&&this.destination.complete()},e}(Ye),fp=Pr;function Ia(t){return t===void 0&&(t=Number.POSITIVE_INFINITY),Pr(ar,t)}function Ml(){return Ia(1)}function ii(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return Ml()(bs.apply(void 0,t))}function Ta(t){return new ce(function(e){var r;try{r=t()}catch(i){e.error(i);return}var n=r?Kt(r):Tn();return n.subscribe(e)})}function hp(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];if(t.length===1){var r=t[0];if(pt(r))return Ii(r,null);if(Ea(r)&&Object.getPrototypeOf(r)===Object.prototype){var n=Object.keys(r);return Ii(n.map(function(s){return r[s]}),n)}}if(typeof t[t.length-1]=="function"){var i=t.pop();return t=t.length===1&&pt(t[0])?t[0]:t,Ii(t,null).pipe(Ct(function(s){return i.apply(void 0,s)}))}return Ii(t,null)}function Ii(t,e){return new ce(function(r){var n=t.length;if(n===0){r.complete();return}for(var i=new Array(n),s=0,o=0,c=function(h){var d=Kt(t[h]),C=!1;r.add(d.subscribe({next:function(m){C||(C=!0,o++),i[h]=m},error:function(m){return r.error(m)},complete:function(){s++,(s===n||!C)&&(o===n&&r.next(e?e.reduce(function(m,x,A){return m[x]=i[A],m},{}):i),r.complete())}}))},l=0;l<n;l++)c(l)})}function Cl(t,e,r,n){return pn(r)&&(n=r,r=void 0),n?Cl(t,e,r).pipe(Ct(function(i){return pt(i)?n.apply(void 0,i):n(i)})):new ce(function(i){function s(o){arguments.length>1?i.next(Array.prototype.slice.call(arguments)):i.next(o)}Al(t,e,s,i,r)})}function Al(t,e,r,n,i){var s;if(_p(t)){var o=t;t.addEventListener(e,r,i),s=function(){return o.removeEventListener(e,r,i)}}else if(pp(t)){var c=t;t.on(e,r),s=function(){return c.off(e,r)}}else if(dp(t)){var l=t;t.addListener(e,r),s=function(){return l.removeListener(e,r)}}else if(t&&t.length)for(var h=0,d=t.length;h<d;h++)Al(t[h],e,r,n,i);else throw new TypeError("Invalid event target");n.add(s)}function dp(t){return t&&typeof t.addListener=="function"&&typeof t.removeListener=="function"}function pp(t){return t&&typeof t.on=="function"&&typeof t.off=="function"}function _p(t){return t&&typeof t.addEventListener=="function"&&typeof t.removeEventListener=="function"}function Rl(t,e,r){return r?Rl(t,e).pipe(Ct(function(n){return pt(n)?r.apply(void 0,n):r(n)})):new ce(function(n){var i=function(){for(var o=[],c=0;c<arguments.length;c++)o[c]=arguments[c];return n.next(o.length===1?o[0]:o)},s;try{s=t(i)}catch(o){n.error(o);return}if(!!pn(e))return function(){return e(i,s)}})}function gp(t,e,r,n,i){var s,o;if(arguments.length==1){var c=t;o=c.initialState,e=c.condition,r=c.iterate,s=c.resultSelector||ar,i=c.scheduler}else n===void 0||mt(n)?(o=t,s=ar,i=n):(o=t,s=n);return new ce(function(l){var h=o;if(i)return i.schedule(bp,0,{subscriber:l,iterate:r,condition:e,resultSelector:s,state:h});do{if(e){var d=void 0;try{d=e(h)}catch(m){l.error(m);return}if(!d){l.complete();break}}var C=void 0;try{C=s(h)}catch(m){l.error(m);return}if(l.next(C),l.closed)break;try{h=r(h)}catch(m){l.error(m);return}}while(!0)})}function bp(t){var e=t.subscriber,r=t.condition;if(!e.closed){if(t.needIterate)try{t.state=t.iterate(t.state)}catch(s){e.error(s);return}else t.needIterate=!0;if(r){var n=void 0;try{n=r(t.state)}catch(s){e.error(s);return}if(!n){e.complete();return}if(e.closed)return}var i;try{i=t.resultSelector(t.state)}catch(s){e.error(s);return}if(!e.closed&&(e.next(i),!e.closed))return this.schedule(t)}}function vp(t,e,r){return e===void 0&&(e=_n),r===void 0&&(r=_n),Ta(function(){return t()?e:r})}function bn(t){return!pt(t)&&t-parseFloat(t)+1>=0}function mp(t,e){return t===void 0&&(t=0),e===void 0&&(e=_t),(!bn(t)||t<0)&&(t=0),(!e||typeof e.schedule!="function")&&(e=_t),new ce(function(r){return r.add(e.schedule(yp,t,{subscriber:r,counter:0,period:t})),r})}function yp(t){var e=t.subscriber,r=t.counter,n=t.period;e.next(r),this.schedule({subscriber:e,counter:r+1,period:n},n)}function Il(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var r=Number.POSITIVE_INFINITY,n=null,i=t[t.length-1];return mt(i)?(n=t.pop(),t.length>1&&typeof t[t.length-1]=="number"&&(r=t.pop())):typeof i=="number"&&(r=t.pop()),n===null&&t.length===1&&t[0]instanceof ce?t[0]:Ia(r)(hi(t,n))}var Tl=new ce(Pt);function wp(){return Tl}function sa(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];if(t.length===0)return _n;var r=t[0],n=t.slice(1);return t.length===1&&pt(r)?sa.apply(void 0,r):new ce(function(i){var s=function(){return i.add(sa.apply(void 0,n).subscribe(i))};return Kt(r).subscribe({next:function(o){i.next(o)},error:s,complete:s})})}function Sp(t,e){return e?new ce(function(r){var n=Object.keys(t),i=new Ke;return i.add(e.schedule(Ep,0,{keys:n,index:0,subscriber:r,subscription:i,obj:t})),i}):new ce(function(r){for(var n=Object.keys(t),i=0;i<n.length&&!r.closed;i++){var s=n[i];t.hasOwnProperty(s)&&r.next([s,t[s]])}r.complete()})}function Ep(t){var e=t.keys,r=t.index,n=t.subscriber,i=t.subscription,s=t.obj;if(!n.closed)if(r<e.length){var o=e[r];n.next([o,s[o]]),i.add(this.schedule({keys:e,index:r+1,subscriber:n,subscription:i,obj:s}))}else n.complete()}function Ol(t,e){function r(){return!r.pred.apply(r.thisArg,arguments)}return r.pred=t,r.thisArg=e,r}function ur(t,e){return function(n){return n.lift(new kp(t,e))}}var kp=function(){function t(e,r){this.predicate=e,this.thisArg=r}return t.prototype.call=function(e,r){return r.subscribe(new xp(e,this.predicate,this.thisArg))},t}(),xp=function(t){W(e,t);function e(r,n,i){var s=t.call(this,r)||this;return s.predicate=n,s.thisArg=i,s.count=0,s}return e.prototype._next=function(r){var n;try{n=this.predicate.call(this.thisArg,r,this.count++)}catch(i){this.destination.error(i);return}n&&this.destination.next(r)},e}(ee);function Mp(t,e,r){return[ur(e,r)(new ce(ni(t))),ur(Ol(e,r))(new ce(ni(t)))]}function Nl(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];if(t.length===1)if(pt(t[0]))t=t[0];else return t[0];return hi(t,void 0).lift(new Cp)}var Cp=function(){function t(){}return t.prototype.call=function(e,r){return r.subscribe(new Ap(e))},t}(),Ap=function(t){W(e,t);function e(r){var n=t.call(this,r)||this;return n.hasFirst=!1,n.observables=[],n.subscriptions=[],n}return e.prototype._next=function(r){this.observables.push(r)},e.prototype._complete=function(){var r=this.observables,n=r.length;if(n===0)this.destination.complete();else{for(var i=0;i<n&&!this.hasFirst;i++){var s=r[i],o=Gt(this,s,void 0,i);this.subscriptions&&this.subscriptions.push(o),this.add(o)}this.observables=null}},e.prototype.notifyNext=function(r,n,i){if(!this.hasFirst){this.hasFirst=!0;for(var s=0;s<this.subscriptions.length;s++)if(s!==i){var o=this.subscriptions[s];o.unsubscribe(),this.remove(o)}this.subscriptions=null}this.destination.next(n)},e}(Br);function Rp(t,e,r){return t===void 0&&(t=0),new ce(function(n){e===void 0&&(e=t,t=0);var i=0,s=t;if(r)return r.schedule(Ip,0,{index:i,count:e,start:t,subscriber:n});do{if(i++>=e){n.complete();break}if(n.next(s++),n.closed)break}while(!0)})}function Ip(t){var e=t.start,r=t.index,n=t.count,i=t.subscriber;if(r>=n){i.complete();return}i.next(e),!i.closed&&(t.index=r+1,t.start=e+1,this.schedule(t))}function Dl(t,e,r){t===void 0&&(t=0);var n=-1;return bn(e)?n=Number(e)<1&&1||Number(e):mt(e)&&(r=e),mt(r)||(r=_t),new ce(function(i){var s=bn(t)?t:+t-r.now();return r.schedule(Tp,s,{index:0,period:n,subscriber:i})})}function Tp(t){var e=t.index,r=t.period,n=t.subscriber;if(n.next(e),!n.closed){if(r===-1)return n.complete();t.index=e+1,this.schedule(t,r)}}function Op(t,e){return new ce(function(r){var n;try{n=t()}catch(c){r.error(c);return}var i;try{i=e(n)}catch(c){r.error(c);return}var s=i?Kt(i):_n,o=s.subscribe(r);return function(){o.unsubscribe(),n&&n.unsubscribe()}})}function Pl(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var r=t[t.length-1];return typeof r=="function"&&t.pop(),hi(t,void 0).lift(new Ll(r))}var Ll=function(){function t(e){this.resultSelector=e}return t.prototype.call=function(e,r){return r.subscribe(new Np(e,this.resultSelector))},t}(),Np=function(t){W(e,t);function e(r,n,i){var s=t.call(this,r)||this;return s.resultSelector=n,s.iterators=[],s.active=0,s.resultSelector=typeof n=="function"?n:void 0,s}return e.prototype._next=function(r){var n=this.iterators;pt(r)?n.push(new Pp(r)):typeof r[cr]=="function"?n.push(new Dp(r[cr]())):n.push(new Lp(this.destination,this,r))},e.prototype._complete=function(){var r=this.iterators,n=r.length;if(this.unsubscribe(),n===0){this.destination.complete();return}this.active=n;for(var i=0;i<n;i++){var s=r[i];if(s.stillUnsubscribed){var o=this.destination;o.add(s.subscribe())}else this.active--}},e.prototype.notifyInactive=function(){this.active--,this.active===0&&this.destination.complete()},e.prototype.checkIterators=function(){for(var r=this.iterators,n=r.length,i=this.destination,s=0;s<n;s++){var o=r[s];if(typeof o.hasValue=="function"&&!o.hasValue())return}for(var c=!1,l=[],s=0;s<n;s++){var o=r[s],h=o.next();if(o.hasCompleted()&&(c=!0),h.done){i.complete();return}l.push(h.value)}this.resultSelector?this._tryresultSelector(l):i.next(l),c&&i.complete()},e.prototype._tryresultSelector=function(r){var n;try{n=this.resultSelector.apply(this,r)}catch(i){this.destination.error(i);return}this.destination.next(n)},e}(ee),Dp=function(){function t(e){this.iterator=e,this.nextResult=e.next()}return t.prototype.hasValue=function(){return!0},t.prototype.next=function(){var e=this.nextResult;return this.nextResult=this.iterator.next(),e},t.prototype.hasCompleted=function(){var e=this.nextResult;return Boolean(e&&e.done)},t}(),Pp=function(){function t(e){this.array=e,this.index=0,this.length=0,this.length=e.length}return t.prototype[cr]=function(){return this},t.prototype.next=function(e){var r=this.index++,n=this.array;return r<this.length?{value:n[r],done:!1}:{value:null,done:!0}},t.prototype.hasValue=function(){return this.array.length>this.index},t.prototype.hasCompleted=function(){return this.array.length===this.index},t}(),Lp=function(t){W(e,t);function e(r,n,i){var s=t.call(this,r)||this;return s.parent=n,s.observable=i,s.stillUnsubscribed=!0,s.buffer=[],s.isComplete=!1,s}return e.prototype[cr]=function(){return this},e.prototype.next=function(){var r=this.buffer;return r.length===0&&this.isComplete?{value:null,done:!0}:{value:r.shift(),done:!1}},e.prototype.hasValue=function(){return this.buffer.length>0},e.prototype.hasCompleted=function(){return this.buffer.length===0&&this.isComplete},e.prototype.notifyComplete=function(){this.buffer.length>0?(this.isComplete=!0,this.parent.notifyInactive()):this.destination.complete()},e.prototype.notifyNext=function(r){this.buffer.push(r),this.parent.checkIterators()},e.prototype.subscribe=function(){return Je(this.observable,new Qe(this))},e}(Ye);const jp=Object.freeze(Object.defineProperty({__proto__:null,Observable:ce,ConnectableObservable:ll,GroupedObservable:ta,observable:In,Subject:nt,BehaviorSubject:fl,ReplaySubject:Aa,AsyncSubject:On,asap:$i,asapScheduler:gl,async:_t,asyncScheduler:bl,queue:dl,queueScheduler:hl,animationFrame:Fd,animationFrameScheduler:vl,VirtualTimeScheduler:Ud,VirtualAction:ml,Scheduler:ra,Subscription:Ke,Subscriber:ee,Notification:zt,get NotificationKind(){return na},pipe:ea,noop:Pt,identity:ar,isObservable:$d,ArgumentOutOfRangeError:gn,EmptyError:di,ObjectUnsubscribedError:tr,UnsubscriptionError:zn,TimeoutError:yl,bindCallback:wl,bindNodeCallback:Sl,combineLatest:rp,concat:ii,defer:Ta,empty:Tn,forkJoin:hp,from:Kt,fromEvent:Cl,fromEventPattern:Rl,generate:gp,iif:vp,interval:mp,merge:Il,never:wp,of:bs,onErrorResumeNext:sa,pairs:Sp,partition:Mp,race:Nl,range:Rp,throwError:Ca,timer:Dl,using:Op,zip:Pl,scheduled:xl,EMPTY:_n,NEVER:Tl,config:Et},Symbol.toStringTag,{value:"Module"})),Nn=ci(jp);function jl(t){return function(r){return r.lift(new Bp(t))}}var Bp=function(){function t(e){this.durationSelector=e}return t.prototype.call=function(e,r){return r.subscribe(new Fp(e,this.durationSelector))},t}(),Fp=function(t){W(e,t);function e(r,n){var i=t.call(this,r)||this;return i.durationSelector=n,i.hasValue=!1,i}return e.prototype._next=function(r){if(this.value=r,this.hasValue=!0,!this.throttled){var n=void 0;try{var i=this.durationSelector;n=i(r)}catch(o){return this.destination.error(o)}var s=Je(n,new Qe(this));!s||s.closed?this.clearThrottle():this.add(this.throttled=s)}},e.prototype.clearThrottle=function(){var r=this,n=r.value,i=r.hasValue,s=r.throttled;s&&(this.remove(s),this.throttled=void 0,s.unsubscribe()),i&&(this.value=void 0,this.hasValue=!1,this.destination.next(n))},e.prototype.notifyNext=function(){this.clearThrottle()},e.prototype.notifyComplete=function(){this.clearThrottle()},e}(Ye);function Up(t,e){return e===void 0&&(e=_t),jl(function(){return Dl(t,e)})}function $p(t){return function(r){return r.lift(new Wp(t))}}var Wp=function(){function t(e){this.closingNotifier=e}return t.prototype.call=function(e,r){return r.subscribe(new Hp(e,this.closingNotifier))},t}(),Hp=function(t){W(e,t);function e(r,n){var i=t.call(this,r)||this;return i.buffer=[],i.add(Je(n,new Qe(i))),i}return e.prototype._next=function(r){this.buffer.push(r)},e.prototype.notifyNext=function(){var r=this.buffer;this.buffer=[],this.destination.next(r)},e}(Ye);function Vp(t,e){return e===void 0&&(e=null),function(n){return n.lift(new qp(t,e))}}var qp=function(){function t(e,r){this.bufferSize=e,this.startBufferEvery=r,!r||e===r?this.subscriberClass=zp:this.subscriberClass=Gp}return t.prototype.call=function(e,r){return r.subscribe(new this.subscriberClass(e,this.bufferSize,this.startBufferEvery))},t}(),zp=function(t){W(e,t);function e(r,n){var i=t.call(this,r)||this;return i.bufferSize=n,i.buffer=[],i}return e.prototype._next=function(r){var n=this.buffer;n.push(r),n.length==this.bufferSize&&(this.destination.next(n),this.buffer=[])},e.prototype._complete=function(){var r=this.buffer;r.length>0&&this.destination.next(r),t.prototype._complete.call(this)},e}(ee),Gp=function(t){W(e,t);function e(r,n,i){var s=t.call(this,r)||this;return s.bufferSize=n,s.startBufferEvery=i,s.buffers=[],s.count=0,s}return e.prototype._next=function(r){var n=this,i=n.bufferSize,s=n.startBufferEvery,o=n.buffers,c=n.count;this.count++,c%s===0&&o.push([]);for(var l=o.length;l--;){var h=o[l];h.push(r),h.length===i&&(o.splice(l,1),this.destination.next(h))}},e.prototype._complete=function(){for(var r=this,n=r.buffers,i=r.destination;n.length>0;){var s=n.shift();s.length>0&&i.next(s)}t.prototype._complete.call(this)},e}(ee);function Zp(t){var e=arguments.length,r=_t;mt(arguments[arguments.length-1])&&(r=arguments[arguments.length-1],e--);var n=null;e>=2&&(n=arguments[1]);var i=Number.POSITIVE_INFINITY;return e>=3&&(i=arguments[2]),function(o){return o.lift(new Kp(t,n,i,r))}}var Kp=function(){function t(e,r,n,i){this.bufferTimeSpan=e,this.bufferCreationInterval=r,this.maxBufferSize=n,this.scheduler=i}return t.prototype.call=function(e,r){return r.subscribe(new Yp(e,this.bufferTimeSpan,this.bufferCreationInterval,this.maxBufferSize,this.scheduler))},t}(),Qp=function(){function t(){this.buffer=[]}return t}(),Yp=function(t){W(e,t);function e(r,n,i,s,o){var c=t.call(this,r)||this;c.bufferTimeSpan=n,c.bufferCreationInterval=i,c.maxBufferSize=s,c.scheduler=o,c.contexts=[];var l=c.openContext();if(c.timespanOnly=i==null||i<0,c.timespanOnly){var h={subscriber:c,context:l,bufferTimeSpan:n};c.add(l.closeAction=o.schedule(Ec,n,h))}else{var d={subscriber:c,context:l},C={bufferTimeSpan:n,bufferCreationInterval:i,subscriber:c,scheduler:o};c.add(l.closeAction=o.schedule(Bl,n,d)),c.add(o.schedule(Jp,i,C))}return c}return e.prototype._next=function(r){for(var n=this.contexts,i=n.length,s,o=0;o<i;o++){var c=n[o],l=c.buffer;l.push(r),l.length==this.maxBufferSize&&(s=c)}s&&this.onBufferFull(s)},e.prototype._error=function(r){this.contexts.length=0,t.prototype._error.call(this,r)},e.prototype._complete=function(){for(var r=this,n=r.contexts,i=r.destination;n.length>0;){var s=n.shift();i.next(s.buffer)}t.prototype._complete.call(this)},e.prototype._unsubscribe=function(){this.contexts=null},e.prototype.onBufferFull=function(r){this.closeContext(r);var n=r.closeAction;if(n.unsubscribe(),this.remove(n),!this.closed&&this.timespanOnly){r=this.openContext();var i=this.bufferTimeSpan,s={subscriber:this,context:r,bufferTimeSpan:i};this.add(r.closeAction=this.scheduler.schedule(Ec,i,s))}},e.prototype.openContext=function(){var r=new Qp;return this.contexts.push(r),r},e.prototype.closeContext=function(r){this.destination.next(r.buffer);var n=this.contexts,i=n?n.indexOf(r):-1;i>=0&&n.splice(n.indexOf(r),1)},e}(ee);function Ec(t){var e=t.subscriber,r=t.context;r&&e.closeContext(r),e.closed||(t.context=e.openContext(),t.context.closeAction=this.schedule(t,t.bufferTimeSpan))}function Jp(t){var e=t.bufferCreationInterval,r=t.bufferTimeSpan,n=t.subscriber,i=t.scheduler,s=n.openContext(),o=this;n.closed||(n.add(s.closeAction=i.schedule(Bl,r,{subscriber:n,context:s})),o.schedule(t,e))}function Bl(t){var e=t.subscriber,r=t.context;e.closeContext(r)}function Xp(t,e){return function(n){return n.lift(new e0(t,e))}}var e0=function(){function t(e,r){this.openings=e,this.closingSelector=r}return t.prototype.call=function(e,r){return r.subscribe(new t0(e,this.openings,this.closingSelector))},t}(),t0=function(t){W(e,t);function e(r,n,i){var s=t.call(this,r)||this;return s.closingSelector=i,s.contexts=[],s.add(Gt(s,n)),s}return e.prototype._next=function(r){for(var n=this.contexts,i=n.length,s=0;s<i;s++)n[s].buffer.push(r)},e.prototype._error=function(r){for(var n=this.contexts;n.length>0;){var i=n.shift();i.subscription.unsubscribe(),i.buffer=null,i.subscription=null}this.contexts=null,t.prototype._error.call(this,r)},e.prototype._complete=function(){for(var r=this.contexts;r.length>0;){var n=r.shift();this.destination.next(n.buffer),n.subscription.unsubscribe(),n.buffer=null,n.subscription=null}this.contexts=null,t.prototype._complete.call(this)},e.prototype.notifyNext=function(r,n){r?this.closeBuffer(r):this.openBuffer(n)},e.prototype.notifyComplete=function(r){this.closeBuffer(r.context)},e.prototype.openBuffer=function(r){try{var n=this.closingSelector,i=n.call(this,r);i&&this.trySubscribe(i)}catch(s){this._error(s)}},e.prototype.closeBuffer=function(r){var n=this.contexts;if(n&&r){var i=r.buffer,s=r.subscription;this.destination.next(i),n.splice(n.indexOf(r),1),this.remove(s),s.unsubscribe()}},e.prototype.trySubscribe=function(r){var n=this.contexts,i=[],s=new Ke,o={buffer:i,subscription:s};n.push(o);var c=Gt(this,r,o);!c||c.closed?this.closeBuffer(o):(c.context=o,this.add(c),s.add(c))},e}(Br);function r0(t){return function(e){return e.lift(new n0(t))}}var n0=function(){function t(e){this.closingSelector=e}return t.prototype.call=function(e,r){return r.subscribe(new i0(e,this.closingSelector))},t}(),i0=function(t){W(e,t);function e(r,n){var i=t.call(this,r)||this;return i.closingSelector=n,i.subscribing=!1,i.openBuffer(),i}return e.prototype._next=function(r){this.buffer.push(r)},e.prototype._complete=function(){var r=this.buffer;r&&this.destination.next(r),t.prototype._complete.call(this)},e.prototype._unsubscribe=function(){this.buffer=void 0,this.subscribing=!1},e.prototype.notifyNext=function(){this.openBuffer()},e.prototype.notifyComplete=function(){this.subscribing?this.complete():this.openBuffer()},e.prototype.openBuffer=function(){var r=this.closingSubscription;r&&(this.remove(r),r.unsubscribe());var n=this.buffer;this.buffer&&this.destination.next(n),this.buffer=[];var i;try{var s=this.closingSelector;i=s()}catch(o){return this.error(o)}r=new Ke,this.closingSubscription=r,this.add(r),this.subscribing=!0,r.add(Je(i,new Qe(this))),this.subscribing=!1},e}(Ye);function s0(t){return function(r){var n=new o0(t),i=r.lift(n);return n.caught=i}}var o0=function(){function t(e){this.selector=e}return t.prototype.call=function(e,r){return r.subscribe(new a0(e,this.selector,this.caught))},t}(),a0=function(t){W(e,t);function e(r,n,i){var s=t.call(this,r)||this;return s.selector=n,s.caught=i,s}return e.prototype.error=function(r){if(!this.isStopped){var n=void 0;try{n=this.selector(r,this.caught)}catch(o){t.prototype.error.call(this,o);return}this._unsubscribeAndRecycle();var i=new Qe(this);this.add(i);var s=Je(n,i);s!==i&&this.add(s)}},e}(Ye);function c0(t){return function(e){return e.lift(new Ra(t))}}function u0(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var r=null;return typeof t[t.length-1]=="function"&&(r=t.pop()),t.length===1&&pt(t[0])&&(t=t[0].slice()),function(n){return n.lift.call(Kt([n].concat(t)),new Ra(r))}}function l0(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return function(r){return r.lift.call(ii.apply(void 0,[r].concat(t)))}}function Fl(t,e){return Pr(t,e,1)}function f0(t,e){return Fl(function(){return t},e)}function h0(t){return function(e){return e.lift(new d0(t,e))}}var d0=function(){function t(e,r){this.predicate=e,this.source=r}return t.prototype.call=function(e,r){return r.subscribe(new p0(e,this.predicate,this.source))},t}(),p0=function(t){W(e,t);function e(r,n,i){var s=t.call(this,r)||this;return s.predicate=n,s.source=i,s.count=0,s.index=0,s}return e.prototype._next=function(r){this.predicate?this._tryPredicate(r):this.count++},e.prototype._tryPredicate=function(r){var n;try{n=this.predicate(r,this.index++,this.source)}catch(i){this.destination.error(i);return}n&&this.count++},e.prototype._complete=function(){this.destination.next(this.count),this.destination.complete()},e}(ee);function _0(t){return function(e){return e.lift(new g0(t))}}var g0=function(){function t(e){this.durationSelector=e}return t.prototype.call=function(e,r){return r.subscribe(new b0(e,this.durationSelector))},t}(),b0=function(t){W(e,t);function e(r,n){var i=t.call(this,r)||this;return i.durationSelector=n,i.hasValue=!1,i}return e.prototype._next=function(r){try{var n=this.durationSelector.call(this,r);n&&this._tryNext(r,n)}catch(i){this.destination.error(i)}},e.prototype._complete=function(){this.emitValue(),this.destination.complete()},e.prototype._tryNext=function(r,n){var i=this.durationSubscription;this.value=r,this.hasValue=!0,i&&(i.unsubscribe(),this.remove(i)),i=Je(n,new Qe(this)),i&&!i.closed&&this.add(this.durationSubscription=i)},e.prototype.notifyNext=function(){this.emitValue()},e.prototype.notifyComplete=function(){this.emitValue()},e.prototype.emitValue=function(){if(this.hasValue){var r=this.value,n=this.durationSubscription;n&&(this.durationSubscription=void 0,n.unsubscribe(),this.remove(n)),this.value=void 0,this.hasValue=!1,t.prototype._next.call(this,r)}},e}(Ye);function v0(t,e){return e===void 0&&(e=_t),function(r){return r.lift(new m0(t,e))}}var m0=function(){function t(e,r){this.dueTime=e,this.scheduler=r}return t.prototype.call=function(e,r){return r.subscribe(new y0(e,this.dueTime,this.scheduler))},t}(),y0=function(t){W(e,t);function e(r,n,i){var s=t.call(this,r)||this;return s.dueTime=n,s.scheduler=i,s.debouncedSubscription=null,s.lastValue=null,s.hasValue=!1,s}return e.prototype._next=function(r){this.clearDebounce(),this.lastValue=r,this.hasValue=!0,this.add(this.debouncedSubscription=this.scheduler.schedule(w0,this.dueTime,this))},e.prototype._complete=function(){this.debouncedNext(),this.destination.complete()},e.prototype.debouncedNext=function(){if(this.clearDebounce(),this.hasValue){var r=this.lastValue;this.lastValue=null,this.hasValue=!1,this.destination.next(r)}},e.prototype.clearDebounce=function(){var r=this.debouncedSubscription;r!==null&&(this.remove(r),r.unsubscribe(),this.debouncedSubscription=null)},e}(ee);function w0(t){t.debouncedNext()}function pi(t){return t===void 0&&(t=null),function(e){return e.lift(new S0(t))}}var S0=function(){function t(e){this.defaultValue=e}return t.prototype.call=function(e,r){return r.subscribe(new E0(e,this.defaultValue))},t}(),E0=function(t){W(e,t);function e(r,n){var i=t.call(this,r)||this;return i.defaultValue=n,i.isEmpty=!0,i}return e.prototype._next=function(r){this.isEmpty=!1,this.destination.next(r)},e.prototype._complete=function(){this.isEmpty&&this.destination.next(this.defaultValue),this.destination.complete()},e}(ee);function Ul(t){return t instanceof Date&&!isNaN(+t)}function k0(t,e){e===void 0&&(e=_t);var r=Ul(t),n=r?+t-e.now():Math.abs(t);return function(i){return i.lift(new x0(n,e))}}var x0=function(){function t(e,r){this.delay=e,this.scheduler=r}return t.prototype.call=function(e,r){return r.subscribe(new M0(e,this.delay,this.scheduler))},t}(),M0=function(t){W(e,t);function e(r,n,i){var s=t.call(this,r)||this;return s.delay=n,s.scheduler=i,s.queue=[],s.active=!1,s.errored=!1,s}return e.dispatch=function(r){for(var n=r.source,i=n.queue,s=r.scheduler,o=r.destination;i.length>0&&i[0].time-s.now()<=0;)i.shift().notification.observe(o);if(i.length>0){var c=Math.max(0,i[0].time-s.now());this.schedule(r,c)}else this.unsubscribe(),n.active=!1},e.prototype._schedule=function(r){this.active=!0;var n=this.destination;n.add(r.schedule(e.dispatch,this.delay,{source:this,destination:this.destination,scheduler:r}))},e.prototype.scheduleNotification=function(r){if(this.errored!==!0){var n=this.scheduler,i=new C0(n.now()+this.delay,r);this.queue.push(i),this.active===!1&&this._schedule(n)}},e.prototype._next=function(r){this.scheduleNotification(zt.createNext(r))},e.prototype._error=function(r){this.errored=!0,this.queue=[],this.destination.error(r),this.unsubscribe()},e.prototype._complete=function(){this.scheduleNotification(zt.createComplete()),this.unsubscribe()},e}(ee),C0=function(){function t(e,r){this.time=e,this.notification=r}return t}();function A0(t,e){return e?function(r){return new I0(r,e).lift(new kc(t))}:function(r){return r.lift(new kc(t))}}var kc=function(){function t(e){this.delayDurationSelector=e}return t.prototype.call=function(e,r){return r.subscribe(new R0(e,this.delayDurationSelector))},t}(),R0=function(t){W(e,t);function e(r,n){var i=t.call(this,r)||this;return i.delayDurationSelector=n,i.completed=!1,i.delayNotifierSubscriptions=[],i.index=0,i}return e.prototype.notifyNext=function(r,n,i,s,o){this.destination.next(r),this.removeSubscription(o),this.tryComplete()},e.prototype.notifyError=function(r,n){this._error(r)},e.prototype.notifyComplete=function(r){var n=this.removeSubscription(r);n&&this.destination.next(n),this.tryComplete()},e.prototype._next=function(r){var n=this.index++;try{var i=this.delayDurationSelector(r,n);i&&this.tryDelay(i,r)}catch(s){this.destination.error(s)}},e.prototype._complete=function(){this.completed=!0,this.tryComplete(),this.unsubscribe()},e.prototype.removeSubscription=function(r){r.unsubscribe();var n=this.delayNotifierSubscriptions.indexOf(r);return n!==-1&&this.delayNotifierSubscriptions.splice(n,1),r.outerValue},e.prototype.tryDelay=function(r,n){var i=Gt(this,r,n);if(i&&!i.closed){var s=this.destination;s.add(i),this.delayNotifierSubscriptions.push(i)}},e.prototype.tryComplete=function(){this.completed&&this.delayNotifierSubscriptions.length===0&&this.destination.complete()},e}(Br),I0=function(t){W(e,t);function e(r,n){var i=t.call(this)||this;return i.source=r,i.subscriptionDelay=n,i}return e.prototype._subscribe=function(r){this.subscriptionDelay.subscribe(new T0(r,this.source))},e}(ce),T0=function(t){W(e,t);function e(r,n){var i=t.call(this)||this;return i.parent=r,i.source=n,i.sourceSubscribed=!1,i}return e.prototype._next=function(r){this.subscribeToSource()},e.prototype._error=function(r){this.unsubscribe(),this.parent.error(r)},e.prototype._complete=function(){this.unsubscribe(),this.subscribeToSource()},e.prototype.subscribeToSource=function(){this.sourceSubscribed||(this.sourceSubscribed=!0,this.unsubscribe(),this.source.subscribe(this.parent))},e}(ee);function O0(){return function(e){return e.lift(new N0)}}var N0=function(){function t(){}return t.prototype.call=function(e,r){return r.subscribe(new D0(e))},t}(),D0=function(t){W(e,t);function e(r){return t.call(this,r)||this}return e.prototype._next=function(r){r.observe(this.destination)},e}(ee);function P0(t,e){return function(r){return r.lift(new L0(t,e))}}var L0=function(){function t(e,r){this.keySelector=e,this.flushes=r}return t.prototype.call=function(e,r){return r.subscribe(new j0(e,this.keySelector,this.flushes))},t}(),j0=function(t){W(e,t);function e(r,n,i){var s=t.call(this,r)||this;return s.keySelector=n,s.values=new Set,i&&s.add(Je(i,new Qe(s))),s}return e.prototype.notifyNext=function(){this.values.clear()},e.prototype.notifyError=function(r){this._error(r)},e.prototype._next=function(r){this.keySelector?this._useKeySelector(r):this._finalizeNext(r,r)},e.prototype._useKeySelector=function(r){var n,i=this.destination;try{n=this.keySelector(r)}catch(s){i.error(s);return}this._finalizeNext(n,r)},e.prototype._finalizeNext=function(r,n){var i=this.values;i.has(r)||(i.add(r),this.destination.next(n))},e}(Ye);function $l(t,e){return function(r){return r.lift(new B0(t,e))}}var B0=function(){function t(e,r){this.compare=e,this.keySelector=r}return t.prototype.call=function(e,r){return r.subscribe(new F0(e,this.compare,this.keySelector))},t}(),F0=function(t){W(e,t);function e(r,n,i){var s=t.call(this,r)||this;return s.keySelector=i,s.hasKey=!1,typeof n=="function"&&(s.compare=n),s}return e.prototype.compare=function(r,n){return r===n},e.prototype._next=function(r){var n;try{var i=this.keySelector;n=i?i(r):r}catch(c){return this.destination.error(c)}var s=!1;if(this.hasKey)try{var o=this.compare;s=o(this.key,n)}catch(c){return this.destination.error(c)}else this.hasKey=!0;s||(this.key=n,this.destination.next(r))},e}(ee);function U0(t,e){return $l(function(r,n){return e?e(r[t],n[t]):r[t]===n[t]})}function vs(t){return t===void 0&&(t=H0),function(e){return e.lift(new $0(t))}}var $0=function(){function t(e){this.errorFactory=e}return t.prototype.call=function(e,r){return r.subscribe(new W0(e,this.errorFactory))},t}(),W0=function(t){W(e,t);function e(r,n){var i=t.call(this,r)||this;return i.errorFactory=n,i.hasValue=!1,i}return e.prototype._next=function(r){this.hasValue=!0,this.destination.next(r)},e.prototype._complete=function(){if(this.hasValue)return this.destination.complete();var r=void 0;try{r=this.errorFactory()}catch(n){r=n}this.destination.error(r)},e}(ee);function H0(){return new di}function Oa(t){return function(e){return t===0?Tn():e.lift(new V0(t))}}var V0=function(){function t(e){if(this.total=e,this.total<0)throw new gn}return t.prototype.call=function(e,r){return r.subscribe(new q0(e,this.total))},t}(),q0=function(t){W(e,t);function e(r,n){var i=t.call(this,r)||this;return i.total=n,i.count=0,i}return e.prototype._next=function(r){var n=this.total,i=++this.count;i<=n&&(this.destination.next(r),i===n&&(this.destination.complete(),this.unsubscribe()))},e}(ee);function z0(t,e){if(t<0)throw new gn;var r=arguments.length>=2;return function(n){return n.pipe(ur(function(i,s){return s===t}),Oa(1),r?pi(e):vs(function(){return new gn}))}}function G0(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return function(r){return ii(r,bs.apply(void 0,t))}}function Z0(t,e){return function(r){return r.lift(new K0(t,e,r))}}var K0=function(){function t(e,r,n){this.predicate=e,this.thisArg=r,this.source=n}return t.prototype.call=function(e,r){return r.subscribe(new Q0(e,this.predicate,this.thisArg,this.source))},t}(),Q0=function(t){W(e,t);function e(r,n,i,s){var o=t.call(this,r)||this;return o.predicate=n,o.thisArg=i,o.source=s,o.index=0,o.thisArg=i||o,o}return e.prototype.notifyComplete=function(r){this.destination.next(r),this.destination.complete()},e.prototype._next=function(r){var n=!1;try{n=this.predicate.call(this.thisArg,r,this.index++,this.source)}catch(i){this.destination.error(i);return}n||this.notifyComplete(!1)},e.prototype._complete=function(){this.notifyComplete(!0)},e}(ee);function Y0(){return function(t){return t.lift(new J0)}}var J0=function(){function t(){}return t.prototype.call=function(e,r){return r.subscribe(new X0(e))},t}(),X0=function(t){W(e,t);function e(r){var n=t.call(this,r)||this;return n.hasCompleted=!1,n.hasSubscription=!1,n}return e.prototype._next=function(r){this.hasSubscription||(this.hasSubscription=!0,this.add(Je(r,new Qe(this))))},e.prototype._complete=function(){this.hasCompleted=!0,this.hasSubscription||this.destination.complete()},e.prototype.notifyComplete=function(){this.hasSubscription=!1,this.hasCompleted&&this.destination.complete()},e}(Ye);function Wl(t,e){return e?function(r){return r.pipe(Wl(function(n,i){return Kt(t(n,i)).pipe(Ct(function(s,o){return e(n,s,i,o)}))}))}:function(r){return r.lift(new e_(t))}}var e_=function(){function t(e){this.project=e}return t.prototype.call=function(e,r){return r.subscribe(new t_(e,this.project))},t}(),t_=function(t){W(e,t);function e(r,n){var i=t.call(this,r)||this;return i.project=n,i.hasSubscription=!1,i.hasCompleted=!1,i.index=0,i}return e.prototype._next=function(r){this.hasSubscription||this.tryNext(r)},e.prototype.tryNext=function(r){var n,i=this.index++;try{n=this.project(r,i)}catch(s){this.destination.error(s);return}this.hasSubscription=!0,this._innerSub(n)},e.prototype._innerSub=function(r){var n=new Qe(this),i=this.destination;i.add(n);var s=Je(r,n);s!==n&&i.add(s)},e.prototype._complete=function(){this.hasCompleted=!0,this.hasSubscription||this.destination.complete(),this.unsubscribe()},e.prototype.notifyNext=function(r){this.destination.next(r)},e.prototype.notifyError=function(r){this.destination.error(r)},e.prototype.notifyComplete=function(){this.hasSubscription=!1,this.hasCompleted&&this.destination.complete()},e}(Ye);function r_(t,e,r){return e===void 0&&(e=Number.POSITIVE_INFINITY),e=(e||0)<1?Number.POSITIVE_INFINITY:e,function(n){return n.lift(new n_(t,e,r))}}var n_=function(){function t(e,r,n){this.project=e,this.concurrent=r,this.scheduler=n}return t.prototype.call=function(e,r){return r.subscribe(new i_(e,this.project,this.concurrent,this.scheduler))},t}(),i_=function(t){W(e,t);function e(r,n,i,s){var o=t.call(this,r)||this;return o.project=n,o.concurrent=i,o.scheduler=s,o.index=0,o.active=0,o.hasCompleted=!1,i<Number.POSITIVE_INFINITY&&(o.buffer=[]),o}return e.dispatch=function(r){var n=r.subscriber,i=r.result,s=r.value,o=r.index;n.subscribeToProjection(i,s,o)},e.prototype._next=function(r){var n=this.destination;if(n.closed){this._complete();return}var i=this.index++;if(this.active<this.concurrent){n.next(r);try{var s=this.project,o=s(r,i);if(!this.scheduler)this.subscribeToProjection(o,r,i);else{var c={subscriber:this,result:o,value:r,index:i},l=this.destination;l.add(this.scheduler.schedule(e.dispatch,0,c))}}catch(h){n.error(h)}}else this.buffer.push(r)},e.prototype.subscribeToProjection=function(r,n,i){this.active++;var s=this.destination;s.add(Je(r,new Qe(this)))},e.prototype._complete=function(){this.hasCompleted=!0,this.hasCompleted&&this.active===0&&this.destination.complete(),this.unsubscribe()},e.prototype.notifyNext=function(r){this._next(r)},e.prototype.notifyComplete=function(){var r=this.buffer;this.active--,r&&r.length>0&&this._next(r.shift()),this.hasCompleted&&this.active===0&&this.destination.complete()},e}(Ye);function s_(t){return function(e){return e.lift(new o_(t))}}var o_=function(){function t(e){this.callback=e}return t.prototype.call=function(e,r){return r.subscribe(new a_(e,this.callback))},t}(),a_=function(t){W(e,t);function e(r,n){var i=t.call(this,r)||this;return i.add(new Ke(n)),i}return e}(ee);function c_(t,e){if(typeof t!="function")throw new TypeError("predicate is not a function");return function(r){return r.lift(new Hl(t,r,!1,e))}}var Hl=function(){function t(e,r,n,i){this.predicate=e,this.source=r,this.yieldIndex=n,this.thisArg=i}return t.prototype.call=function(e,r){return r.subscribe(new u_(e,this.predicate,this.source,this.yieldIndex,this.thisArg))},t}(),u_=function(t){W(e,t);function e(r,n,i,s,o){var c=t.call(this,r)||this;return c.predicate=n,c.source=i,c.yieldIndex=s,c.thisArg=o,c.index=0,c}return e.prototype.notifyComplete=function(r){var n=this.destination;n.next(r),n.complete(),this.unsubscribe()},e.prototype._next=function(r){var n=this,i=n.predicate,s=n.thisArg,o=this.index++;try{var c=i.call(s||this,r,o,this.source);c&&this.notifyComplete(this.yieldIndex?o:r)}catch(l){this.destination.error(l)}},e.prototype._complete=function(){this.notifyComplete(this.yieldIndex?-1:void 0)},e}(ee);function l_(t,e){return function(r){return r.lift(new Hl(t,r,!0,e))}}function f_(t,e){var r=arguments.length>=2;return function(n){return n.pipe(t?ur(function(i,s){return t(i,s,n)}):ar,Oa(1),r?pi(e):vs(function(){return new di}))}}function h_(){return function(e){return e.lift(new d_)}}var d_=function(){function t(){}return t.prototype.call=function(e,r){return r.subscribe(new p_(e))},t}(),p_=function(t){W(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype._next=function(r){},e}(ee);function __(){return function(t){return t.lift(new g_)}}var g_=function(){function t(){}return t.prototype.call=function(e,r){return r.subscribe(new b_(e))},t}(),b_=function(t){W(e,t);function e(r){return t.call(this,r)||this}return e.prototype.notifyComplete=function(r){var n=this.destination;n.next(r),n.complete()},e.prototype._next=function(r){this.notifyComplete(!1)},e.prototype._complete=function(){this.notifyComplete(!0)},e}(ee);function Yi(t){return function(r){return t===0?Tn():r.lift(new v_(t))}}var v_=function(){function t(e){if(this.total=e,this.total<0)throw new gn}return t.prototype.call=function(e,r){return r.subscribe(new m_(e,this.total))},t}(),m_=function(t){W(e,t);function e(r,n){var i=t.call(this,r)||this;return i.total=n,i.ring=new Array,i.count=0,i}return e.prototype._next=function(r){var n=this.ring,i=this.total,s=this.count++;if(n.length<i)n.push(r);else{var o=s%i;n[o]=r}},e.prototype._complete=function(){var r=this.destination,n=this.count;if(n>0)for(var i=this.count>=this.total?this.total:this.count,s=this.ring,o=0;o<i;o++){var c=n++%i;r.next(s[c])}r.complete()},e}(ee);function y_(t,e){var r=arguments.length>=2;return function(n){return n.pipe(t?ur(function(i,s){return t(i,s,n)}):ar,Yi(1),r?pi(e):vs(function(){return new di}))}}function w_(t){return function(e){return e.lift(new S_(t))}}var S_=function(){function t(e){this.value=e}return t.prototype.call=function(e,r){return r.subscribe(new E_(e,this.value))},t}(),E_=function(t){W(e,t);function e(r,n){var i=t.call(this,r)||this;return i.value=n,i}return e.prototype._next=function(r){this.destination.next(this.value)},e}(ee);function k_(){return function(e){return e.lift(new x_)}}var x_=function(){function t(){}return t.prototype.call=function(e,r){return r.subscribe(new M_(e))},t}(),M_=function(t){W(e,t);function e(r){return t.call(this,r)||this}return e.prototype._next=function(r){this.destination.next(zt.createNext(r))},e.prototype._error=function(r){var n=this.destination;n.next(zt.createError(r)),n.complete()},e.prototype._complete=function(){var r=this.destination;r.next(zt.createComplete()),r.complete()},e}(ee);function Ji(t,e){var r=!1;return arguments.length>=2&&(r=!0),function(i){return i.lift(new C_(t,e,r))}}var C_=function(){function t(e,r,n){n===void 0&&(n=!1),this.accumulator=e,this.seed=r,this.hasSeed=n}return t.prototype.call=function(e,r){return r.subscribe(new A_(e,this.accumulator,this.seed,this.hasSeed))},t}(),A_=function(t){W(e,t);function e(r,n,i,s){var o=t.call(this,r)||this;return o.accumulator=n,o._seed=i,o.hasSeed=s,o.index=0,o}return Object.defineProperty(e.prototype,"seed",{get:function(){return this._seed},set:function(r){this.hasSeed=!0,this._seed=r},enumerable:!0,configurable:!0}),e.prototype._next=function(r){if(!this.hasSeed)this.seed=r,this.destination.next(r);else return this._tryNext(r)},e.prototype._tryNext=function(r){var n=this.index++,i;try{i=this.accumulator(this.seed,r,n)}catch(s){this.destination.error(s)}this.seed=i,this.destination.next(i)},e}(ee);function ms(t,e){return arguments.length>=2?function(n){return ea(Ji(t,e),Yi(1),pi(e))(n)}:function(n){return ea(Ji(function(i,s,o){return t(i,s,o+1)}),Yi(1))(n)}}function R_(t){var e=typeof t=="function"?function(r,n){return t(r,n)>0?r:n}:function(r,n){return r>n?r:n};return ms(e)}function I_(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return function(r){return r.lift.call(Il.apply(void 0,[r].concat(t)))}}function T_(t,e,r){return r===void 0&&(r=Number.POSITIVE_INFINITY),typeof e=="function"?Pr(function(){return t},e,r):(typeof e=="number"&&(r=e),Pr(function(){return t},r))}function O_(t,e,r){return r===void 0&&(r=Number.POSITIVE_INFINITY),function(n){return n.lift(new N_(t,e,r))}}var N_=function(){function t(e,r,n){this.accumulator=e,this.seed=r,this.concurrent=n}return t.prototype.call=function(e,r){return r.subscribe(new D_(e,this.accumulator,this.seed,this.concurrent))},t}(),D_=function(t){W(e,t);function e(r,n,i,s){var o=t.call(this,r)||this;return o.accumulator=n,o.acc=i,o.concurrent=s,o.hasValue=!1,o.hasCompleted=!1,o.buffer=[],o.active=0,o.index=0,o}return e.prototype._next=function(r){if(this.active<this.concurrent){var n=this.index++,i=this.destination,s=void 0;try{var o=this.accumulator;s=o(this.acc,r,n)}catch(c){return i.error(c)}this.active++,this._innerSub(s)}else this.buffer.push(r)},e.prototype._innerSub=function(r){var n=new Qe(this),i=this.destination;i.add(n);var s=Je(r,n);s!==n&&i.add(s)},e.prototype._complete=function(){this.hasCompleted=!0,this.active===0&&this.buffer.length===0&&(this.hasValue===!1&&this.destination.next(this.acc),this.destination.complete()),this.unsubscribe()},e.prototype.notifyNext=function(r){var n=this.destination;this.acc=r,this.hasValue=!0,n.next(r)},e.prototype.notifyComplete=function(){var r=this.buffer;this.active--,r.length>0?this._next(r.shift()):this.active===0&&this.hasCompleted&&(this.hasValue===!1&&this.destination.next(this.acc),this.destination.complete())},e}(Ye);function P_(t){var e=typeof t=="function"?function(r,n){return t(r,n)<0?r:n}:function(r,n){return r<n?r:n};return ms(e)}function Lr(t,e){return function(n){var i;if(typeof t=="function"?i=t:i=function(){return t},typeof e=="function")return n.lift(new L_(i,e));var s=Object.create(n,bd);return s.source=n,s.subjectFactory=i,s}}var L_=function(){function t(e,r){this.subjectFactory=e,this.selector=r}return t.prototype.call=function(e,r){var n=this.selector,i=this.subjectFactory(),s=n(i).subscribe(e);return s.add(r.subscribe(i)),s},t}();function j_(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return t.length===1&&pt(t[0])&&(t=t[0]),function(r){return r.lift(new B_(t))}}var B_=function(){function t(e){this.nextSources=e}return t.prototype.call=function(e,r){return r.subscribe(new F_(e,this.nextSources))},t}(),F_=function(t){W(e,t);function e(r,n){var i=t.call(this,r)||this;return i.destination=r,i.nextSources=n,i}return e.prototype.notifyError=function(){this.subscribeToNextSource()},e.prototype.notifyComplete=function(){this.subscribeToNextSource()},e.prototype._error=function(r){this.subscribeToNextSource(),this.unsubscribe()},e.prototype._complete=function(){this.subscribeToNextSource(),this.unsubscribe()},e.prototype.subscribeToNextSource=function(){var r=this.nextSources.shift();if(r){var n=new Qe(this),i=this.destination;i.add(n);var s=Je(r,n);s!==n&&i.add(s)}else this.destination.complete()},e}(Ye);function U_(){return function(t){return t.lift(new $_)}}var $_=function(){function t(){}return t.prototype.call=function(e,r){return r.subscribe(new W_(e))},t}(),W_=function(t){W(e,t);function e(r){var n=t.call(this,r)||this;return n.hasPrev=!1,n}return e.prototype._next=function(r){var n;this.hasPrev?n=[this.prev,r]:this.hasPrev=!0,this.prev=r,n&&this.destination.next(n)},e}(ee);function H_(t,e){return function(r){return[ur(t,e)(r),ur(Ol(t,e))(r)]}}function V_(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var r=t.length;if(r===0)throw new Error("list of properties cannot be empty.");return function(n){return Ct(q_(t,r))(n)}}function q_(t,e){var r=function(n){for(var i=n,s=0;s<e;s++){var o=i!=null?i[t[s]]:void 0;if(o!==void 0)i=o;else return}return i};return r}function z_(t){return t?Lr(function(){return new nt},t):Lr(new nt)}function G_(t){return function(e){return Lr(new fl(t))(e)}}function Z_(){return function(t){return Lr(new On)(t)}}function K_(t,e,r,n){r&&typeof r!="function"&&(n=r);var i=typeof r=="function"?r:void 0,s=new Aa(t,e,n);return function(o){return Lr(function(){return s},i)(o)}}function Q_(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return function(n){return t.length===1&&pt(t[0])&&(t=t[0]),n.lift.call(Nl.apply(void 0,[n].concat(t)))}}function Y_(t){return t===void 0&&(t=-1),function(e){return t===0?Tn():t<0?e.lift(new xc(-1,e)):e.lift(new xc(t-1,e))}}var xc=function(){function t(e,r){this.count=e,this.source=r}return t.prototype.call=function(e,r){return r.subscribe(new J_(e,this.count,this.source))},t}(),J_=function(t){W(e,t);function e(r,n,i){var s=t.call(this,r)||this;return s.count=n,s.source=i,s}return e.prototype.complete=function(){if(!this.isStopped){var r=this,n=r.source,i=r.count;if(i===0)return t.prototype.complete.call(this);i>-1&&(this.count=i-1),n.subscribe(this._unsubscribeAndRecycle())}},e}(ee);function X_(t){return function(e){return e.lift(new eg(t))}}var eg=function(){function t(e){this.notifier=e}return t.prototype.call=function(e,r){return r.subscribe(new tg(e,this.notifier,r))},t}(),tg=function(t){W(e,t);function e(r,n,i){var s=t.call(this,r)||this;return s.notifier=n,s.source=i,s.sourceIsBeingSubscribedTo=!0,s}return e.prototype.notifyNext=function(){this.sourceIsBeingSubscribedTo=!0,this.source.subscribe(this)},e.prototype.notifyComplete=function(){if(this.sourceIsBeingSubscribedTo===!1)return t.prototype.complete.call(this)},e.prototype.complete=function(){if(this.sourceIsBeingSubscribedTo=!1,!this.isStopped){if(this.retries||this.subscribeToRetries(),!this.retriesSubscription||this.retriesSubscription.closed)return t.prototype.complete.call(this);this._unsubscribeAndRecycle(),this.notifications.next(void 0)}},e.prototype._unsubscribe=function(){var r=this,n=r.notifications,i=r.retriesSubscription;n&&(n.unsubscribe(),this.notifications=void 0),i&&(i.unsubscribe(),this.retriesSubscription=void 0),this.retries=void 0},e.prototype._unsubscribeAndRecycle=function(){var r=this._unsubscribe;return this._unsubscribe=null,t.prototype._unsubscribeAndRecycle.call(this),this._unsubscribe=r,this},e.prototype.subscribeToRetries=function(){this.notifications=new nt;var r;try{var n=this.notifier;r=n(this.notifications)}catch{return t.prototype.complete.call(this)}this.retries=r,this.retriesSubscription=Je(r,new Qe(this))},e}(Ye);function rg(t){return t===void 0&&(t=-1),function(e){return e.lift(new ng(t,e))}}var ng=function(){function t(e,r){this.count=e,this.source=r}return t.prototype.call=function(e,r){return r.subscribe(new ig(e,this.count,this.source))},t}(),ig=function(t){W(e,t);function e(r,n,i){var s=t.call(this,r)||this;return s.count=n,s.source=i,s}return e.prototype.error=function(r){if(!this.isStopped){var n=this,i=n.source,s=n.count;if(s===0)return t.prototype.error.call(this,r);s>-1&&(this.count=s-1),i.subscribe(this._unsubscribeAndRecycle())}},e}(ee);function sg(t){return function(e){return e.lift(new og(t,e))}}var og=function(){function t(e,r){this.notifier=e,this.source=r}return t.prototype.call=function(e,r){return r.subscribe(new ag(e,this.notifier,this.source))},t}(),ag=function(t){W(e,t);function e(r,n,i){var s=t.call(this,r)||this;return s.notifier=n,s.source=i,s}return e.prototype.error=function(r){if(!this.isStopped){var n=this.errors,i=this.retries,s=this.retriesSubscription;if(i)this.errors=void 0,this.retriesSubscription=void 0;else{n=new nt;try{var o=this.notifier;i=o(n)}catch(c){return t.prototype.error.call(this,c)}s=Je(i,new Qe(this))}this._unsubscribeAndRecycle(),this.errors=n,this.retries=i,this.retriesSubscription=s,n.next(r)}},e.prototype._unsubscribe=function(){var r=this,n=r.errors,i=r.retriesSubscription;n&&(n.unsubscribe(),this.errors=void 0),i&&(i.unsubscribe(),this.retriesSubscription=void 0),this.retries=void 0},e.prototype.notifyNext=function(){var r=this._unsubscribe;this._unsubscribe=null,this._unsubscribeAndRecycle(),this._unsubscribe=r,this.source.subscribe(this)},e}(Ye);function cg(t){return function(e){return e.lift(new ug(t))}}var ug=function(){function t(e){this.notifier=e}return t.prototype.call=function(e,r){var n=new lg(e),i=r.subscribe(n);return i.add(Je(this.notifier,new Qe(n))),i},t}(),lg=function(t){W(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.hasValue=!1,r}return e.prototype._next=function(r){this.value=r,this.hasValue=!0},e.prototype.notifyNext=function(){this.emitValue()},e.prototype.notifyComplete=function(){this.emitValue()},e.prototype.emitValue=function(){this.hasValue&&(this.hasValue=!1,this.destination.next(this.value))},e}(Ye);function fg(t,e){return e===void 0&&(e=_t),function(r){return r.lift(new hg(t,e))}}var hg=function(){function t(e,r){this.period=e,this.scheduler=r}return t.prototype.call=function(e,r){return r.subscribe(new dg(e,this.period,this.scheduler))},t}(),dg=function(t){W(e,t);function e(r,n,i){var s=t.call(this,r)||this;return s.period=n,s.scheduler=i,s.hasValue=!1,s.add(i.schedule(pg,n,{subscriber:s,period:n})),s}return e.prototype._next=function(r){this.lastValue=r,this.hasValue=!0},e.prototype.notifyNext=function(){this.hasValue&&(this.hasValue=!1,this.destination.next(this.lastValue))},e}(ee);function pg(t){var e=t.subscriber,r=t.period;e.notifyNext(),this.schedule(t,r)}function _g(t,e){return function(r){return r.lift(new gg(t,e))}}var gg=function(){function t(e,r){this.compareTo=e,this.comparator=r}return t.prototype.call=function(e,r){return r.subscribe(new bg(e,this.compareTo,this.comparator))},t}(),bg=function(t){W(e,t);function e(r,n,i){var s=t.call(this,r)||this;return s.compareTo=n,s.comparator=i,s._a=[],s._b=[],s._oneComplete=!1,s.destination.add(n.subscribe(new vg(r,s))),s}return e.prototype._next=function(r){this._oneComplete&&this._b.length===0?this.emit(!1):(this._a.push(r),this.checkValues())},e.prototype._complete=function(){this._oneComplete?this.emit(this._a.length===0&&this._b.length===0):this._oneComplete=!0,this.unsubscribe()},e.prototype.checkValues=function(){for(var r=this,n=r._a,i=r._b,s=r.comparator;n.length>0&&i.length>0;){var o=n.shift(),c=i.shift(),l=!1;try{l=s?s(o,c):o===c}catch(h){this.destination.error(h)}l||this.emit(!1)}},e.prototype.emit=function(r){var n=this.destination;n.next(r),n.complete()},e.prototype.nextB=function(r){this._oneComplete&&this._a.length===0?this.emit(!1):(this._b.push(r),this.checkValues())},e.prototype.completeB=function(){this._oneComplete?this.emit(this._a.length===0&&this._b.length===0):this._oneComplete=!0},e}(ee),vg=function(t){W(e,t);function e(r,n){var i=t.call(this,r)||this;return i.parent=n,i}return e.prototype._next=function(r){this.parent.nextB(r)},e.prototype._error=function(r){this.parent.error(r),this.unsubscribe()},e.prototype._complete=function(){this.parent.completeB(),this.unsubscribe()},e}(ee);function mg(){return new nt}function yg(){return function(t){return xa()(Lr(mg)(t))}}function wg(t,e,r){var n;return t&&typeof t=="object"?n=t:n={bufferSize:t,windowTime:e,refCount:!1,scheduler:r},function(i){return i.lift(Sg(n))}}function Sg(t){var e=t.bufferSize,r=e===void 0?Number.POSITIVE_INFINITY:e,n=t.windowTime,i=n===void 0?Number.POSITIVE_INFINITY:n,s=t.refCount,o=t.scheduler,c,l=0,h,d=!1,C=!1;return function(x){l++;var A;!c||d?(d=!1,c=new Aa(r,i,o),A=c.subscribe(this),h=x.subscribe({next:function(P){c.next(P)},error:function(P){d=!0,c.error(P)},complete:function(){C=!0,h=void 0,c.complete()}}),C&&(h=void 0)):A=c.subscribe(this),this.add(function(){l--,A.unsubscribe(),A=void 0,h&&!C&&s&&l===0&&(h.unsubscribe(),h=void 0,c=void 0)})}}function Eg(t){return function(e){return e.lift(new kg(t,e))}}var kg=function(){function t(e,r){this.predicate=e,this.source=r}return t.prototype.call=function(e,r){return r.subscribe(new xg(e,this.predicate,this.source))},t}(),xg=function(t){W(e,t);function e(r,n,i){var s=t.call(this,r)||this;return s.predicate=n,s.source=i,s.seenValue=!1,s.index=0,s}return e.prototype.applySingleValue=function(r){this.seenValue?this.destination.error("Sequence contains more than one element"):(this.seenValue=!0,this.singleValue=r)},e.prototype._next=function(r){var n=this.index++;this.predicate?this.tryNext(r,n):this.applySingleValue(r)},e.prototype.tryNext=function(r,n){try{this.predicate(r,n,this.source)&&this.applySingleValue(r)}catch(i){this.destination.error(i)}},e.prototype._complete=function(){var r=this.destination;this.index>0?(r.next(this.seenValue?this.singleValue:void 0),r.complete()):r.error(new di)},e}(ee);function Mg(t){return function(e){return e.lift(new Cg(t))}}var Cg=function(){function t(e){this.total=e}return t.prototype.call=function(e,r){return r.subscribe(new Ag(e,this.total))},t}(),Ag=function(t){W(e,t);function e(r,n){var i=t.call(this,r)||this;return i.total=n,i.count=0,i}return e.prototype._next=function(r){++this.count>this.total&&this.destination.next(r)},e}(ee);function Rg(t){return function(e){return e.lift(new Ig(t))}}var Ig=function(){function t(e){if(this._skipCount=e,this._skipCount<0)throw new gn}return t.prototype.call=function(e,r){return this._skipCount===0?r.subscribe(new ee(e)):r.subscribe(new Tg(e,this._skipCount))},t}(),Tg=function(t){W(e,t);function e(r,n){var i=t.call(this,r)||this;return i._skipCount=n,i._count=0,i._ring=new Array(n),i}return e.prototype._next=function(r){var n=this._skipCount,i=this._count++;if(i<n)this._ring[i]=r;else{var s=i%n,o=this._ring,c=o[s];o[s]=r,this.destination.next(c)}},e}(ee);function Og(t){return function(e){return e.lift(new Ng(t))}}var Ng=function(){function t(e){this.notifier=e}return t.prototype.call=function(e,r){return r.subscribe(new Dg(e,this.notifier))},t}(),Dg=function(t){W(e,t);function e(r,n){var i=t.call(this,r)||this;i.hasValue=!1;var s=new Qe(i);i.add(s),i.innerSubscription=s;var o=Je(n,s);return o!==s&&(i.add(o),i.innerSubscription=o),i}return e.prototype._next=function(r){this.hasValue&&t.prototype._next.call(this,r)},e.prototype.notifyNext=function(){this.hasValue=!0,this.innerSubscription&&this.innerSubscription.unsubscribe()},e.prototype.notifyComplete=function(){},e}(Ye);function Pg(t){return function(e){return e.lift(new Lg(t))}}var Lg=function(){function t(e){this.predicate=e}return t.prototype.call=function(e,r){return r.subscribe(new jg(e,this.predicate))},t}(),jg=function(t){W(e,t);function e(r,n){var i=t.call(this,r)||this;return i.predicate=n,i.skipping=!0,i.index=0,i}return e.prototype._next=function(r){var n=this.destination;this.skipping&&this.tryCallPredicate(r),this.skipping||n.next(r)},e.prototype.tryCallPredicate=function(r){try{var n=this.predicate(r,this.index++);this.skipping=Boolean(n)}catch(i){this.destination.error(i)}},e}(ee);function Bg(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var r=t[t.length-1];return mt(r)?(t.pop(),function(n){return ii(t,n,r)}):function(n){return ii(t,n)}}var Fg=function(t){W(e,t);function e(r,n,i){n===void 0&&(n=0),i===void 0&&(i=$i);var s=t.call(this)||this;return s.source=r,s.delayTime=n,s.scheduler=i,(!bn(n)||n<0)&&(s.delayTime=0),(!i||typeof i.schedule!="function")&&(s.scheduler=$i),s}return e.create=function(r,n,i){return n===void 0&&(n=0),i===void 0&&(i=$i),new e(r,n,i)},e.dispatch=function(r){var n=r.source,i=r.subscriber;return this.add(n.subscribe(i))},e.prototype._subscribe=function(r){var n=this.delayTime,i=this.source,s=this.scheduler;return s.schedule(e.dispatch,n,{source:i,subscriber:r})},e}(ce);function Ug(t,e){return e===void 0&&(e=0),function(n){return n.lift(new $g(t,e))}}var $g=function(){function t(e,r){this.scheduler=e,this.delay=r}return t.prototype.call=function(e,r){return new Fg(r,this.delay,this.scheduler).subscribe(e)},t}();function si(t,e){return typeof e=="function"?function(r){return r.pipe(si(function(n,i){return Kt(t(n,i)).pipe(Ct(function(s,o){return e(n,s,i,o)}))}))}:function(r){return r.lift(new Wg(t))}}var Wg=function(){function t(e){this.project=e}return t.prototype.call=function(e,r){return r.subscribe(new Hg(e,this.project))},t}(),Hg=function(t){W(e,t);function e(r,n){var i=t.call(this,r)||this;return i.project=n,i.index=0,i}return e.prototype._next=function(r){var n,i=this.index++;try{n=this.project(r,i)}catch(s){this.destination.error(s);return}this._innerSub(n)},e.prototype._innerSub=function(r){var n=this.innerSubscription;n&&n.unsubscribe();var i=new Qe(this),s=this.destination;s.add(i),this.innerSubscription=Je(r,i),this.innerSubscription!==i&&s.add(this.innerSubscription)},e.prototype._complete=function(){var r=this.innerSubscription;(!r||r.closed)&&t.prototype._complete.call(this),this.unsubscribe()},e.prototype._unsubscribe=function(){this.innerSubscription=void 0},e.prototype.notifyComplete=function(){this.innerSubscription=void 0,this.isStopped&&t.prototype._complete.call(this)},e.prototype.notifyNext=function(r){this.destination.next(r)},e}(Ye);function Vg(){return si(ar)}function qg(t,e){return e?si(function(){return t},e):si(function(){return t})}function zg(t){return function(e){return e.lift(new Gg(t))}}var Gg=function(){function t(e){this.notifier=e}return t.prototype.call=function(e,r){var n=new Zg(e),i=Je(this.notifier,new Qe(n));return i&&!n.seenValue?(n.add(i),r.subscribe(n)):n},t}(),Zg=function(t){W(e,t);function e(r){var n=t.call(this,r)||this;return n.seenValue=!1,n}return e.prototype.notifyNext=function(){this.seenValue=!0,this.complete()},e.prototype.notifyComplete=function(){},e}(Ye);function Kg(t,e){return e===void 0&&(e=!1),function(r){return r.lift(new Qg(t,e))}}var Qg=function(){function t(e,r){this.predicate=e,this.inclusive=r}return t.prototype.call=function(e,r){return r.subscribe(new Yg(e,this.predicate,this.inclusive))},t}(),Yg=function(t){W(e,t);function e(r,n,i){var s=t.call(this,r)||this;return s.predicate=n,s.inclusive=i,s.index=0,s}return e.prototype._next=function(r){var n=this.destination,i;try{i=this.predicate(r,this.index++)}catch(s){n.error(s);return}this.nextOrComplete(r,i)},e.prototype.nextOrComplete=function(r,n){var i=this.destination;Boolean(n)?i.next(r):(this.inclusive&&i.next(r),i.complete())},e}(ee);function Jg(t,e,r){return function(i){return i.lift(new Xg(t,e,r))}}var Xg=function(){function t(e,r,n){this.nextOrObserver=e,this.error=r,this.complete=n}return t.prototype.call=function(e,r){return r.subscribe(new eb(e,this.nextOrObserver,this.error,this.complete))},t}(),eb=function(t){W(e,t);function e(r,n,i,s){var o=t.call(this,r)||this;return o._tapNext=Pt,o._tapError=Pt,o._tapComplete=Pt,o._tapError=i||Pt,o._tapComplete=s||Pt,pn(n)?(o._context=o,o._tapNext=n):n&&(o._context=n,o._tapNext=n.next||Pt,o._tapError=n.error||Pt,o._tapComplete=n.complete||Pt),o}return e.prototype._next=function(r){try{this._tapNext.call(this._context,r)}catch(n){this.destination.error(n);return}this.destination.next(r)},e.prototype._error=function(r){try{this._tapError.call(this._context,r)}catch(n){this.destination.error(n);return}this.destination.error(r)},e.prototype._complete=function(){try{this._tapComplete.call(this._context)}catch(r){this.destination.error(r);return}return this.destination.complete()},e}(ee),Vl={leading:!0,trailing:!1};function tb(t,e){return e===void 0&&(e=Vl),function(r){return r.lift(new rb(t,!!e.leading,!!e.trailing))}}var rb=function(){function t(e,r,n){this.durationSelector=e,this.leading=r,this.trailing=n}return t.prototype.call=function(e,r){return r.subscribe(new nb(e,this.durationSelector,this.leading,this.trailing))},t}(),nb=function(t){W(e,t);function e(r,n,i,s){var o=t.call(this,r)||this;return o.destination=r,o.durationSelector=n,o._leading=i,o._trailing=s,o._hasValue=!1,o}return e.prototype._next=function(r){this._hasValue=!0,this._sendValue=r,this._throttled||(this._leading?this.send():this.throttle(r))},e.prototype.send=function(){var r=this,n=r._hasValue,i=r._sendValue;n&&(this.destination.next(i),this.throttle(i)),this._hasValue=!1,this._sendValue=void 0},e.prototype.throttle=function(r){var n=this.tryDurationSelector(r);n&&this.add(this._throttled=Je(n,new Qe(this)))},e.prototype.tryDurationSelector=function(r){try{return this.durationSelector(r)}catch(n){return this.destination.error(n),null}},e.prototype.throttlingDone=function(){var r=this,n=r._throttled,i=r._trailing;n&&n.unsubscribe(),this._throttled=void 0,i&&this.send()},e.prototype.notifyNext=function(){this.throttlingDone()},e.prototype.notifyComplete=function(){this.throttlingDone()},e}(Ye);function ib(t,e,r){return e===void 0&&(e=_t),r===void 0&&(r=Vl),function(n){return n.lift(new sb(t,e,r.leading,r.trailing))}}var sb=function(){function t(e,r,n,i){this.duration=e,this.scheduler=r,this.leading=n,this.trailing=i}return t.prototype.call=function(e,r){return r.subscribe(new ob(e,this.duration,this.scheduler,this.leading,this.trailing))},t}(),ob=function(t){W(e,t);function e(r,n,i,s,o){var c=t.call(this,r)||this;return c.duration=n,c.scheduler=i,c.leading=s,c.trailing=o,c._hasTrailingValue=!1,c._trailingValue=null,c}return e.prototype._next=function(r){this.throttled?this.trailing&&(this._trailingValue=r,this._hasTrailingValue=!0):(this.add(this.throttled=this.scheduler.schedule(ab,this.duration,{subscriber:this})),this.leading?this.destination.next(r):this.trailing&&(this._trailingValue=r,this._hasTrailingValue=!0))},e.prototype._complete=function(){this._hasTrailingValue?(this.destination.next(this._trailingValue),this.destination.complete()):this.destination.complete()},e.prototype.clearThrottle=function(){var r=this.throttled;r&&(this.trailing&&this._hasTrailingValue&&(this.destination.next(this._trailingValue),this._trailingValue=null,this._hasTrailingValue=!1),r.unsubscribe(),this.remove(r),this.throttled=null)},e}(ee);function ab(t){var e=t.subscriber;e.clearThrottle()}function cb(t){return t===void 0&&(t=_t),function(e){return Ta(function(){return e.pipe(Ji(function(r,n){var i=r.current;return{value:n,current:t.now(),last:i}},{current:t.now(),value:void 0,last:void 0}),Ct(function(r){var n=r.current,i=r.last,s=r.value;return new ub(s,n-i)}))})}}var ub=function(){function t(e,r){this.value=e,this.interval=r}return t}();function ql(t,e,r){return r===void 0&&(r=_t),function(n){var i=Ul(t),s=i?+t-r.now():Math.abs(t);return n.lift(new lb(s,i,e,r))}}var lb=function(){function t(e,r,n,i){this.waitFor=e,this.absoluteTimeout=r,this.withObservable=n,this.scheduler=i}return t.prototype.call=function(e,r){return r.subscribe(new fb(e,this.absoluteTimeout,this.waitFor,this.withObservable,this.scheduler))},t}(),fb=function(t){W(e,t);function e(r,n,i,s,o){var c=t.call(this,r)||this;return c.absoluteTimeout=n,c.waitFor=i,c.withObservable=s,c.scheduler=o,c.scheduleTimeout(),c}return e.dispatchTimeout=function(r){var n=r.withObservable;r._unsubscribeAndRecycle(),r.add(Je(n,new Qe(r)))},e.prototype.scheduleTimeout=function(){var r=this.action;r?this.action=r.schedule(this,this.waitFor):this.add(this.action=this.scheduler.schedule(e.dispatchTimeout,this.waitFor,this))},e.prototype._next=function(r){this.absoluteTimeout||this.scheduleTimeout(),t.prototype._next.call(this,r)},e.prototype._unsubscribe=function(){this.action=void 0,this.scheduler=null,this.withObservable=null},e}(Ye);function hb(t,e){return e===void 0&&(e=_t),ql(t,Ca(new yl),e)}function db(t){return t===void 0&&(t=_t),Ct(function(e){return new pb(e,t.now())})}var pb=function(){function t(e,r){this.value=e,this.timestamp=r}return t}();function _b(t,e,r){return r===0?[e]:(t.push(e),t)}function gb(){return ms(_b,[])}function bb(t){return function(r){return r.lift(new vb(t))}}var vb=function(){function t(e){this.windowBoundaries=e}return t.prototype.call=function(e,r){var n=new mb(e),i=r.subscribe(n);return i.closed||n.add(Je(this.windowBoundaries,new Qe(n))),i},t}(),mb=function(t){W(e,t);function e(r){var n=t.call(this,r)||this;return n.window=new nt,r.next(n.window),n}return e.prototype.notifyNext=function(){this.openWindow()},e.prototype.notifyError=function(r){this._error(r)},e.prototype.notifyComplete=function(){this._complete()},e.prototype._next=function(r){this.window.next(r)},e.prototype._error=function(r){this.window.error(r),this.destination.error(r)},e.prototype._complete=function(){this.window.complete(),this.destination.complete()},e.prototype._unsubscribe=function(){this.window=null},e.prototype.openWindow=function(){var r=this.window;r&&r.complete();var n=this.destination,i=this.window=new nt;n.next(i)},e}(Ye);function yb(t,e){return e===void 0&&(e=0),function(n){return n.lift(new wb(t,e))}}var wb=function(){function t(e,r){this.windowSize=e,this.startWindowEvery=r}return t.prototype.call=function(e,r){return r.subscribe(new Sb(e,this.windowSize,this.startWindowEvery))},t}(),Sb=function(t){W(e,t);function e(r,n,i){var s=t.call(this,r)||this;return s.destination=r,s.windowSize=n,s.startWindowEvery=i,s.windows=[new nt],s.count=0,r.next(s.windows[0]),s}return e.prototype._next=function(r){for(var n=this.startWindowEvery>0?this.startWindowEvery:this.windowSize,i=this.destination,s=this.windowSize,o=this.windows,c=o.length,l=0;l<c&&!this.closed;l++)o[l].next(r);var h=this.count-s+1;if(h>=0&&h%n===0&&!this.closed&&o.shift().complete(),++this.count%n===0&&!this.closed){var d=new nt;o.push(d),i.next(d)}},e.prototype._error=function(r){var n=this.windows;if(n)for(;n.length>0&&!this.closed;)n.shift().error(r);this.destination.error(r)},e.prototype._complete=function(){var r=this.windows;if(r)for(;r.length>0&&!this.closed;)r.shift().complete();this.destination.complete()},e.prototype._unsubscribe=function(){this.count=0,this.windows=null},e}(ee);function Eb(t){var e=_t,r=null,n=Number.POSITIVE_INFINITY;return mt(arguments[3])&&(e=arguments[3]),mt(arguments[2])?e=arguments[2]:bn(arguments[2])&&(n=Number(arguments[2])),mt(arguments[1])?e=arguments[1]:bn(arguments[1])&&(r=Number(arguments[1])),function(s){return s.lift(new kb(t,r,n,e))}}var kb=function(){function t(e,r,n,i){this.windowTimeSpan=e,this.windowCreationInterval=r,this.maxWindowSize=n,this.scheduler=i}return t.prototype.call=function(e,r){return r.subscribe(new Mb(e,this.windowTimeSpan,this.windowCreationInterval,this.maxWindowSize,this.scheduler))},t}(),xb=function(t){W(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r._numberOfNextedValues=0,r}return e.prototype.next=function(r){this._numberOfNextedValues++,t.prototype.next.call(this,r)},Object.defineProperty(e.prototype,"numberOfNextedValues",{get:function(){return this._numberOfNextedValues},enumerable:!0,configurable:!0}),e}(nt),Mb=function(t){W(e,t);function e(r,n,i,s,o){var c=t.call(this,r)||this;c.destination=r,c.windowTimeSpan=n,c.windowCreationInterval=i,c.maxWindowSize=s,c.scheduler=o,c.windows=[];var l=c.openWindow();if(i!==null&&i>=0){var h={subscriber:c,window:l,context:null},d={windowTimeSpan:n,windowCreationInterval:i,subscriber:c,scheduler:o};c.add(o.schedule(zl,n,h)),c.add(o.schedule(Ab,i,d))}else{var C={subscriber:c,window:l,windowTimeSpan:n};c.add(o.schedule(Cb,n,C))}return c}return e.prototype._next=function(r){for(var n=this.windows,i=n.length,s=0;s<i;s++){var o=n[s];o.closed||(o.next(r),o.numberOfNextedValues>=this.maxWindowSize&&this.closeWindow(o))}},e.prototype._error=function(r){for(var n=this.windows;n.length>0;)n.shift().error(r);this.destination.error(r)},e.prototype._complete=function(){for(var r=this.windows;r.length>0;){var n=r.shift();n.closed||n.complete()}this.destination.complete()},e.prototype.openWindow=function(){var r=new xb;this.windows.push(r);var n=this.destination;return n.next(r),r},e.prototype.closeWindow=function(r){r.complete();var n=this.windows;n.splice(n.indexOf(r),1)},e}(ee);function Cb(t){var e=t.subscriber,r=t.windowTimeSpan,n=t.window;n&&e.closeWindow(n),t.window=e.openWindow(),this.schedule(t,r)}function Ab(t){var e=t.windowTimeSpan,r=t.subscriber,n=t.scheduler,i=t.windowCreationInterval,s=r.openWindow(),o=this,c={action:o,subscription:null},l={subscriber:r,window:s,context:c};c.subscription=n.schedule(zl,e,l),o.add(c.subscription),o.schedule(t,i)}function zl(t){var e=t.subscriber,r=t.window,n=t.context;n&&n.action&&n.subscription&&n.action.remove(n.subscription),e.closeWindow(r)}function Rb(t,e){return function(r){return r.lift(new Ib(t,e))}}var Ib=function(){function t(e,r){this.openings=e,this.closingSelector=r}return t.prototype.call=function(e,r){return r.subscribe(new Tb(e,this.openings,this.closingSelector))},t}(),Tb=function(t){W(e,t);function e(r,n,i){var s=t.call(this,r)||this;return s.openings=n,s.closingSelector=i,s.contexts=[],s.add(s.openSubscription=Gt(s,n,n)),s}return e.prototype._next=function(r){var n=this.contexts;if(n)for(var i=n.length,s=0;s<i;s++)n[s].window.next(r)},e.prototype._error=function(r){var n=this.contexts;if(this.contexts=null,n)for(var i=n.length,s=-1;++s<i;){var o=n[s];o.window.error(r),o.subscription.unsubscribe()}t.prototype._error.call(this,r)},e.prototype._complete=function(){var r=this.contexts;if(this.contexts=null,r)for(var n=r.length,i=-1;++i<n;){var s=r[i];s.window.complete(),s.subscription.unsubscribe()}t.prototype._complete.call(this)},e.prototype._unsubscribe=function(){var r=this.contexts;if(this.contexts=null,r)for(var n=r.length,i=-1;++i<n;){var s=r[i];s.window.unsubscribe(),s.subscription.unsubscribe()}},e.prototype.notifyNext=function(r,n,i,s,o){if(r===this.openings){var c=void 0;try{var l=this.closingSelector;c=l(n)}catch(x){return this.error(x)}var h=new nt,d=new Ke,C={window:h,subscription:d};this.contexts.push(C);var m=Gt(this,c,C);m.closed?this.closeWindow(this.contexts.length-1):(m.context=C,d.add(m)),this.destination.next(h)}else this.closeWindow(this.contexts.indexOf(r))},e.prototype.notifyError=function(r){this.error(r)},e.prototype.notifyComplete=function(r){r!==this.openSubscription&&this.closeWindow(this.contexts.indexOf(r.context))},e.prototype.closeWindow=function(r){if(r!==-1){var n=this.contexts,i=n[r],s=i.window,o=i.subscription;n.splice(r,1),s.complete(),o.unsubscribe()}},e}(Br);function Ob(t){return function(r){return r.lift(new Nb(t))}}var Nb=function(){function t(e){this.closingSelector=e}return t.prototype.call=function(e,r){return r.subscribe(new Db(e,this.closingSelector))},t}(),Db=function(t){W(e,t);function e(r,n){var i=t.call(this,r)||this;return i.destination=r,i.closingSelector=n,i.openWindow(),i}return e.prototype.notifyNext=function(r,n,i,s,o){this.openWindow(o)},e.prototype.notifyError=function(r){this._error(r)},e.prototype.notifyComplete=function(r){this.openWindow(r)},e.prototype._next=function(r){this.window.next(r)},e.prototype._error=function(r){this.window.error(r),this.destination.error(r),this.unsubscribeClosingNotification()},e.prototype._complete=function(){this.window.complete(),this.destination.complete(),this.unsubscribeClosingNotification()},e.prototype.unsubscribeClosingNotification=function(){this.closingNotification&&this.closingNotification.unsubscribe()},e.prototype.openWindow=function(r){r===void 0&&(r=null),r&&(this.remove(r),r.unsubscribe());var n=this.window;n&&n.complete();var i=this.window=new nt;this.destination.next(i);var s;try{var o=this.closingSelector;s=o()}catch(c){this.destination.error(c),this.window.error(c);return}this.add(this.closingNotification=Gt(this,s))},e}(Br);function Pb(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return function(r){var n;typeof t[t.length-1]=="function"&&(n=t.pop());var i=t;return r.lift(new Lb(i,n))}}var Lb=function(){function t(e,r){this.observables=e,this.project=r}return t.prototype.call=function(e,r){return r.subscribe(new jb(e,this.observables,this.project))},t}(),jb=function(t){W(e,t);function e(r,n,i){var s=t.call(this,r)||this;s.observables=n,s.project=i,s.toRespond=[];var o=n.length;s.values=new Array(o);for(var c=0;c<o;c++)s.toRespond.push(c);for(var c=0;c<o;c++){var l=n[c];s.add(Gt(s,l,void 0,c))}return s}return e.prototype.notifyNext=function(r,n,i){this.values[i]=n;var s=this.toRespond;if(s.length>0){var o=s.indexOf(i);o!==-1&&s.splice(o,1)}},e.prototype.notifyComplete=function(){},e.prototype._next=function(r){if(this.toRespond.length===0){var n=[r].concat(this.values);this.project?this._tryProject(n):this.destination.next(n)}},e.prototype._tryProject=function(r){var n;try{n=this.project.apply(this,r)}catch(i){this.destination.error(i);return}this.destination.next(n)},e}(Br);function Bb(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return function(n){return n.lift.call(Pl.apply(void 0,[n].concat(t)))}}function Fb(t){return function(e){return e.lift(new Ll(t))}}const Ub=Object.freeze(Object.defineProperty({__proto__:null,audit:jl,auditTime:Up,buffer:$p,bufferCount:Vp,bufferTime:Zp,bufferToggle:Xp,bufferWhen:r0,catchError:s0,combineAll:c0,combineLatest:u0,concat:l0,concatAll:Ml,concatMap:Fl,concatMapTo:f0,count:h0,debounce:_0,debounceTime:v0,defaultIfEmpty:pi,delay:k0,delayWhen:A0,dematerialize:O0,distinct:P0,distinctUntilChanged:$l,distinctUntilKeyChanged:U0,elementAt:z0,endWith:G0,every:Z0,exhaust:Y0,exhaustMap:Wl,expand:r_,filter:ur,finalize:s_,find:c_,findIndex:l_,first:f_,groupBy:md,ignoreElements:h_,isEmpty:__,last:y_,map:Ct,mapTo:w_,materialize:k_,max:R_,merge:I_,mergeAll:Ia,mergeMap:Pr,flatMap:fp,mergeMapTo:T_,mergeScan:O_,min:P_,multicast:Lr,observeOn:Rd,onErrorResumeNext:j_,pairwise:U_,partition:H_,pluck:V_,publish:z_,publishBehavior:G_,publishLast:Z_,publishReplay:K_,race:Q_,reduce:ms,repeat:Y_,repeatWhen:X_,retry:rg,retryWhen:sg,refCount:xa,sample:cg,sampleTime:fg,scan:Ji,sequenceEqual:_g,share:yg,shareReplay:wg,single:Eg,skip:Mg,skipLast:Rg,skipUntil:Og,skipWhile:Pg,startWith:Bg,subscribeOn:Ug,switchAll:Vg,switchMap:si,switchMapTo:qg,take:Oa,takeLast:Yi,takeUntil:zg,takeWhile:Kg,tap:Jg,throttle:tb,throttleTime:ib,throwIfEmpty:vs,timeInterval:cb,timeout:hb,timeoutWith:ql,timestamp:db,toArray:gb,window:bb,windowCount:yb,windowTime:Eb,windowToggle:Rb,windowWhen:Ob,withLatestFrom:Pb,zip:Bb,zipAll:Fb},Symbol.toStringTag,{value:"Module"})),ys=ci(Ub);var Gl={exports:{}},Ut={exports:{}};/*! safe-buffer. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */(function(t,e){var r=hs,n=r.Buffer;function i(o,c){for(var l in o)c[l]=o[l]}n.from&&n.alloc&&n.allocUnsafe&&n.allocUnsafeSlow?t.exports=r:(i(r,e),e.Buffer=s);function s(o,c,l){return n(o,c,l)}s.prototype=Object.create(n.prototype),i(n,s),s.from=function(o,c,l){if(typeof o=="number")throw new TypeError("Argument must not be a number");return n(o,c,l)},s.alloc=function(o,c,l){if(typeof o!="number")throw new TypeError("Argument must be a number");var h=n(o);return c!==void 0?typeof l=="string"?h.fill(c,l):h.fill(c):h.fill(0),h},s.allocUnsafe=function(o){if(typeof o!="number")throw new TypeError("Argument must be a number");return n(o)},s.allocUnsafeSlow=function(o){if(typeof o!="number")throw new TypeError("Argument must be a number");return r.SlowBuffer(o)}})(Ut,Ut.exports);var Zl=Ut.exports.Buffer;function ws(t,e){this._block=Zl.alloc(t),this._finalSize=e,this._blockSize=t,this._len=0}ws.prototype.update=function(t,e){typeof t=="string"&&(e=e||"utf8",t=Zl.from(t,e));for(var r=this._block,n=this._blockSize,i=t.length,s=this._len,o=0;o<i;){for(var c=s%n,l=Math.min(i-o,n-c),h=0;h<l;h++)r[c+h]=t[o+h];s+=l,o+=l,s%n===0&&this._update(r)}return this._len+=i,this};ws.prototype.digest=function(t){var e=this._len%this._blockSize;this._block[e]=128,this._block.fill(0,e+1),e>=this._finalSize&&(this._update(this._block),this._block.fill(0));var r=this._len*8;if(r<=4294967295)this._block.writeUInt32BE(r,this._blockSize-4);else{var n=(r&4294967295)>>>0,i=(r-n)/4294967296;this._block.writeUInt32BE(i,this._blockSize-8),this._block.writeUInt32BE(n,this._blockSize-4)}this._update(this._block);var s=this._hash();return t?s.toString(t):s};ws.prototype._update=function(){throw new Error("_update must be implemented by subclass")};var Dn=ws,$b=Mt.exports,Kl=Dn,Wb=Ut.exports.Buffer,Hb=[1518500249,1859775393,-1894007588,-899497514],Vb=new Array(80);function _i(){this.init(),this._w=Vb,Kl.call(this,64,56)}$b(_i,Kl);_i.prototype.init=function(){return this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520,this};function qb(t){return t<<5|t>>>27}function zb(t){return t<<30|t>>>2}function Gb(t,e,r,n){return t===0?e&r|~e&n:t===2?e&r|e&n|r&n:e^r^n}_i.prototype._update=function(t){for(var e=this._w,r=this._a|0,n=this._b|0,i=this._c|0,s=this._d|0,o=this._e|0,c=0;c<16;++c)e[c]=t.readInt32BE(c*4);for(;c<80;++c)e[c]=e[c-3]^e[c-8]^e[c-14]^e[c-16];for(var l=0;l<80;++l){var h=~~(l/20),d=qb(r)+Gb(h,n,i,s)+o+e[l]+Hb[h]|0;o=s,s=i,i=zb(n),n=r,r=d}this._a=r+this._a|0,this._b=n+this._b|0,this._c=i+this._c|0,this._d=s+this._d|0,this._e=o+this._e|0};_i.prototype._hash=function(){var t=Wb.allocUnsafe(20);return t.writeInt32BE(this._a|0,0),t.writeInt32BE(this._b|0,4),t.writeInt32BE(this._c|0,8),t.writeInt32BE(this._d|0,12),t.writeInt32BE(this._e|0,16),t};var Zb=_i,Kb=Mt.exports,Ql=Dn,Qb=Ut.exports.Buffer,Yb=[1518500249,1859775393,-1894007588,-899497514],Jb=new Array(80);function gi(){this.init(),this._w=Jb,Ql.call(this,64,56)}Kb(gi,Ql);gi.prototype.init=function(){return this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520,this};function Xb(t){return t<<1|t>>>31}function ev(t){return t<<5|t>>>27}function tv(t){return t<<30|t>>>2}function rv(t,e,r,n){return t===0?e&r|~e&n:t===2?e&r|e&n|r&n:e^r^n}gi.prototype._update=function(t){for(var e=this._w,r=this._a|0,n=this._b|0,i=this._c|0,s=this._d|0,o=this._e|0,c=0;c<16;++c)e[c]=t.readInt32BE(c*4);for(;c<80;++c)e[c]=Xb(e[c-3]^e[c-8]^e[c-14]^e[c-16]);for(var l=0;l<80;++l){var h=~~(l/20),d=ev(r)+rv(h,n,i,s)+o+e[l]+Yb[h]|0;o=s,s=i,i=tv(n),n=r,r=d}this._a=r+this._a|0,this._b=n+this._b|0,this._c=i+this._c|0,this._d=s+this._d|0,this._e=o+this._e|0};gi.prototype._hash=function(){var t=Qb.allocUnsafe(20);return t.writeInt32BE(this._a|0,0),t.writeInt32BE(this._b|0,4),t.writeInt32BE(this._c|0,8),t.writeInt32BE(this._d|0,12),t.writeInt32BE(this._e|0,16),t};var nv=gi,iv=Mt.exports,Yl=Dn,sv=Ut.exports.Buffer,ov=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298],av=new Array(64);function bi(){this.init(),this._w=av,Yl.call(this,64,56)}iv(bi,Yl);bi.prototype.init=function(){return this._a=1779033703,this._b=3144134277,this._c=1013904242,this._d=2773480762,this._e=1359893119,this._f=2600822924,this._g=528734635,this._h=1541459225,this};function cv(t,e,r){return r^t&(e^r)}function uv(t,e,r){return t&e|r&(t|e)}function lv(t){return(t>>>2|t<<30)^(t>>>13|t<<19)^(t>>>22|t<<10)}function fv(t){return(t>>>6|t<<26)^(t>>>11|t<<21)^(t>>>25|t<<7)}function hv(t){return(t>>>7|t<<25)^(t>>>18|t<<14)^t>>>3}function dv(t){return(t>>>17|t<<15)^(t>>>19|t<<13)^t>>>10}bi.prototype._update=function(t){for(var e=this._w,r=this._a|0,n=this._b|0,i=this._c|0,s=this._d|0,o=this._e|0,c=this._f|0,l=this._g|0,h=this._h|0,d=0;d<16;++d)e[d]=t.readInt32BE(d*4);for(;d<64;++d)e[d]=dv(e[d-2])+e[d-7]+hv(e[d-15])+e[d-16]|0;for(var C=0;C<64;++C){var m=h+fv(o)+cv(o,c,l)+ov[C]+e[C]|0,x=lv(r)+uv(r,n,i)|0;h=l,l=c,c=o,o=s+m|0,s=i,i=n,n=r,r=m+x|0}this._a=r+this._a|0,this._b=n+this._b|0,this._c=i+this._c|0,this._d=s+this._d|0,this._e=o+this._e|0,this._f=c+this._f|0,this._g=l+this._g|0,this._h=h+this._h|0};bi.prototype._hash=function(){var t=sv.allocUnsafe(32);return t.writeInt32BE(this._a,0),t.writeInt32BE(this._b,4),t.writeInt32BE(this._c,8),t.writeInt32BE(this._d,12),t.writeInt32BE(this._e,16),t.writeInt32BE(this._f,20),t.writeInt32BE(this._g,24),t.writeInt32BE(this._h,28),t};var Jl=bi,pv=Mt.exports,_v=Jl,gv=Dn,bv=Ut.exports.Buffer,vv=new Array(64);function Ss(){this.init(),this._w=vv,gv.call(this,64,56)}pv(Ss,_v);Ss.prototype.init=function(){return this._a=3238371032,this._b=914150663,this._c=812702999,this._d=4144912697,this._e=4290775857,this._f=1750603025,this._g=1694076839,this._h=3204075428,this};Ss.prototype._hash=function(){var t=bv.allocUnsafe(28);return t.writeInt32BE(this._a,0),t.writeInt32BE(this._b,4),t.writeInt32BE(this._c,8),t.writeInt32BE(this._d,12),t.writeInt32BE(this._e,16),t.writeInt32BE(this._f,20),t.writeInt32BE(this._g,24),t};var mv=Ss,yv=Mt.exports,Xl=Dn,wv=Ut.exports.Buffer,Mc=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591],Sv=new Array(160);function vi(){this.init(),this._w=Sv,Xl.call(this,128,112)}yv(vi,Xl);vi.prototype.init=function(){return this._ah=1779033703,this._bh=3144134277,this._ch=1013904242,this._dh=2773480762,this._eh=1359893119,this._fh=2600822924,this._gh=528734635,this._hh=1541459225,this._al=4089235720,this._bl=2227873595,this._cl=4271175723,this._dl=1595750129,this._el=2917565137,this._fl=725511199,this._gl=4215389547,this._hl=327033209,this};function Cc(t,e,r){return r^t&(e^r)}function Ac(t,e,r){return t&e|r&(t|e)}function Rc(t,e){return(t>>>28|e<<4)^(e>>>2|t<<30)^(e>>>7|t<<25)}function Ic(t,e){return(t>>>14|e<<18)^(t>>>18|e<<14)^(e>>>9|t<<23)}function Ev(t,e){return(t>>>1|e<<31)^(t>>>8|e<<24)^t>>>7}function kv(t,e){return(t>>>1|e<<31)^(t>>>8|e<<24)^(t>>>7|e<<25)}function xv(t,e){return(t>>>19|e<<13)^(e>>>29|t<<3)^t>>>6}function Mv(t,e){return(t>>>19|e<<13)^(e>>>29|t<<3)^(t>>>6|e<<26)}function Xe(t,e){return t>>>0<e>>>0?1:0}vi.prototype._update=function(t){for(var e=this._w,r=this._ah|0,n=this._bh|0,i=this._ch|0,s=this._dh|0,o=this._eh|0,c=this._fh|0,l=this._gh|0,h=this._hh|0,d=this._al|0,C=this._bl|0,m=this._cl|0,x=this._dl|0,A=this._el|0,P=this._fl|0,L=this._gl|0,E=this._hl|0,I=0;I<32;I+=2)e[I]=t.readInt32BE(I*4),e[I+1]=t.readInt32BE(I*4+4);for(;I<160;I+=2){var O=e[I-30],U=e[I-15*2+1],V=Ev(O,U),q=kv(U,O);O=e[I-2*2],U=e[I-2*2+1];var Z=xv(O,U),Y=Mv(U,O),z=e[I-7*2],K=e[I-7*2+1],Q=e[I-16*2],X=e[I-16*2+1],_=q+K|0,a=V+z+Xe(_,q)|0;_=_+Y|0,a=a+Z+Xe(_,Y)|0,_=_+X|0,a=a+Q+Xe(_,X)|0,e[I]=a,e[I+1]=_}for(var f=0;f<160;f+=2){a=e[f],_=e[f+1];var p=Ac(r,n,i),b=Ac(d,C,m),v=Rc(r,d),k=Rc(d,r),T=Ic(o,A),S=Ic(A,o),u=Mc[f],g=Mc[f+1],D=Cc(o,c,l),j=Cc(A,P,L),M=E+S|0,R=h+T+Xe(M,E)|0;M=M+j|0,R=R+D+Xe(M,j)|0,M=M+g|0,R=R+u+Xe(M,g)|0,M=M+_|0,R=R+a+Xe(M,_)|0;var N=k+b|0,F=v+p+Xe(N,k)|0;h=l,E=L,l=c,L=P,c=o,P=A,A=x+M|0,o=s+R+Xe(A,x)|0,s=i,x=m,i=n,m=C,n=r,C=d,d=M+N|0,r=R+F+Xe(d,M)|0}this._al=this._al+d|0,this._bl=this._bl+C|0,this._cl=this._cl+m|0,this._dl=this._dl+x|0,this._el=this._el+A|0,this._fl=this._fl+P|0,this._gl=this._gl+L|0,this._hl=this._hl+E|0,this._ah=this._ah+r+Xe(this._al,d)|0,this._bh=this._bh+n+Xe(this._bl,C)|0,this._ch=this._ch+i+Xe(this._cl,m)|0,this._dh=this._dh+s+Xe(this._dl,x)|0,this._eh=this._eh+o+Xe(this._el,A)|0,this._fh=this._fh+c+Xe(this._fl,P)|0,this._gh=this._gh+l+Xe(this._gl,L)|0,this._hh=this._hh+h+Xe(this._hl,E)|0};vi.prototype._hash=function(){var t=wv.allocUnsafe(64);function e(r,n,i){t.writeInt32BE(r,i),t.writeInt32BE(n,i+4)}return e(this._ah,this._al,0),e(this._bh,this._bl,8),e(this._ch,this._cl,16),e(this._dh,this._dl,24),e(this._eh,this._el,32),e(this._fh,this._fl,40),e(this._gh,this._gl,48),e(this._hh,this._hl,56),t};var ef=vi,Cv=Mt.exports,Av=ef,Rv=Dn,Iv=Ut.exports.Buffer,Tv=new Array(160);function Es(){this.init(),this._w=Tv,Rv.call(this,128,112)}Cv(Es,Av);Es.prototype.init=function(){return this._ah=3418070365,this._bh=1654270250,this._ch=2438529370,this._dh=355462360,this._eh=1731405415,this._fh=2394180231,this._gh=3675008525,this._hh=1203062813,this._al=3238371032,this._bl=914150663,this._cl=812702999,this._dl=4144912697,this._el=4290775857,this._fl=1750603025,this._gl=1694076839,this._hl=3204075428,this};Es.prototype._hash=function(){var t=Iv.allocUnsafe(48);function e(r,n,i){t.writeInt32BE(r,i),t.writeInt32BE(n,i+4)}return e(this._ah,this._al,0),e(this._bh,this._bl,8),e(this._ch,this._cl,16),e(this._dh,this._dl,24),e(this._eh,this._el,32),e(this._fh,this._fl,40),t};var Ov=Es,Fr=Gl.exports=function(e){e=e.toLowerCase();var r=Fr[e];if(!r)throw new Error(e+" is not supported (we accept pull requests)");return new r};Fr.sha=Zb;Fr.sha1=nv;Fr.sha224=mv;Fr.sha256=Jl;Fr.sha384=Ov;Fr.sha512=ef;var J={},tf=function(){if(typeof Symbol!="function"||typeof Object.getOwnPropertySymbols!="function")return!1;if(typeof Symbol.iterator=="symbol")return!0;var e={},r=Symbol("test"),n=Object(r);if(typeof r=="string"||Object.prototype.toString.call(r)!=="[object Symbol]"||Object.prototype.toString.call(n)!=="[object Symbol]")return!1;var i=42;e[r]=i;for(r in e)return!1;if(typeof Object.keys=="function"&&Object.keys(e).length!==0||typeof Object.getOwnPropertyNames=="function"&&Object.getOwnPropertyNames(e).length!==0)return!1;var s=Object.getOwnPropertySymbols(e);if(s.length!==1||s[0]!==r||!Object.prototype.propertyIsEnumerable.call(e,r))return!1;if(typeof Object.getOwnPropertyDescriptor=="function"){var o=Object.getOwnPropertyDescriptor(e,r);if(o.value!==i||o.enumerable!==!0)return!1}return!0},Tc=typeof Symbol<"u"&&Symbol,Nv=tf,Dv=function(){return typeof Tc!="function"||typeof Symbol!="function"||typeof Tc("foo")!="symbol"||typeof Symbol("bar")!="symbol"?!1:Nv()},Pv="Function.prototype.bind called on incompatible ",uo=Array.prototype.slice,Lv=Object.prototype.toString,jv="[object Function]",Bv=function(e){var r=this;if(typeof r!="function"||Lv.call(r)!==jv)throw new TypeError(Pv+r);for(var n=uo.call(arguments,1),i,s=function(){if(this instanceof i){var d=r.apply(this,n.concat(uo.call(arguments)));return Object(d)===d?d:this}else return r.apply(e,n.concat(uo.call(arguments)))},o=Math.max(0,r.length-n.length),c=[],l=0;l<o;l++)c.push("$"+l);if(i=Function("binder","return function ("+c.join(",")+"){ return binder.apply(this,arguments); }")(s),r.prototype){var h=function(){};h.prototype=r.prototype,i.prototype=new h,h.prototype=null}return i},Fv=Bv,Na=Function.prototype.bind||Fv,Uv=Na,$v=Uv.call(Function.call,Object.prototype.hasOwnProperty),he,vn=SyntaxError,rf=Function,un=TypeError,lo=function(t){try{return rf('"use strict"; return ('+t+").constructor;")()}catch{}},Nr=Object.getOwnPropertyDescriptor;if(Nr)try{Nr({},"")}catch{Nr=null}var fo=function(){throw new un},Wv=Nr?function(){try{return arguments.callee,fo}catch{try{return Nr(arguments,"callee").get}catch{return fo}}}():fo,Xr=Dv(),Xt=Object.getPrototypeOf||function(t){return t.__proto__},rn={},Hv=typeof Uint8Array>"u"?he:Xt(Uint8Array),ln={"%AggregateError%":typeof AggregateError>"u"?he:AggregateError,"%Array%":Array,"%ArrayBuffer%":typeof ArrayBuffer>"u"?he:ArrayBuffer,"%ArrayIteratorPrototype%":Xr?Xt([][Symbol.iterator]()):he,"%AsyncFromSyncIteratorPrototype%":he,"%AsyncFunction%":rn,"%AsyncGenerator%":rn,"%AsyncGeneratorFunction%":rn,"%AsyncIteratorPrototype%":rn,"%Atomics%":typeof Atomics>"u"?he:Atomics,"%BigInt%":typeof BigInt>"u"?he:BigInt,"%Boolean%":Boolean,"%DataView%":typeof DataView>"u"?he:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":Error,"%eval%":eval,"%EvalError%":EvalError,"%Float32Array%":typeof Float32Array>"u"?he:Float32Array,"%Float64Array%":typeof Float64Array>"u"?he:Float64Array,"%FinalizationRegistry%":typeof FinalizationRegistry>"u"?he:FinalizationRegistry,"%Function%":rf,"%GeneratorFunction%":rn,"%Int8Array%":typeof Int8Array>"u"?he:Int8Array,"%Int16Array%":typeof Int16Array>"u"?he:Int16Array,"%Int32Array%":typeof Int32Array>"u"?he:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":Xr?Xt(Xt([][Symbol.iterator]())):he,"%JSON%":typeof JSON=="object"?JSON:he,"%Map%":typeof Map>"u"?he:Map,"%MapIteratorPrototype%":typeof Map>"u"||!Xr?he:Xt(new Map()[Symbol.iterator]()),"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":typeof Promise>"u"?he:Promise,"%Proxy%":typeof Proxy>"u"?he:Proxy,"%RangeError%":RangeError,"%ReferenceError%":ReferenceError,"%Reflect%":typeof Reflect>"u"?he:Reflect,"%RegExp%":RegExp,"%Set%":typeof Set>"u"?he:Set,"%SetIteratorPrototype%":typeof Set>"u"||!Xr?he:Xt(new Set()[Symbol.iterator]()),"%SharedArrayBuffer%":typeof SharedArrayBuffer>"u"?he:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":Xr?Xt(""[Symbol.iterator]()):he,"%Symbol%":Xr?Symbol:he,"%SyntaxError%":vn,"%ThrowTypeError%":Wv,"%TypedArray%":Hv,"%TypeError%":un,"%Uint8Array%":typeof Uint8Array>"u"?he:Uint8Array,"%Uint8ClampedArray%":typeof Uint8ClampedArray>"u"?he:Uint8ClampedArray,"%Uint16Array%":typeof Uint16Array>"u"?he:Uint16Array,"%Uint32Array%":typeof Uint32Array>"u"?he:Uint32Array,"%URIError%":URIError,"%WeakMap%":typeof WeakMap>"u"?he:WeakMap,"%WeakRef%":typeof WeakRef>"u"?he:WeakRef,"%WeakSet%":typeof WeakSet>"u"?he:WeakSet},Vv=function t(e){var r;if(e==="%AsyncFunction%")r=lo("async function () {}");else if(e==="%GeneratorFunction%")r=lo("function* () {}");else if(e==="%AsyncGeneratorFunction%")r=lo("async function* () {}");else if(e==="%AsyncGenerator%"){var n=t("%AsyncGeneratorFunction%");n&&(r=n.prototype)}else if(e==="%AsyncIteratorPrototype%"){var i=t("%AsyncGenerator%");i&&(r=Xt(i.prototype))}return ln[e]=r,r},Oc={"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},mi=Na,Xi=$v,qv=mi.call(Function.call,Array.prototype.concat),zv=mi.call(Function.apply,Array.prototype.splice),Nc=mi.call(Function.call,String.prototype.replace),es=mi.call(Function.call,String.prototype.slice),Gv=mi.call(Function.call,RegExp.prototype.exec),Zv=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,Kv=/\\(\\)?/g,Qv=function(e){var r=es(e,0,1),n=es(e,-1);if(r==="%"&&n!=="%")throw new vn("invalid intrinsic syntax, expected closing `%`");if(n==="%"&&r!=="%")throw new vn("invalid intrinsic syntax, expected opening `%`");var i=[];return Nc(e,Zv,function(s,o,c,l){i[i.length]=c?Nc(l,Kv,"$1"):o||s}),i},Yv=function(e,r){var n=e,i;if(Xi(Oc,n)&&(i=Oc[n],n="%"+i[0]+"%"),Xi(ln,n)){var s=ln[n];if(s===rn&&(s=Vv(n)),typeof s>"u"&&!r)throw new un("intrinsic "+e+" exists, but is not available. Please file an issue!");return{alias:i,name:n,value:s}}throw new vn("intrinsic "+e+" does not exist!")},ks=function(e,r){if(typeof e!="string"||e.length===0)throw new un("intrinsic name must be a non-empty string");if(arguments.length>1&&typeof r!="boolean")throw new un('"allowMissing" argument must be a boolean');if(Gv(/^%?[^%]*%?$/g,e)===null)throw new vn("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var n=Qv(e),i=n.length>0?n[0]:"",s=Yv("%"+i+"%",r),o=s.name,c=s.value,l=!1,h=s.alias;h&&(i=h[0],zv(n,qv([0,1],h)));for(var d=1,C=!0;d<n.length;d+=1){var m=n[d],x=es(m,0,1),A=es(m,-1);if((x==='"'||x==="'"||x==="`"||A==='"'||A==="'"||A==="`")&&x!==A)throw new vn("property names with quotes must have matching quotes");if((m==="constructor"||!C)&&(l=!0),i+="."+m,o="%"+i+"%",Xi(ln,o))c=ln[o];else if(c!=null){if(!(m in c)){if(!r)throw new un("base intrinsic for "+e+" exists, but the property is not available.");return}if(Nr&&d+1>=n.length){var P=Nr(c,m);C=!!P,C&&"get"in P&&!("originalValue"in P.get)?c=P.get:c=c[m]}else C=Xi(c,m),c=c[m];C&&!l&&(ln[o]=c)}}return c},nf={exports:{}};(function(t){var e=Na,r=ks,n=r("%Function.prototype.apply%"),i=r("%Function.prototype.call%"),s=r("%Reflect.apply%",!0)||e.call(i,n),o=r("%Object.getOwnPropertyDescriptor%",!0),c=r("%Object.defineProperty%",!0),l=r("%Math.max%");if(c)try{c({},"a",{value:1})}catch{c=null}t.exports=function(C){var m=s(e,i,arguments);if(o&&c){var x=o(m,"length");x.configurable&&c(m,"length",{value:1+l(0,C.length-(arguments.length-1))})}return m};var h=function(){return s(e,n,arguments)};c?c(t.exports,"apply",{value:h}):t.exports.apply=h})(nf);var sf=ks,of=nf.exports,Jv=of(sf("String.prototype.indexOf")),xs=function(e,r){var n=sf(e,!!r);return typeof n=="function"&&Jv(e,".prototype.")>-1?of(n):n},Da=typeof Map=="function"&&Map.prototype,ho=Object.getOwnPropertyDescriptor&&Da?Object.getOwnPropertyDescriptor(Map.prototype,"size"):null,ts=Da&&ho&&typeof ho.get=="function"?ho.get:null,Xv=Da&&Map.prototype.forEach,Pa=typeof Set=="function"&&Set.prototype,po=Object.getOwnPropertyDescriptor&&Pa?Object.getOwnPropertyDescriptor(Set.prototype,"size"):null,rs=Pa&&po&&typeof po.get=="function"?po.get:null,em=Pa&&Set.prototype.forEach,tm=typeof WeakMap=="function"&&WeakMap.prototype,Gn=tm?WeakMap.prototype.has:null,rm=typeof WeakSet=="function"&&WeakSet.prototype,Zn=rm?WeakSet.prototype.has:null,nm=typeof WeakRef=="function"&&WeakRef.prototype,Dc=nm?WeakRef.prototype.deref:null,im=Boolean.prototype.valueOf,sm=Object.prototype.toString,om=Function.prototype.toString,am=String.prototype.match,La=String.prototype.slice,nr=String.prototype.replace,cm=String.prototype.toUpperCase,Pc=String.prototype.toLowerCase,af=RegExp.prototype.test,Lc=Array.prototype.concat,jt=Array.prototype.join,um=Array.prototype.slice,jc=Math.floor,oa=typeof BigInt=="function"?BigInt.prototype.valueOf:null,_o=Object.getOwnPropertySymbols,aa=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Symbol.prototype.toString:null,mn=typeof Symbol=="function"&&typeof Symbol.iterator=="object",lt=typeof Symbol=="function"&&Symbol.toStringTag&&(typeof Symbol.toStringTag===mn?"object":"symbol")?Symbol.toStringTag:null,cf=Object.prototype.propertyIsEnumerable,Bc=(typeof Reflect=="function"?Reflect.getPrototypeOf:Object.getPrototypeOf)||([].__proto__===Array.prototype?function(t){return t.__proto__}:null);function Fc(t,e){if(t===1/0||t===-1/0||t!==t||t&&t>-1e3&&t<1e3||af.call(/e/,e))return e;var r=/[0-9](?=(?:[0-9]{3})+(?![0-9]))/g;if(typeof t=="number"){var n=t<0?-jc(-t):jc(t);if(n!==t){var i=String(n),s=La.call(e,i.length+1);return nr.call(i,r,"$&_")+"."+nr.call(nr.call(s,/([0-9]{3})/g,"$&_"),/_$/,"")}}return nr.call(e,r,"$&_")}var ca=fs,Uc=ca.custom,$c=lf(Uc)?Uc:null,lm=function t(e,r,n,i){var s=r||{};if(er(s,"quoteStyle")&&s.quoteStyle!=="single"&&s.quoteStyle!=="double")throw new TypeError('option "quoteStyle" must be "single" or "double"');if(er(s,"maxStringLength")&&(typeof s.maxStringLength=="number"?s.maxStringLength<0&&s.maxStringLength!==1/0:s.maxStringLength!==null))throw new TypeError('option "maxStringLength", if provided, must be a positive integer, Infinity, or `null`');var o=er(s,"customInspect")?s.customInspect:!0;if(typeof o!="boolean"&&o!=="symbol")throw new TypeError("option \"customInspect\", if provided, must be `true`, `false`, or `'symbol'`");if(er(s,"indent")&&s.indent!==null&&s.indent!=="	"&&!(parseInt(s.indent,10)===s.indent&&s.indent>0))throw new TypeError('option "indent" must be "\\t", an integer > 0, or `null`');if(er(s,"numericSeparator")&&typeof s.numericSeparator!="boolean")throw new TypeError('option "numericSeparator", if provided, must be `true` or `false`');var c=s.numericSeparator;if(typeof e>"u")return"undefined";if(e===null)return"null";if(typeof e=="boolean")return e?"true":"false";if(typeof e=="string")return hf(e,s);if(typeof e=="number"){if(e===0)return 1/0/e>0?"0":"-0";var l=String(e);return c?Fc(e,l):l}if(typeof e=="bigint"){var h=String(e)+"n";return c?Fc(e,h):h}var d=typeof s.depth>"u"?5:s.depth;if(typeof n>"u"&&(n=0),n>=d&&d>0&&typeof e=="object")return ua(e)?"[Array]":"[Object]";var C=Am(s,n);if(typeof i>"u")i=[];else if(ff(i,e)>=0)return"[Circular]";function m(_,a,f){if(a&&(i=um.call(i),i.push(a)),f){var p={depth:s.depth};return er(s,"quoteStyle")&&(p.quoteStyle=s.quoteStyle),t(_,p,n+1,i)}return t(_,s,n+1,i)}if(typeof e=="function"&&!Wc(e)){var x=mm(e),A=Ti(e,m);return"[Function"+(x?": "+x:" (anonymous)")+"]"+(A.length>0?" { "+jt.call(A,", ")+" }":"")}if(lf(e)){var P=mn?nr.call(String(e),/^(Symbol\(.*\))_[^)]*$/,"$1"):aa.call(e);return typeof e=="object"&&!mn?Un(P):P}if(xm(e)){for(var L="<"+Pc.call(String(e.nodeName)),E=e.attributes||[],I=0;I<E.length;I++)L+=" "+E[I].name+"="+uf(fm(E[I].value),"double",s);return L+=">",e.childNodes&&e.childNodes.length&&(L+="..."),L+="</"+Pc.call(String(e.nodeName))+">",L}if(ua(e)){if(e.length===0)return"[]";var O=Ti(e,m);return C&&!Cm(O)?"["+la(O,C)+"]":"[ "+jt.call(O,", ")+" ]"}if(dm(e)){var U=Ti(e,m);return!("cause"in Error.prototype)&&"cause"in e&&!cf.call(e,"cause")?"{ ["+String(e)+"] "+jt.call(Lc.call("[cause]: "+m(e.cause),U),", ")+" }":U.length===0?"["+String(e)+"]":"{ ["+String(e)+"] "+jt.call(U,", ")+" }"}if(typeof e=="object"&&o){if($c&&typeof e[$c]=="function"&&ca)return ca(e,{depth:d-n});if(o!=="symbol"&&typeof e.inspect=="function")return e.inspect()}if(ym(e)){var V=[];return Xv.call(e,function(_,a){V.push(m(a,e,!0)+" => "+m(_,e))}),Hc("Map",ts.call(e),V,C)}if(Em(e)){var q=[];return em.call(e,function(_){q.push(m(_,e))}),Hc("Set",rs.call(e),q,C)}if(wm(e))return go("WeakMap");if(km(e))return go("WeakSet");if(Sm(e))return go("WeakRef");if(_m(e))return Un(m(Number(e)));if(bm(e))return Un(m(oa.call(e)));if(gm(e))return Un(im.call(e));if(pm(e))return Un(m(String(e)));if(!hm(e)&&!Wc(e)){var Z=Ti(e,m),Y=Bc?Bc(e)===Object.prototype:e instanceof Object||e.constructor===Object,z=e instanceof Object?"":"null prototype",K=!Y&&lt&&Object(e)===e&&lt in e?La.call(hr(e),8,-1):z?"Object":"",Q=Y||typeof e.constructor!="function"?"":e.constructor.name?e.constructor.name+" ":"",X=Q+(K||z?"["+jt.call(Lc.call([],K||[],z||[]),": ")+"] ":"");return Z.length===0?X+"{}":C?X+"{"+la(Z,C)+"}":X+"{ "+jt.call(Z,", ")+" }"}return String(e)};function uf(t,e,r){var n=(r.quoteStyle||e)==="double"?'"':"'";return n+t+n}function fm(t){return nr.call(String(t),/"/g,"&quot;")}function ua(t){return hr(t)==="[object Array]"&&(!lt||!(typeof t=="object"&&lt in t))}function hm(t){return hr(t)==="[object Date]"&&(!lt||!(typeof t=="object"&&lt in t))}function Wc(t){return hr(t)==="[object RegExp]"&&(!lt||!(typeof t=="object"&&lt in t))}function dm(t){return hr(t)==="[object Error]"&&(!lt||!(typeof t=="object"&&lt in t))}function pm(t){return hr(t)==="[object String]"&&(!lt||!(typeof t=="object"&&lt in t))}function _m(t){return hr(t)==="[object Number]"&&(!lt||!(typeof t=="object"&&lt in t))}function gm(t){return hr(t)==="[object Boolean]"&&(!lt||!(typeof t=="object"&&lt in t))}function lf(t){if(mn)return t&&typeof t=="object"&&t instanceof Symbol;if(typeof t=="symbol")return!0;if(!t||typeof t!="object"||!aa)return!1;try{return aa.call(t),!0}catch{}return!1}function bm(t){if(!t||typeof t!="object"||!oa)return!1;try{return oa.call(t),!0}catch{}return!1}var vm=Object.prototype.hasOwnProperty||function(t){return t in this};function er(t,e){return vm.call(t,e)}function hr(t){return sm.call(t)}function mm(t){if(t.name)return t.name;var e=am.call(om.call(t),/^function\s*([\w$]+)/);return e?e[1]:null}function ff(t,e){if(t.indexOf)return t.indexOf(e);for(var r=0,n=t.length;r<n;r++)if(t[r]===e)return r;return-1}function ym(t){if(!ts||!t||typeof t!="object")return!1;try{ts.call(t);try{rs.call(t)}catch{return!0}return t instanceof Map}catch{}return!1}function wm(t){if(!Gn||!t||typeof t!="object")return!1;try{Gn.call(t,Gn);try{Zn.call(t,Zn)}catch{return!0}return t instanceof WeakMap}catch{}return!1}function Sm(t){if(!Dc||!t||typeof t!="object")return!1;try{return Dc.call(t),!0}catch{}return!1}function Em(t){if(!rs||!t||typeof t!="object")return!1;try{rs.call(t);try{ts.call(t)}catch{return!0}return t instanceof Set}catch{}return!1}function km(t){if(!Zn||!t||typeof t!="object")return!1;try{Zn.call(t,Zn);try{Gn.call(t,Gn)}catch{return!0}return t instanceof WeakSet}catch{}return!1}function xm(t){return!t||typeof t!="object"?!1:typeof HTMLElement<"u"&&t instanceof HTMLElement?!0:typeof t.nodeName=="string"&&typeof t.getAttribute=="function"}function hf(t,e){if(t.length>e.maxStringLength){var r=t.length-e.maxStringLength,n="... "+r+" more character"+(r>1?"s":"");return hf(La.call(t,0,e.maxStringLength),e)+n}var i=nr.call(nr.call(t,/(['\\])/g,"\\$1"),/[\x00-\x1f]/g,Mm);return uf(i,"single",e)}function Mm(t){var e=t.charCodeAt(0),r={8:"b",9:"t",10:"n",12:"f",13:"r"}[e];return r?"\\"+r:"\\x"+(e<16?"0":"")+cm.call(e.toString(16))}function Un(t){return"Object("+t+")"}function go(t){return t+" { ? }"}function Hc(t,e,r,n){var i=n?la(r,n):jt.call(r,", ");return t+" ("+e+") {"+i+"}"}function Cm(t){for(var e=0;e<t.length;e++)if(ff(t[e],`
`)>=0)return!1;return!0}function Am(t,e){var r;if(t.indent==="	")r="	";else if(typeof t.indent=="number"&&t.indent>0)r=jt.call(Array(t.indent+1)," ");else return null;return{base:r,prev:jt.call(Array(e+1),r)}}function la(t,e){if(t.length===0)return"";var r=`
`+e.prev+e.base;return r+jt.call(t,","+r)+`
`+e.prev}function Ti(t,e){var r=ua(t),n=[];if(r){n.length=t.length;for(var i=0;i<t.length;i++)n[i]=er(t,i)?e(t[i],t):""}var s=typeof _o=="function"?_o(t):[],o;if(mn){o={};for(var c=0;c<s.length;c++)o["$"+s[c]]=s[c]}for(var l in t)!er(t,l)||r&&String(Number(l))===l&&l<t.length||mn&&o["$"+l]instanceof Symbol||(af.call(/[^\w$]/,l)?n.push(e(l,t)+": "+e(t[l],t)):n.push(l+": "+e(t[l],t)));if(typeof _o=="function")for(var h=0;h<s.length;h++)cf.call(t,s[h])&&n.push("["+e(s[h])+"]: "+e(t[s[h]],t));return n}var ja=ks,Pn=xs,Rm=lm,Im=ja("%TypeError%"),Oi=ja("%WeakMap%",!0),Ni=ja("%Map%",!0),Tm=Pn("WeakMap.prototype.get",!0),Om=Pn("WeakMap.prototype.set",!0),Nm=Pn("WeakMap.prototype.has",!0),Dm=Pn("Map.prototype.get",!0),Pm=Pn("Map.prototype.set",!0),Lm=Pn("Map.prototype.has",!0),Ba=function(t,e){for(var r=t,n;(n=r.next)!==null;r=n)if(n.key===e)return r.next=n.next,n.next=t.next,t.next=n,n},jm=function(t,e){var r=Ba(t,e);return r&&r.value},Bm=function(t,e,r){var n=Ba(t,e);n?n.value=r:t.next={key:e,next:t.next,value:r}},Fm=function(t,e){return!!Ba(t,e)},Um=function(){var e,r,n,i={assert:function(s){if(!i.has(s))throw new Im("Side channel does not contain "+Rm(s))},get:function(s){if(Oi&&s&&(typeof s=="object"||typeof s=="function")){if(e)return Tm(e,s)}else if(Ni){if(r)return Dm(r,s)}else if(n)return jm(n,s)},has:function(s){if(Oi&&s&&(typeof s=="object"||typeof s=="function")){if(e)return Nm(e,s)}else if(Ni){if(r)return Lm(r,s)}else if(n)return Fm(n,s);return!1},set:function(s,o){Oi&&s&&(typeof s=="object"||typeof s=="function")?(e||(e=new Oi),Om(e,s,o)):Ni?(r||(r=new Ni),Pm(r,s,o)):(n||(n={key:{},next:null}),Bm(n,s,o))}};return i},$m=String.prototype.replace,Wm=/%20/g,bo={RFC1738:"RFC1738",RFC3986:"RFC3986"},Fa={default:bo.RFC3986,formatters:{RFC1738:function(t){return $m.call(t,Wm,"+")},RFC3986:function(t){return String(t)}},RFC1738:bo.RFC1738,RFC3986:bo.RFC3986},Hm=Fa,vo=Object.prototype.hasOwnProperty,Ar=Array.isArray,Dt=function(){for(var t=[],e=0;e<256;++e)t.push("%"+((e<16?"0":"")+e.toString(16)).toUpperCase());return t}(),Vm=function(e){for(;e.length>1;){var r=e.pop(),n=r.obj[r.prop];if(Ar(n)){for(var i=[],s=0;s<n.length;++s)typeof n[s]<"u"&&i.push(n[s]);r.obj[r.prop]=i}}},df=function(e,r){for(var n=r&&r.plainObjects?Object.create(null):{},i=0;i<e.length;++i)typeof e[i]<"u"&&(n[i]=e[i]);return n},qm=function t(e,r,n){if(!r)return e;if(typeof r!="object"){if(Ar(e))e.push(r);else if(e&&typeof e=="object")(n&&(n.plainObjects||n.allowPrototypes)||!vo.call(Object.prototype,r))&&(e[r]=!0);else return[e,r];return e}if(!e||typeof e!="object")return[e].concat(r);var i=e;return Ar(e)&&!Ar(r)&&(i=df(e,n)),Ar(e)&&Ar(r)?(r.forEach(function(s,o){if(vo.call(e,o)){var c=e[o];c&&typeof c=="object"&&s&&typeof s=="object"?e[o]=t(c,s,n):e.push(s)}else e[o]=s}),e):Object.keys(r).reduce(function(s,o){var c=r[o];return vo.call(s,o)?s[o]=t(s[o],c,n):s[o]=c,s},i)},zm=function(e,r){return Object.keys(r).reduce(function(n,i){return n[i]=r[i],n},e)},Gm=function(t,e,r){var n=t.replace(/\+/g," ");if(r==="iso-8859-1")return n.replace(/%[0-9a-f]{2}/gi,unescape);try{return decodeURIComponent(n)}catch{return n}},Zm=function(e,r,n,i,s){if(e.length===0)return e;var o=e;if(typeof e=="symbol"?o=Symbol.prototype.toString.call(e):typeof e!="string"&&(o=String(e)),n==="iso-8859-1")return escape(o).replace(/%u[0-9a-f]{4}/gi,function(d){return"%26%23"+parseInt(d.slice(2),16)+"%3B"});for(var c="",l=0;l<o.length;++l){var h=o.charCodeAt(l);if(h===45||h===46||h===95||h===126||h>=48&&h<=57||h>=65&&h<=90||h>=97&&h<=122||s===Hm.RFC1738&&(h===40||h===41)){c+=o.charAt(l);continue}if(h<128){c=c+Dt[h];continue}if(h<2048){c=c+(Dt[192|h>>6]+Dt[128|h&63]);continue}if(h<55296||h>=57344){c=c+(Dt[224|h>>12]+Dt[128|h>>6&63]+Dt[128|h&63]);continue}l+=1,h=65536+((h&1023)<<10|o.charCodeAt(l)&1023),c+=Dt[240|h>>18]+Dt[128|h>>12&63]+Dt[128|h>>6&63]+Dt[128|h&63]}return c},Km=function(e){for(var r=[{obj:{o:e},prop:"o"}],n=[],i=0;i<r.length;++i)for(var s=r[i],o=s.obj[s.prop],c=Object.keys(o),l=0;l<c.length;++l){var h=c[l],d=o[h];typeof d=="object"&&d!==null&&n.indexOf(d)===-1&&(r.push({obj:o,prop:h}),n.push(d))}return Vm(r),e},Qm=function(e){return Object.prototype.toString.call(e)==="[object RegExp]"},Ym=function(e){return!e||typeof e!="object"?!1:!!(e.constructor&&e.constructor.isBuffer&&e.constructor.isBuffer(e))},Jm=function(e,r){return[].concat(e,r)},Xm=function(e,r){if(Ar(e)){for(var n=[],i=0;i<e.length;i+=1)n.push(r(e[i]));return n}return r(e)},pf={arrayToObject:df,assign:zm,combine:Jm,compact:Km,decode:Gm,encode:Zm,isBuffer:Ym,isRegExp:Qm,maybeMap:Xm,merge:qm},_f=Um,fa=pf,Kn=Fa,ey=Object.prototype.hasOwnProperty,Vc={brackets:function(e){return e+"[]"},comma:"comma",indices:function(e,r){return e+"["+r+"]"},repeat:function(e){return e}},Vt=Array.isArray,ty=String.prototype.split,ry=Array.prototype.push,gf=function(t,e){ry.apply(t,Vt(e)?e:[e])},ny=Date.prototype.toISOString,qc=Kn.default,st={addQueryPrefix:!1,allowDots:!1,charset:"utf-8",charsetSentinel:!1,delimiter:"&",encode:!0,encoder:fa.encode,encodeValuesOnly:!1,format:qc,formatter:Kn.formatters[qc],indices:!1,serializeDate:function(e){return ny.call(e)},skipNulls:!1,strictNullHandling:!1},iy=function(e){return typeof e=="string"||typeof e=="number"||typeof e=="boolean"||typeof e=="symbol"||typeof e=="bigint"},mo={},sy=function t(e,r,n,i,s,o,c,l,h,d,C,m,x,A,P,L){for(var E=e,I=L,O=0,U=!1;(I=I.get(mo))!==void 0&&!U;){var V=I.get(e);if(O+=1,typeof V<"u"){if(V===O)throw new RangeError("Cyclic object value");U=!0}typeof I.get(mo)>"u"&&(O=0)}if(typeof l=="function"?E=l(r,E):E instanceof Date?E=C(E):n==="comma"&&Vt(E)&&(E=fa.maybeMap(E,function(k){return k instanceof Date?C(k):k})),E===null){if(s)return c&&!A?c(r,st.encoder,P,"key",m):r;E=""}if(iy(E)||fa.isBuffer(E)){if(c){var q=A?r:c(r,st.encoder,P,"key",m);if(n==="comma"&&A){for(var Z=ty.call(String(E),","),Y="",z=0;z<Z.length;++z)Y+=(z===0?"":",")+x(c(Z[z],st.encoder,P,"value",m));return[x(q)+(i&&Vt(E)&&Z.length===1?"[]":"")+"="+Y]}return[x(q)+"="+x(c(E,st.encoder,P,"value",m))]}return[x(r)+"="+x(String(E))]}var K=[];if(typeof E>"u")return K;var Q;if(n==="comma"&&Vt(E))Q=[{value:E.length>0?E.join(",")||null:void 0}];else if(Vt(l))Q=l;else{var X=Object.keys(E);Q=h?X.sort(h):X}for(var _=i&&Vt(E)&&E.length===1?r+"[]":r,a=0;a<Q.length;++a){var f=Q[a],p=typeof f=="object"&&typeof f.value<"u"?f.value:E[f];if(!(o&&p===null)){var b=Vt(E)?typeof n=="function"?n(_,f):_:_+(d?"."+f:"["+f+"]");L.set(e,O);var v=_f();v.set(mo,L),gf(K,t(p,b,n,i,s,o,c,l,h,d,C,m,x,A,P,v))}}return K},oy=function(e){if(!e)return st;if(e.encoder!==null&&typeof e.encoder<"u"&&typeof e.encoder!="function")throw new TypeError("Encoder has to be a function.");var r=e.charset||st.charset;if(typeof e.charset<"u"&&e.charset!=="utf-8"&&e.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var n=Kn.default;if(typeof e.format<"u"){if(!ey.call(Kn.formatters,e.format))throw new TypeError("Unknown format option provided.");n=e.format}var i=Kn.formatters[n],s=st.filter;return(typeof e.filter=="function"||Vt(e.filter))&&(s=e.filter),{addQueryPrefix:typeof e.addQueryPrefix=="boolean"?e.addQueryPrefix:st.addQueryPrefix,allowDots:typeof e.allowDots>"u"?st.allowDots:!!e.allowDots,charset:r,charsetSentinel:typeof e.charsetSentinel=="boolean"?e.charsetSentinel:st.charsetSentinel,delimiter:typeof e.delimiter>"u"?st.delimiter:e.delimiter,encode:typeof e.encode=="boolean"?e.encode:st.encode,encoder:typeof e.encoder=="function"?e.encoder:st.encoder,encodeValuesOnly:typeof e.encodeValuesOnly=="boolean"?e.encodeValuesOnly:st.encodeValuesOnly,filter:s,format:n,formatter:i,serializeDate:typeof e.serializeDate=="function"?e.serializeDate:st.serializeDate,skipNulls:typeof e.skipNulls=="boolean"?e.skipNulls:st.skipNulls,sort:typeof e.sort=="function"?e.sort:null,strictNullHandling:typeof e.strictNullHandling=="boolean"?e.strictNullHandling:st.strictNullHandling}},ay=function(t,e){var r=t,n=oy(e),i,s;typeof n.filter=="function"?(s=n.filter,r=s("",r)):Vt(n.filter)&&(s=n.filter,i=s);var o=[];if(typeof r!="object"||r===null)return"";var c;e&&e.arrayFormat in Vc?c=e.arrayFormat:e&&"indices"in e?c=e.indices?"indices":"repeat":c="indices";var l=Vc[c];if(e&&"commaRoundTrip"in e&&typeof e.commaRoundTrip!="boolean")throw new TypeError("`commaRoundTrip` must be a boolean, or absent");var h=l==="comma"&&e&&e.commaRoundTrip;i||(i=Object.keys(r)),n.sort&&i.sort(n.sort);for(var d=_f(),C=0;C<i.length;++C){var m=i[C];n.skipNulls&&r[m]===null||gf(o,sy(r[m],m,l,h,n.strictNullHandling,n.skipNulls,n.encode?n.encoder:null,n.filter,n.sort,n.allowDots,n.serializeDate,n.format,n.formatter,n.encodeValuesOnly,n.charset,d))}var x=o.join(n.delimiter),A=n.addQueryPrefix===!0?"?":"";return n.charsetSentinel&&(n.charset==="iso-8859-1"?A+="utf8=%26%2310003%3B&":A+="utf8=%E2%9C%93&"),x.length>0?A+x:""},yn=pf,ha=Object.prototype.hasOwnProperty,cy=Array.isArray,tt={allowDots:!1,allowPrototypes:!1,allowSparse:!1,arrayLimit:20,charset:"utf-8",charsetSentinel:!1,comma:!1,decoder:yn.decode,delimiter:"&",depth:5,ignoreQueryPrefix:!1,interpretNumericEntities:!1,parameterLimit:1e3,parseArrays:!0,plainObjects:!1,strictNullHandling:!1},uy=function(t){return t.replace(/&#(\d+);/g,function(e,r){return String.fromCharCode(parseInt(r,10))})},bf=function(t,e){return t&&typeof t=="string"&&e.comma&&t.indexOf(",")>-1?t.split(","):t},ly="utf8=%26%2310003%3B",fy="utf8=%E2%9C%93",hy=function(e,r){var n={},i=r.ignoreQueryPrefix?e.replace(/^\?/,""):e,s=r.parameterLimit===1/0?void 0:r.parameterLimit,o=i.split(r.delimiter,s),c=-1,l,h=r.charset;if(r.charsetSentinel)for(l=0;l<o.length;++l)o[l].indexOf("utf8=")===0&&(o[l]===fy?h="utf-8":o[l]===ly&&(h="iso-8859-1"),c=l,l=o.length);for(l=0;l<o.length;++l)if(l!==c){var d=o[l],C=d.indexOf("]="),m=C===-1?d.indexOf("="):C+1,x,A;m===-1?(x=r.decoder(d,tt.decoder,h,"key"),A=r.strictNullHandling?null:""):(x=r.decoder(d.slice(0,m),tt.decoder,h,"key"),A=yn.maybeMap(bf(d.slice(m+1),r),function(P){return r.decoder(P,tt.decoder,h,"value")})),A&&r.interpretNumericEntities&&h==="iso-8859-1"&&(A=uy(A)),d.indexOf("[]=")>-1&&(A=cy(A)?[A]:A),ha.call(n,x)?n[x]=yn.combine(n[x],A):n[x]=A}return n},dy=function(t,e,r,n){for(var i=n?e:bf(e,r),s=t.length-1;s>=0;--s){var o,c=t[s];if(c==="[]"&&r.parseArrays)o=[].concat(i);else{o=r.plainObjects?Object.create(null):{};var l=c.charAt(0)==="["&&c.charAt(c.length-1)==="]"?c.slice(1,-1):c,h=parseInt(l,10);!r.parseArrays&&l===""?o={0:i}:!isNaN(h)&&c!==l&&String(h)===l&&h>=0&&r.parseArrays&&h<=r.arrayLimit?(o=[],o[h]=i):l!=="__proto__"&&(o[l]=i)}i=o}return i},py=function(e,r,n,i){if(!!e){var s=n.allowDots?e.replace(/\.([^.[]+)/g,"[$1]"):e,o=/(\[[^[\]]*])/,c=/(\[[^[\]]*])/g,l=n.depth>0&&o.exec(s),h=l?s.slice(0,l.index):s,d=[];if(h){if(!n.plainObjects&&ha.call(Object.prototype,h)&&!n.allowPrototypes)return;d.push(h)}for(var C=0;n.depth>0&&(l=c.exec(s))!==null&&C<n.depth;){if(C+=1,!n.plainObjects&&ha.call(Object.prototype,l[1].slice(1,-1))&&!n.allowPrototypes)return;d.push(l[1])}return l&&d.push("["+s.slice(l.index)+"]"),dy(d,r,n,i)}},_y=function(e){if(!e)return tt;if(e.decoder!==null&&e.decoder!==void 0&&typeof e.decoder!="function")throw new TypeError("Decoder has to be a function.");if(typeof e.charset<"u"&&e.charset!=="utf-8"&&e.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var r=typeof e.charset>"u"?tt.charset:e.charset;return{allowDots:typeof e.allowDots>"u"?tt.allowDots:!!e.allowDots,allowPrototypes:typeof e.allowPrototypes=="boolean"?e.allowPrototypes:tt.allowPrototypes,allowSparse:typeof e.allowSparse=="boolean"?e.allowSparse:tt.allowSparse,arrayLimit:typeof e.arrayLimit=="number"?e.arrayLimit:tt.arrayLimit,charset:r,charsetSentinel:typeof e.charsetSentinel=="boolean"?e.charsetSentinel:tt.charsetSentinel,comma:typeof e.comma=="boolean"?e.comma:tt.comma,decoder:typeof e.decoder=="function"?e.decoder:tt.decoder,delimiter:typeof e.delimiter=="string"||yn.isRegExp(e.delimiter)?e.delimiter:tt.delimiter,depth:typeof e.depth=="number"||e.depth===!1?+e.depth:tt.depth,ignoreQueryPrefix:e.ignoreQueryPrefix===!0,interpretNumericEntities:typeof e.interpretNumericEntities=="boolean"?e.interpretNumericEntities:tt.interpretNumericEntities,parameterLimit:typeof e.parameterLimit=="number"?e.parameterLimit:tt.parameterLimit,parseArrays:e.parseArrays!==!1,plainObjects:typeof e.plainObjects=="boolean"?e.plainObjects:tt.plainObjects,strictNullHandling:typeof e.strictNullHandling=="boolean"?e.strictNullHandling:tt.strictNullHandling}},gy=function(t,e){var r=_y(e);if(t===""||t===null||typeof t>"u")return r.plainObjects?Object.create(null):{};for(var n=typeof t=="string"?hy(t,r):t,i=r.plainObjects?Object.create(null):{},s=Object.keys(n),o=0;o<s.length;++o){var c=s[o],l=py(c,n[c],r,typeof t=="string");i=yn.merge(i,l,r)}return r.allowSparse===!0?i:yn.compact(i)},by=ay,vy=gy,my=Fa,yy={formats:my,parse:vy,stringify:by},yi={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.ProviderType=t.RegExpString=t.IntNumber=t.BigIntString=t.AddressString=t.HexString=t.OpaqueType=void 0;function e(){return n=>n}t.OpaqueType=e,t.HexString=e(),t.AddressString=e(),t.BigIntString=e();function r(n){return Math.floor(n)}t.IntNumber=r,t.RegExpString=e(),function(n){n.CoinbaseWallet="CoinbaseWallet",n.MetaMask="MetaMask",n.Unselected=""}(t.ProviderType||(t.ProviderType={}))})(yi);var wy=oe&&oe.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(J,"__esModule",{value:!0});J.isInIFrame=J.createQrUrl=J.getFavicon=J.range=J.isBigNumber=J.ensureParsedJSONObject=J.ensureBN=J.ensureRegExpString=J.ensureIntNumber=J.ensureBuffer=J.ensureAddressString=J.ensureEvenLengthHexString=J.ensureHexString=J.isHexString=J.prepend0x=J.strip0x=J.has0xPrefix=J.hexStringFromIntNumber=J.intNumberFromHexString=J.bigIntStringFromBN=J.hexStringFromBuffer=J.hexStringToUint8Array=J.uint8ArrayToHex=J.randomBytesHex=void 0;const rr=wy(ui.exports),Sy=yy,xt=yi,vf=/^[0-9]*$/,mf=/^[a-f0-9]*$/;function Ey(t){return yf(crypto.getRandomValues(new Uint8Array(t)))}J.randomBytesHex=Ey;function yf(t){return[...t].map(e=>e.toString(16).padStart(2,"0")).join("")}J.uint8ArrayToHex=yf;function ky(t){return new Uint8Array(t.match(/.{1,2}/g).map(e=>parseInt(e,16)))}J.hexStringToUint8Array=ky;function xy(t,e=!1){const r=t.toString("hex");return(0,xt.HexString)(e?"0x"+r:r)}J.hexStringFromBuffer=xy;function My(t){return(0,xt.BigIntString)(t.toString(10))}J.bigIntStringFromBN=My;function Cy(t){return(0,xt.IntNumber)(new rr.default(Si(t,!1),16).toNumber())}J.intNumberFromHexString=Cy;function Ay(t){return(0,xt.HexString)("0x"+new rr.default(t).toString(16))}J.hexStringFromIntNumber=Ay;function Ua(t){return t.startsWith("0x")||t.startsWith("0X")}J.has0xPrefix=Ua;function Ms(t){return Ua(t)?t.slice(2):t}J.strip0x=Ms;function wf(t){return Ua(t)?"0x"+t.slice(2):"0x"+t}J.prepend0x=wf;function wi(t){if(typeof t!="string")return!1;const e=Ms(t).toLowerCase();return mf.test(e)}J.isHexString=wi;function Sf(t,e=!1){if(typeof t=="string"){const r=Ms(t).toLowerCase();if(mf.test(r))return(0,xt.HexString)(e?"0x"+r:r)}throw new Error(`"${String(t)}" is not a hexadecimal string`)}J.ensureHexString=Sf;function Si(t,e=!1){let r=Sf(t,!1);return r.length%2===1&&(r=(0,xt.HexString)("0"+r)),e?(0,xt.HexString)("0x"+r):r}J.ensureEvenLengthHexString=Si;function Ry(t){if(typeof t=="string"){const e=Ms(t).toLowerCase();if(wi(e)&&e.length===40)return(0,xt.AddressString)(wf(e))}throw new Error(`Invalid Ethereum address: ${String(t)}`)}J.ensureAddressString=Ry;function Iy(t){if(Buffer.isBuffer(t))return t;if(typeof t=="string")if(wi(t)){const e=Si(t,!1);return Buffer.from(e,"hex")}else return Buffer.from(t,"utf8");throw new Error(`Not binary data: ${String(t)}`)}J.ensureBuffer=Iy;function Ef(t){if(typeof t=="number"&&Number.isInteger(t))return(0,xt.IntNumber)(t);if(typeof t=="string"){if(vf.test(t))return(0,xt.IntNumber)(Number(t));if(wi(t))return(0,xt.IntNumber)(new rr.default(Si(t,!1),16).toNumber())}throw new Error(`Not an integer: ${String(t)}`)}J.ensureIntNumber=Ef;function Ty(t){if(t instanceof RegExp)return(0,xt.RegExpString)(t.toString());throw new Error(`Not a RegExp: ${String(t)}`)}J.ensureRegExpString=Ty;function Oy(t){if(t!==null&&(rr.default.isBN(t)||kf(t)))return new rr.default(t.toString(10),10);if(typeof t=="number")return new rr.default(Ef(t));if(typeof t=="string"){if(vf.test(t))return new rr.default(t,10);if(wi(t))return new rr.default(Si(t,!1),16)}throw new Error(`Not an integer: ${String(t)}`)}J.ensureBN=Oy;function Ny(t){if(typeof t=="string")return JSON.parse(t);if(typeof t=="object")return t;throw new Error(`Not a JSON string or an object: ${String(t)}`)}J.ensureParsedJSONObject=Ny;function kf(t){if(t==null||typeof t.constructor!="function")return!1;const{constructor:e}=t;return typeof e.config=="function"&&typeof e.EUCLID=="number"}J.isBigNumber=kf;function Dy(t,e){return Array.from({length:e-t},(r,n)=>t+n)}J.range=Dy;function Py(){const t=document.querySelector('link[sizes="192x192"]')||document.querySelector('link[sizes="180x180"]')||document.querySelector('link[rel="icon"]')||document.querySelector('link[rel="shortcut icon"]'),{protocol:e,host:r}=document.location,n=t?t.getAttribute("href"):null;return!n||n.startsWith("javascript:")?null:n.startsWith("http://")||n.startsWith("https://")||n.startsWith("data:")?n:n.startsWith("//")?e+n:`${e}//${r}${n}`}J.getFavicon=Py;function Ly(t,e,r,n,i){const s=n?"parent-id":"id",o=(0,Sy.stringify)({[s]:t,secret:e,server:r,v:"1",chainId:i});return`${r}/#/link?${o}`}J.createQrUrl=Ly;function jy(){try{return window.frameElement!==null}catch{return!1}}J.isInIFrame=jy;Object.defineProperty(Rn,"__esModule",{value:!0});Rn.Session=void 0;const By=Nn,zc=ys,Gc=Gl.exports,Zc=J,yo="session:id",Kc="session:secret",Qc="session:linked";class $a{constructor(e,r,n,i){this._storage=e,this._id=r||(0,Zc.randomBytesHex)(16),this._secret=n||(0,Zc.randomBytesHex)(32),this._key=new Gc.sha256().update(`${this._id}, ${this._secret} WalletLink`).digest("hex"),this._linked=!!i}static load(e){const r=e.getItem(yo),n=e.getItem(Qc),i=e.getItem(Kc);return r&&i?new $a(e,r,i,n==="1"):null}static get persistedSessionIdChange$(){return(0,By.fromEvent)(window,"storage").pipe((0,zc.filter)(e=>e.key===yo),(0,zc.map)(e=>({oldValue:e.oldValue||null,newValue:e.newValue||null})))}static hash(e){return new Gc.sha256().update(e).digest("hex")}get id(){return this._id}get secret(){return this._secret}get key(){return this._key}get linked(){return this._linked}set linked(e){this._linked=e,this.persistLinked()}save(){return this._storage.setItem(yo,this._id),this._storage.setItem(Kc,this._secret),this.persistLinked(),this}persistLinked(){this._storage.setItem(Qc,this._linked?"1":"0")}}Rn.Session=$a;var Ot={};Object.defineProperty(Ot,"__esModule",{value:!0});Ot.WalletSDKRelayAbstract=Ot.APP_VERSION_KEY=Ot.LOCAL_STORAGE_ADDRESSES_KEY=Ot.WALLET_USER_NAME_KEY=void 0;const Yc=_s;Ot.WALLET_USER_NAME_KEY="walletUsername";Ot.LOCAL_STORAGE_ADDRESSES_KEY="Addresses";Ot.APP_VERSION_KEY="AppVersion";class Fy{async makeEthereumJSONRPCRequest(e,r){if(!r)throw new Error("Error: No jsonRpcUrl provided");return window.fetch(r,{method:"POST",body:JSON.stringify(e),mode:"cors",headers:{"Content-Type":"application/json"}}).then(n=>n.json()).then(n=>{if(!n)throw Yc.ethErrors.rpc.parse({});const i=n,{error:s}=i;if(s)throw(0,Yc.serializeError)(s);return i})}}Ot.WalletSDKRelayAbstract=Fy;var ns={exports:{}},xf=ls.exports.EventEmitter,wo,Jc;function Uy(){if(Jc)return wo;Jc=1;function t(m,x){var A=Object.keys(m);if(Object.getOwnPropertySymbols){var P=Object.getOwnPropertySymbols(m);x&&(P=P.filter(function(L){return Object.getOwnPropertyDescriptor(m,L).enumerable})),A.push.apply(A,P)}return A}function e(m){for(var x=1;x<arguments.length;x++){var A=arguments[x]!=null?arguments[x]:{};x%2?t(Object(A),!0).forEach(function(P){r(m,P,A[P])}):Object.getOwnPropertyDescriptors?Object.defineProperties(m,Object.getOwnPropertyDescriptors(A)):t(Object(A)).forEach(function(P){Object.defineProperty(m,P,Object.getOwnPropertyDescriptor(A,P))})}return m}function r(m,x,A){return x in m?Object.defineProperty(m,x,{value:A,enumerable:!0,configurable:!0,writable:!0}):m[x]=A,m}function n(m,x){if(!(m instanceof x))throw new TypeError("Cannot call a class as a function")}function i(m,x){for(var A=0;A<x.length;A++){var P=x[A];P.enumerable=P.enumerable||!1,P.configurable=!0,"value"in P&&(P.writable=!0),Object.defineProperty(m,P.key,P)}}function s(m,x,A){return x&&i(m.prototype,x),A&&i(m,A),m}var o=hs,c=o.Buffer,l=fs,h=l.inspect,d=h&&h.custom||"inspect";function C(m,x,A){c.prototype.copy.call(m,x,A)}return wo=function(){function m(){n(this,m),this.head=null,this.tail=null,this.length=0}return s(m,[{key:"push",value:function(A){var P={data:A,next:null};this.length>0?this.tail.next=P:this.head=P,this.tail=P,++this.length}},{key:"unshift",value:function(A){var P={data:A,next:this.head};this.length===0&&(this.tail=P),this.head=P,++this.length}},{key:"shift",value:function(){if(this.length!==0){var A=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,A}}},{key:"clear",value:function(){this.head=this.tail=null,this.length=0}},{key:"join",value:function(A){if(this.length===0)return"";for(var P=this.head,L=""+P.data;P=P.next;)L+=A+P.data;return L}},{key:"concat",value:function(A){if(this.length===0)return c.alloc(0);for(var P=c.allocUnsafe(A>>>0),L=this.head,E=0;L;)C(L.data,P,E),E+=L.data.length,L=L.next;return P}},{key:"consume",value:function(A,P){var L;return A<this.head.data.length?(L=this.head.data.slice(0,A),this.head.data=this.head.data.slice(A)):A===this.head.data.length?L=this.shift():L=P?this._getString(A):this._getBuffer(A),L}},{key:"first",value:function(){return this.head.data}},{key:"_getString",value:function(A){var P=this.head,L=1,E=P.data;for(A-=E.length;P=P.next;){var I=P.data,O=A>I.length?I.length:A;if(O===I.length?E+=I:E+=I.slice(0,A),A-=O,A===0){O===I.length?(++L,P.next?this.head=P.next:this.head=this.tail=null):(this.head=P,P.data=I.slice(O));break}++L}return this.length-=L,E}},{key:"_getBuffer",value:function(A){var P=c.allocUnsafe(A),L=this.head,E=1;for(L.data.copy(P),A-=L.data.length;L=L.next;){var I=L.data,O=A>I.length?I.length:A;if(I.copy(P,P.length-A,0,O),A-=O,A===0){O===I.length?(++E,L.next?this.head=L.next:this.head=this.tail=null):(this.head=L,L.data=I.slice(O));break}++E}return this.length-=E,P}},{key:d,value:function(A,P){return h(this,e({},P,{depth:0,customInspect:!1}))}}]),m}(),wo}function $y(t,e){var r=this,n=this._readableState&&this._readableState.destroyed,i=this._writableState&&this._writableState.destroyed;return n||i?(e?e(t):t&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,process.nextTick(da,this,t)):process.nextTick(da,this,t)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(t||null,function(s){!e&&s?r._writableState?r._writableState.errorEmitted?process.nextTick(Wi,r):(r._writableState.errorEmitted=!0,process.nextTick(Xc,r,s)):process.nextTick(Xc,r,s):e?(process.nextTick(Wi,r),e(s)):process.nextTick(Wi,r)}),this)}function Xc(t,e){da(t,e),Wi(t)}function Wi(t){t._writableState&&!t._writableState.emitClose||t._readableState&&!t._readableState.emitClose||t.emit("close")}function Wy(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}function da(t,e){t.emit("error",e)}function Hy(t,e){var r=t._readableState,n=t._writableState;r&&r.autoDestroy||n&&n.autoDestroy?t.destroy(e):t.emit("error",e)}var Mf={destroy:$y,undestroy:Wy,errorOrDestroy:Hy},Ur={};function Vy(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e}var Cf={};function At(t,e,r){r||(r=Error);function n(s,o,c){return typeof e=="string"?e:e(s,o,c)}var i=function(s){Vy(o,s);function o(c,l,h){return s.call(this,n(c,l,h))||this}return o}(r);i.prototype.name=r.name,i.prototype.code=t,Cf[t]=i}function eu(t,e){if(Array.isArray(t)){var r=t.length;return t=t.map(function(n){return String(n)}),r>2?"one of ".concat(e," ").concat(t.slice(0,r-1).join(", "),", or ")+t[r-1]:r===2?"one of ".concat(e," ").concat(t[0]," or ").concat(t[1]):"of ".concat(e," ").concat(t[0])}else return"of ".concat(e," ").concat(String(t))}function qy(t,e,r){return t.substr(!r||r<0?0:+r,e.length)===e}function zy(t,e,r){return(r===void 0||r>t.length)&&(r=t.length),t.substring(r-e.length,r)===e}function Gy(t,e,r){return typeof r!="number"&&(r=0),r+e.length>t.length?!1:t.indexOf(e,r)!==-1}At("ERR_INVALID_OPT_VALUE",function(t,e){return'The value "'+e+'" is invalid for option "'+t+'"'},TypeError);At("ERR_INVALID_ARG_TYPE",function(t,e,r){var n;typeof e=="string"&&qy(e,"not ")?(n="must not be",e=e.replace(/^not /,"")):n="must be";var i;if(zy(t," argument"))i="The ".concat(t," ").concat(n," ").concat(eu(e,"type"));else{var s=Gy(t,".")?"property":"argument";i='The "'.concat(t,'" ').concat(s," ").concat(n," ").concat(eu(e,"type"))}return i+=". Received type ".concat(typeof r),i},TypeError);At("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF");At("ERR_METHOD_NOT_IMPLEMENTED",function(t){return"The "+t+" method is not implemented"});At("ERR_STREAM_PREMATURE_CLOSE","Premature close");At("ERR_STREAM_DESTROYED",function(t){return"Cannot call "+t+" after a stream was destroyed"});At("ERR_MULTIPLE_CALLBACK","Callback called multiple times");At("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable");At("ERR_STREAM_WRITE_AFTER_END","write after end");At("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError);At("ERR_UNKNOWN_ENCODING",function(t){return"Unknown encoding: "+t},TypeError);At("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event");Ur.codes=Cf;var Zy=Ur.codes.ERR_INVALID_OPT_VALUE;function Ky(t,e,r){return t.highWaterMark!=null?t.highWaterMark:e?t[r]:null}function Qy(t,e,r,n){var i=Ky(e,n,r);if(i!=null){if(!(isFinite(i)&&Math.floor(i)===i)||i<0){var s=n?r:"highWaterMark";throw new Zy(s,i)}return Math.floor(i)}return t.objectMode?16:16*1024}var Af={getHighWaterMark:Qy},Yy=Jy;function Jy(t,e){if(So("noDeprecation"))return t;var r=!1;function n(){if(!r){if(So("throwDeprecation"))throw new Error(e);So("traceDeprecation")?console.trace(e):console.warn(e),r=!0}return t.apply(this,arguments)}return n}function So(t){try{if(!oe.localStorage)return!1}catch{return!1}var e=oe.localStorage[t];return e==null?!1:String(e).toLowerCase()==="true"}var Eo,tu;function Rf(){if(tu)return Eo;tu=1,Eo=Y;function t(M){var R=this;this.next=null,this.entry=null,this.finish=function(){j(R,M)}}var e;Y.WritableState=q;var r={deprecate:Yy},n=xf,i=hs.Buffer,s=oe.Uint8Array||function(){};function o(M){return i.from(M)}function c(M){return i.isBuffer(M)||M instanceof s}var l=Mf,h=Af,d=h.getHighWaterMark,C=Ur.codes,m=C.ERR_INVALID_ARG_TYPE,x=C.ERR_METHOD_NOT_IMPLEMENTED,A=C.ERR_MULTIPLE_CALLBACK,P=C.ERR_STREAM_CANNOT_PIPE,L=C.ERR_STREAM_DESTROYED,E=C.ERR_STREAM_NULL_VALUES,I=C.ERR_STREAM_WRITE_AFTER_END,O=C.ERR_UNKNOWN_ENCODING,U=l.errorOrDestroy;Mt.exports(Y,n);function V(){}function q(M,R,N){e=e||wn(),M=M||{},typeof N!="boolean"&&(N=R instanceof e),this.objectMode=!!M.objectMode,N&&(this.objectMode=this.objectMode||!!M.writableObjectMode),this.highWaterMark=d(this,M,"writableHighWaterMark",N),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var F=M.decodeStrings===!1;this.decodeStrings=!F,this.defaultEncoding=M.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(G){p(R,G)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=M.emitClose!==!1,this.autoDestroy=!!M.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new t(this)}q.prototype.getBuffer=function(){for(var R=this.bufferedRequest,N=[];R;)N.push(R),R=R.next;return N},function(){try{Object.defineProperty(q.prototype,"buffer",{get:r.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch{}}();var Z;typeof Symbol=="function"&&Symbol.hasInstance&&typeof Function.prototype[Symbol.hasInstance]=="function"?(Z=Function.prototype[Symbol.hasInstance],Object.defineProperty(Y,Symbol.hasInstance,{value:function(R){return Z.call(this,R)?!0:this!==Y?!1:R&&R._writableState instanceof q}})):Z=function(R){return R instanceof this};function Y(M){e=e||wn();var R=this instanceof e;if(!R&&!Z.call(Y,this))return new Y(M);this._writableState=new q(M,this,R),this.writable=!0,M&&(typeof M.write=="function"&&(this._write=M.write),typeof M.writev=="function"&&(this._writev=M.writev),typeof M.destroy=="function"&&(this._destroy=M.destroy),typeof M.final=="function"&&(this._final=M.final)),n.call(this)}Y.prototype.pipe=function(){U(this,new P)};function z(M,R){var N=new I;U(M,N),process.nextTick(R,N)}function K(M,R,N,F){var G;return N===null?G=new E:typeof N!="string"&&!R.objectMode&&(G=new m("chunk",["string","Buffer"],N)),G?(U(M,G),process.nextTick(F,G),!1):!0}Y.prototype.write=function(M,R,N){var F=this._writableState,G=!1,y=!F.objectMode&&c(M);return y&&!i.isBuffer(M)&&(M=o(M)),typeof R=="function"&&(N=R,R=null),y?R="buffer":R||(R=F.defaultEncoding),typeof N!="function"&&(N=V),F.ending?z(this,N):(y||K(this,F,M,N))&&(F.pendingcb++,G=X(this,F,y,M,R,N)),G},Y.prototype.cork=function(){this._writableState.corked++},Y.prototype.uncork=function(){var M=this._writableState;M.corked&&(M.corked--,!M.writing&&!M.corked&&!M.bufferProcessing&&M.bufferedRequest&&k(this,M))},Y.prototype.setDefaultEncoding=function(R){if(typeof R=="string"&&(R=R.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((R+"").toLowerCase())>-1))throw new O(R);return this._writableState.defaultEncoding=R,this},Object.defineProperty(Y.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}});function Q(M,R,N){return!M.objectMode&&M.decodeStrings!==!1&&typeof R=="string"&&(R=i.from(R,N)),R}Object.defineProperty(Y.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}});function X(M,R,N,F,G,y){if(!N){var w=Q(R,F,G);F!==w&&(N=!0,G="buffer",F=w)}var $=R.objectMode?1:F.length;R.length+=$;var H=R.length<R.highWaterMark;if(H||(R.needDrain=!0),R.writing||R.corked){var re=R.lastBufferedRequest;R.lastBufferedRequest={chunk:F,encoding:G,isBuf:N,callback:y,next:null},re?re.next=R.lastBufferedRequest:R.bufferedRequest=R.lastBufferedRequest,R.bufferedRequestCount+=1}else _(M,R,!1,$,F,G,y);return H}function _(M,R,N,F,G,y,w){R.writelen=F,R.writecb=w,R.writing=!0,R.sync=!0,R.destroyed?R.onwrite(new L("write")):N?M._writev(G,R.onwrite):M._write(G,y,R.onwrite),R.sync=!1}function a(M,R,N,F,G){--R.pendingcb,N?(process.nextTick(G,F),process.nextTick(g,M,R),M._writableState.errorEmitted=!0,U(M,F)):(G(F),M._writableState.errorEmitted=!0,U(M,F),g(M,R))}function f(M){M.writing=!1,M.writecb=null,M.length-=M.writelen,M.writelen=0}function p(M,R){var N=M._writableState,F=N.sync,G=N.writecb;if(typeof G!="function")throw new A;if(f(N),R)a(M,N,F,R,G);else{var y=T(N)||M.destroyed;!y&&!N.corked&&!N.bufferProcessing&&N.bufferedRequest&&k(M,N),F?process.nextTick(b,M,N,y,G):b(M,N,y,G)}}function b(M,R,N,F){N||v(M,R),R.pendingcb--,F(),g(M,R)}function v(M,R){R.length===0&&R.needDrain&&(R.needDrain=!1,M.emit("drain"))}function k(M,R){R.bufferProcessing=!0;var N=R.bufferedRequest;if(M._writev&&N&&N.next){var F=R.bufferedRequestCount,G=new Array(F),y=R.corkedRequestsFree;y.entry=N;for(var w=0,$=!0;N;)G[w]=N,N.isBuf||($=!1),N=N.next,w+=1;G.allBuffers=$,_(M,R,!0,R.length,G,"",y.finish),R.pendingcb++,R.lastBufferedRequest=null,y.next?(R.corkedRequestsFree=y.next,y.next=null):R.corkedRequestsFree=new t(R),R.bufferedRequestCount=0}else{for(;N;){var H=N.chunk,re=N.encoding,ne=N.callback,te=R.objectMode?1:H.length;if(_(M,R,!1,te,H,re,ne),N=N.next,R.bufferedRequestCount--,R.writing)break}N===null&&(R.lastBufferedRequest=null)}R.bufferedRequest=N,R.bufferProcessing=!1}Y.prototype._write=function(M,R,N){N(new x("_write()"))},Y.prototype._writev=null,Y.prototype.end=function(M,R,N){var F=this._writableState;return typeof M=="function"?(N=M,M=null,R=null):typeof R=="function"&&(N=R,R=null),M!=null&&this.write(M,R),F.corked&&(F.corked=1,this.uncork()),F.ending||D(this,F,N),this},Object.defineProperty(Y.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}});function T(M){return M.ending&&M.length===0&&M.bufferedRequest===null&&!M.finished&&!M.writing}function S(M,R){M._final(function(N){R.pendingcb--,N&&U(M,N),R.prefinished=!0,M.emit("prefinish"),g(M,R)})}function u(M,R){!R.prefinished&&!R.finalCalled&&(typeof M._final=="function"&&!R.destroyed?(R.pendingcb++,R.finalCalled=!0,process.nextTick(S,M,R)):(R.prefinished=!0,M.emit("prefinish")))}function g(M,R){var N=T(R);if(N&&(u(M,R),R.pendingcb===0&&(R.finished=!0,M.emit("finish"),R.autoDestroy))){var F=M._readableState;(!F||F.autoDestroy&&F.endEmitted)&&M.destroy()}return N}function D(M,R,N){R.ending=!0,g(M,R),N&&(R.finished?process.nextTick(N):M.once("finish",N)),R.ended=!0,M.writable=!1}function j(M,R,N){var F=M.entry;for(M.entry=null;F;){var G=F.callback;R.pendingcb--,G(N),F=F.next}R.corkedRequestsFree.next=M}return Object.defineProperty(Y.prototype,"destroyed",{enumerable:!1,get:function(){return this._writableState===void 0?!1:this._writableState.destroyed},set:function(R){!this._writableState||(this._writableState.destroyed=R)}}),Y.prototype.destroy=l.destroy,Y.prototype._undestroy=l.undestroy,Y.prototype._destroy=function(M,R){R(M)},Eo}var ko,ru;function wn(){if(ru)return ko;ru=1;var t=Object.keys||function(h){var d=[];for(var C in h)d.push(C);return d};ko=o;var e=Tf(),r=Rf();Mt.exports(o,e);for(var n=t(r.prototype),i=0;i<n.length;i++){var s=n[i];o.prototype[s]||(o.prototype[s]=r.prototype[s])}function o(h){if(!(this instanceof o))return new o(h);e.call(this,h),r.call(this,h),this.allowHalfOpen=!0,h&&(h.readable===!1&&(this.readable=!1),h.writable===!1&&(this.writable=!1),h.allowHalfOpen===!1&&(this.allowHalfOpen=!1,this.once("end",c)))}Object.defineProperty(o.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(o.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(o.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}});function c(){this._writableState.ended||process.nextTick(l,this)}function l(h){h.end()}return Object.defineProperty(o.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState===void 0||this._writableState===void 0?!1:this._readableState.destroyed&&this._writableState.destroyed},set:function(d){this._readableState===void 0||this._writableState===void 0||(this._readableState.destroyed=d,this._writableState.destroyed=d)}}),ko}var xo={},nu;function iu(){if(nu)return xo;nu=1;var t=Ut.exports.Buffer,e=t.isEncoding||function(E){switch(E=""+E,E&&E.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function r(E){if(!E)return"utf8";for(var I;;)switch(E){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return E;default:if(I)return;E=(""+E).toLowerCase(),I=!0}}function n(E){var I=r(E);if(typeof I!="string"&&(t.isEncoding===e||!e(E)))throw new Error("Unknown encoding: "+E);return I||E}xo.StringDecoder=i;function i(E){this.encoding=n(E);var I;switch(this.encoding){case"utf16le":this.text=C,this.end=m,I=4;break;case"utf8":this.fillLast=l,I=4;break;case"base64":this.text=x,this.end=A,I=3;break;default:this.write=P,this.end=L;return}this.lastNeed=0,this.lastTotal=0,this.lastChar=t.allocUnsafe(I)}i.prototype.write=function(E){if(E.length===0)return"";var I,O;if(this.lastNeed){if(I=this.fillLast(E),I===void 0)return"";O=this.lastNeed,this.lastNeed=0}else O=0;return O<E.length?I?I+this.text(E,O):this.text(E,O):I||""},i.prototype.end=d,i.prototype.text=h,i.prototype.fillLast=function(E){if(this.lastNeed<=E.length)return E.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);E.copy(this.lastChar,this.lastTotal-this.lastNeed,0,E.length),this.lastNeed-=E.length};function s(E){return E<=127?0:E>>5===6?2:E>>4===14?3:E>>3===30?4:E>>6===2?-1:-2}function o(E,I,O){var U=I.length-1;if(U<O)return 0;var V=s(I[U]);return V>=0?(V>0&&(E.lastNeed=V-1),V):--U<O||V===-2?0:(V=s(I[U]),V>=0?(V>0&&(E.lastNeed=V-2),V):--U<O||V===-2?0:(V=s(I[U]),V>=0?(V>0&&(V===2?V=0:E.lastNeed=V-3),V):0))}function c(E,I,O){if((I[0]&192)!==128)return E.lastNeed=0,"\uFFFD";if(E.lastNeed>1&&I.length>1){if((I[1]&192)!==128)return E.lastNeed=1,"\uFFFD";if(E.lastNeed>2&&I.length>2&&(I[2]&192)!==128)return E.lastNeed=2,"\uFFFD"}}function l(E){var I=this.lastTotal-this.lastNeed,O=c(this,E);if(O!==void 0)return O;if(this.lastNeed<=E.length)return E.copy(this.lastChar,I,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);E.copy(this.lastChar,I,0,E.length),this.lastNeed-=E.length}function h(E,I){var O=o(this,E,I);if(!this.lastNeed)return E.toString("utf8",I);this.lastTotal=O;var U=E.length-(O-this.lastNeed);return E.copy(this.lastChar,0,U),E.toString("utf8",I,U)}function d(E){var I=E&&E.length?this.write(E):"";return this.lastNeed?I+"\uFFFD":I}function C(E,I){if((E.length-I)%2===0){var O=E.toString("utf16le",I);if(O){var U=O.charCodeAt(O.length-1);if(U>=55296&&U<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=E[E.length-2],this.lastChar[1]=E[E.length-1],O.slice(0,-1)}return O}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=E[E.length-1],E.toString("utf16le",I,E.length-1)}function m(E){var I=E&&E.length?this.write(E):"";if(this.lastNeed){var O=this.lastTotal-this.lastNeed;return I+this.lastChar.toString("utf16le",0,O)}return I}function x(E,I){var O=(E.length-I)%3;return O===0?E.toString("base64",I):(this.lastNeed=3-O,this.lastTotal=3,O===1?this.lastChar[0]=E[E.length-1]:(this.lastChar[0]=E[E.length-2],this.lastChar[1]=E[E.length-1]),E.toString("base64",I,E.length-O))}function A(E){var I=E&&E.length?this.write(E):"";return this.lastNeed?I+this.lastChar.toString("base64",0,3-this.lastNeed):I}function P(E){return E.toString(this.encoding)}function L(E){return E&&E.length?this.write(E):""}return xo}var su=Ur.codes.ERR_STREAM_PREMATURE_CLOSE;function Xy(t){var e=!1;return function(){if(!e){e=!0;for(var r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];t.apply(this,n)}}}function e1(){}function t1(t){return t.setHeader&&typeof t.abort=="function"}function If(t,e,r){if(typeof e=="function")return If(t,null,e);e||(e={}),r=Xy(r||e1);var n=e.readable||e.readable!==!1&&t.readable,i=e.writable||e.writable!==!1&&t.writable,s=function(){t.writable||c()},o=t._writableState&&t._writableState.finished,c=function(){i=!1,o=!0,n||r.call(t)},l=t._readableState&&t._readableState.endEmitted,h=function(){n=!1,l=!0,i||r.call(t)},d=function(A){r.call(t,A)},C=function(){var A;if(n&&!l)return(!t._readableState||!t._readableState.ended)&&(A=new su),r.call(t,A);if(i&&!o)return(!t._writableState||!t._writableState.ended)&&(A=new su),r.call(t,A)},m=function(){t.req.on("finish",c)};return t1(t)?(t.on("complete",c),t.on("abort",C),t.req?m():t.on("request",m)):i&&!t._writableState&&(t.on("end",s),t.on("close",s)),t.on("end",h),t.on("finish",c),e.error!==!1&&t.on("error",d),t.on("close",C),function(){t.removeListener("complete",c),t.removeListener("abort",C),t.removeListener("request",m),t.req&&t.req.removeListener("finish",c),t.removeListener("end",s),t.removeListener("close",s),t.removeListener("finish",c),t.removeListener("end",h),t.removeListener("error",d),t.removeListener("close",C)}}var Wa=If,Mo,ou;function r1(){if(ou)return Mo;ou=1;var t;function e(E,I,O){return I in E?Object.defineProperty(E,I,{value:O,enumerable:!0,configurable:!0,writable:!0}):E[I]=O,E}var r=Wa,n=Symbol("lastResolve"),i=Symbol("lastReject"),s=Symbol("error"),o=Symbol("ended"),c=Symbol("lastPromise"),l=Symbol("handlePromise"),h=Symbol("stream");function d(E,I){return{value:E,done:I}}function C(E){var I=E[n];if(I!==null){var O=E[h].read();O!==null&&(E[c]=null,E[n]=null,E[i]=null,I(d(O,!1)))}}function m(E){process.nextTick(C,E)}function x(E,I){return function(O,U){E.then(function(){if(I[o]){O(d(void 0,!0));return}I[l](O,U)},U)}}var A=Object.getPrototypeOf(function(){}),P=Object.setPrototypeOf((t={get stream(){return this[h]},next:function(){var I=this,O=this[s];if(O!==null)return Promise.reject(O);if(this[o])return Promise.resolve(d(void 0,!0));if(this[h].destroyed)return new Promise(function(Z,Y){process.nextTick(function(){I[s]?Y(I[s]):Z(d(void 0,!0))})});var U=this[c],V;if(U)V=new Promise(x(U,this));else{var q=this[h].read();if(q!==null)return Promise.resolve(d(q,!1));V=new Promise(this[l])}return this[c]=V,V}},e(t,Symbol.asyncIterator,function(){return this}),e(t,"return",function(){var I=this;return new Promise(function(O,U){I[h].destroy(null,function(V){if(V){U(V);return}O(d(void 0,!0))})})}),t),A),L=function(I){var O,U=Object.create(P,(O={},e(O,h,{value:I,writable:!0}),e(O,n,{value:null,writable:!0}),e(O,i,{value:null,writable:!0}),e(O,s,{value:null,writable:!0}),e(O,o,{value:I._readableState.endEmitted,writable:!0}),e(O,l,{value:function(q,Z){var Y=U[h].read();Y?(U[c]=null,U[n]=null,U[i]=null,q(d(Y,!1))):(U[n]=q,U[i]=Z)},writable:!0}),O));return U[c]=null,r(I,function(V){if(V&&V.code!=="ERR_STREAM_PREMATURE_CLOSE"){var q=U[i];q!==null&&(U[c]=null,U[n]=null,U[i]=null,q(V)),U[s]=V;return}var Z=U[n];Z!==null&&(U[c]=null,U[n]=null,U[i]=null,Z(d(void 0,!0))),U[o]=!0}),I.on("readable",m.bind(null,U)),U};return Mo=L,Mo}var Co,au;function n1(){return au||(au=1,Co=function(){throw new Error("Readable.from is not available in the browser")}),Co}var Ao,cu;function Tf(){if(cu)return Ao;cu=1,Ao=z;var t;z.ReadableState=Y,ls.exports.EventEmitter;var e=function(w,$){return w.listeners($).length},r=xf,n=hs.Buffer,i=oe.Uint8Array||function(){};function s(y){return n.from(y)}function o(y){return n.isBuffer(y)||y instanceof i}var c=fs,l;c&&c.debuglog?l=c.debuglog("stream"):l=function(){};var h=Uy(),d=Mf,C=Af,m=C.getHighWaterMark,x=Ur.codes,A=x.ERR_INVALID_ARG_TYPE,P=x.ERR_STREAM_PUSH_AFTER_EOF,L=x.ERR_METHOD_NOT_IMPLEMENTED,E=x.ERR_STREAM_UNSHIFT_AFTER_END_EVENT,I,O,U;Mt.exports(z,r);var V=d.errorOrDestroy,q=["error","close","destroy","pause","resume"];function Z(y,w,$){if(typeof y.prependListener=="function")return y.prependListener(w,$);!y._events||!y._events[w]?y.on(w,$):Array.isArray(y._events[w])?y._events[w].unshift($):y._events[w]=[$,y._events[w]]}function Y(y,w,$){t=t||wn(),y=y||{},typeof $!="boolean"&&($=w instanceof t),this.objectMode=!!y.objectMode,$&&(this.objectMode=this.objectMode||!!y.readableObjectMode),this.highWaterMark=m(this,y,"readableHighWaterMark",$),this.buffer=new h,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=y.emitClose!==!1,this.autoDestroy=!!y.autoDestroy,this.destroyed=!1,this.defaultEncoding=y.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,y.encoding&&(I||(I=iu().StringDecoder),this.decoder=new I(y.encoding),this.encoding=y.encoding)}function z(y){if(t=t||wn(),!(this instanceof z))return new z(y);var w=this instanceof t;this._readableState=new Y(y,this,w),this.readable=!0,y&&(typeof y.read=="function"&&(this._read=y.read),typeof y.destroy=="function"&&(this._destroy=y.destroy)),r.call(this)}Object.defineProperty(z.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState===void 0?!1:this._readableState.destroyed},set:function(w){!this._readableState||(this._readableState.destroyed=w)}}),z.prototype.destroy=d.destroy,z.prototype._undestroy=d.undestroy,z.prototype._destroy=function(y,w){w(y)},z.prototype.push=function(y,w){var $=this._readableState,H;return $.objectMode?H=!0:typeof y=="string"&&(w=w||$.defaultEncoding,w!==$.encoding&&(y=n.from(y,w),w=""),H=!0),K(this,y,w,!1,H)},z.prototype.unshift=function(y){return K(this,y,null,!0,!1)};function K(y,w,$,H,re){l("readableAddChunk",w);var ne=y._readableState;if(w===null)ne.reading=!1,p(y,ne);else{var te;if(re||(te=X(ne,w)),te)V(y,te);else if(ne.objectMode||w&&w.length>0)if(typeof w!="string"&&!ne.objectMode&&Object.getPrototypeOf(w)!==n.prototype&&(w=s(w)),H)ne.endEmitted?V(y,new E):Q(y,ne,w,!0);else if(ne.ended)V(y,new P);else{if(ne.destroyed)return!1;ne.reading=!1,ne.decoder&&!$?(w=ne.decoder.write(w),ne.objectMode||w.length!==0?Q(y,ne,w,!1):k(y,ne)):Q(y,ne,w,!1)}else H||(ne.reading=!1,k(y,ne))}return!ne.ended&&(ne.length<ne.highWaterMark||ne.length===0)}function Q(y,w,$,H){w.flowing&&w.length===0&&!w.sync?(w.awaitDrain=0,y.emit("data",$)):(w.length+=w.objectMode?1:$.length,H?w.buffer.unshift($):w.buffer.push($),w.needReadable&&b(y)),k(y,w)}function X(y,w){var $;return!o(w)&&typeof w!="string"&&w!==void 0&&!y.objectMode&&($=new A("chunk",["string","Buffer","Uint8Array"],w)),$}z.prototype.isPaused=function(){return this._readableState.flowing===!1},z.prototype.setEncoding=function(y){I||(I=iu().StringDecoder);var w=new I(y);this._readableState.decoder=w,this._readableState.encoding=this._readableState.decoder.encoding;for(var $=this._readableState.buffer.head,H="";$!==null;)H+=w.write($.data),$=$.next;return this._readableState.buffer.clear(),H!==""&&this._readableState.buffer.push(H),this._readableState.length=H.length,this};var _=1073741824;function a(y){return y>=_?y=_:(y--,y|=y>>>1,y|=y>>>2,y|=y>>>4,y|=y>>>8,y|=y>>>16,y++),y}function f(y,w){return y<=0||w.length===0&&w.ended?0:w.objectMode?1:y!==y?w.flowing&&w.length?w.buffer.head.data.length:w.length:(y>w.highWaterMark&&(w.highWaterMark=a(y)),y<=w.length?y:w.ended?w.length:(w.needReadable=!0,0))}z.prototype.read=function(y){l("read",y),y=parseInt(y,10);var w=this._readableState,$=y;if(y!==0&&(w.emittedReadable=!1),y===0&&w.needReadable&&((w.highWaterMark!==0?w.length>=w.highWaterMark:w.length>0)||w.ended))return l("read: emitReadable",w.length,w.ended),w.length===0&&w.ended?N(this):b(this),null;if(y=f(y,w),y===0&&w.ended)return w.length===0&&N(this),null;var H=w.needReadable;l("need readable",H),(w.length===0||w.length-y<w.highWaterMark)&&(H=!0,l("length less than watermark",H)),w.ended||w.reading?(H=!1,l("reading or ended",H)):H&&(l("do read"),w.reading=!0,w.sync=!0,w.length===0&&(w.needReadable=!0),this._read(w.highWaterMark),w.sync=!1,w.reading||(y=f($,w)));var re;return y>0?re=R(y,w):re=null,re===null?(w.needReadable=w.length<=w.highWaterMark,y=0):(w.length-=y,w.awaitDrain=0),w.length===0&&(w.ended||(w.needReadable=!0),$!==y&&w.ended&&N(this)),re!==null&&this.emit("data",re),re};function p(y,w){if(l("onEofChunk"),!w.ended){if(w.decoder){var $=w.decoder.end();$&&$.length&&(w.buffer.push($),w.length+=w.objectMode?1:$.length)}w.ended=!0,w.sync?b(y):(w.needReadable=!1,w.emittedReadable||(w.emittedReadable=!0,v(y)))}}function b(y){var w=y._readableState;l("emitReadable",w.needReadable,w.emittedReadable),w.needReadable=!1,w.emittedReadable||(l("emitReadable",w.flowing),w.emittedReadable=!0,process.nextTick(v,y))}function v(y){var w=y._readableState;l("emitReadable_",w.destroyed,w.length,w.ended),!w.destroyed&&(w.length||w.ended)&&(y.emit("readable"),w.emittedReadable=!1),w.needReadable=!w.flowing&&!w.ended&&w.length<=w.highWaterMark,M(y)}function k(y,w){w.readingMore||(w.readingMore=!0,process.nextTick(T,y,w))}function T(y,w){for(;!w.reading&&!w.ended&&(w.length<w.highWaterMark||w.flowing&&w.length===0);){var $=w.length;if(l("maybeReadMore read 0"),y.read(0),$===w.length)break}w.readingMore=!1}z.prototype._read=function(y){V(this,new L("_read()"))},z.prototype.pipe=function(y,w){var $=this,H=this._readableState;switch(H.pipesCount){case 0:H.pipes=y;break;case 1:H.pipes=[H.pipes,y];break;default:H.pipes.push(y);break}H.pipesCount+=1,l("pipe count=%d opts=%j",H.pipesCount,w);var re=(!w||w.end!==!1)&&y!==process.stdout&&y!==process.stderr,ne=re?de:ge;H.endEmitted?process.nextTick(ne):$.once("end",ne),y.on("unpipe",te);function te(pe,gt){l("onunpipe"),pe===$&&gt&&gt.hasUnpiped===!1&&(gt.hasUnpiped=!0,ye())}function de(){l("onend"),y.end()}var B=S($);y.on("drain",B);var be=!1;function ye(){l("cleanup"),y.removeListener("close",me),y.removeListener("finish",Wt),y.removeListener("drain",B),y.removeListener("error",ve),y.removeListener("unpipe",te),$.removeListener("end",de),$.removeListener("end",ge),$.removeListener("data",Qt),be=!0,H.awaitDrain&&(!y._writableState||y._writableState.needDrain)&&B()}$.on("data",Qt);function Qt(pe){l("ondata");var gt=y.write(pe);l("dest.write",gt),gt===!1&&((H.pipesCount===1&&H.pipes===y||H.pipesCount>1&&G(H.pipes,y)!==-1)&&!be&&(l("false write response, pause",H.awaitDrain),H.awaitDrain++),$.pause())}function ve(pe){l("onerror",pe),ge(),y.removeListener("error",ve),e(y,"error")===0&&V(y,pe)}Z(y,"error",ve);function me(){y.removeListener("finish",Wt),ge()}y.once("close",me);function Wt(){l("onfinish"),y.removeListener("close",me),ge()}y.once("finish",Wt);function ge(){l("unpipe"),$.unpipe(y)}return y.emit("pipe",$),H.flowing||(l("pipe resume"),$.resume()),y};function S(y){return function(){var $=y._readableState;l("pipeOnDrain",$.awaitDrain),$.awaitDrain&&$.awaitDrain--,$.awaitDrain===0&&e(y,"data")&&($.flowing=!0,M(y))}}z.prototype.unpipe=function(y){var w=this._readableState,$={hasUnpiped:!1};if(w.pipesCount===0)return this;if(w.pipesCount===1)return y&&y!==w.pipes?this:(y||(y=w.pipes),w.pipes=null,w.pipesCount=0,w.flowing=!1,y&&y.emit("unpipe",this,$),this);if(!y){var H=w.pipes,re=w.pipesCount;w.pipes=null,w.pipesCount=0,w.flowing=!1;for(var ne=0;ne<re;ne++)H[ne].emit("unpipe",this,{hasUnpiped:!1});return this}var te=G(w.pipes,y);return te===-1?this:(w.pipes.splice(te,1),w.pipesCount-=1,w.pipesCount===1&&(w.pipes=w.pipes[0]),y.emit("unpipe",this,$),this)},z.prototype.on=function(y,w){var $=r.prototype.on.call(this,y,w),H=this._readableState;return y==="data"?(H.readableListening=this.listenerCount("readable")>0,H.flowing!==!1&&this.resume()):y==="readable"&&!H.endEmitted&&!H.readableListening&&(H.readableListening=H.needReadable=!0,H.flowing=!1,H.emittedReadable=!1,l("on readable",H.length,H.reading),H.length?b(this):H.reading||process.nextTick(g,this)),$},z.prototype.addListener=z.prototype.on,z.prototype.removeListener=function(y,w){var $=r.prototype.removeListener.call(this,y,w);return y==="readable"&&process.nextTick(u,this),$},z.prototype.removeAllListeners=function(y){var w=r.prototype.removeAllListeners.apply(this,arguments);return(y==="readable"||y===void 0)&&process.nextTick(u,this),w};function u(y){var w=y._readableState;w.readableListening=y.listenerCount("readable")>0,w.resumeScheduled&&!w.paused?w.flowing=!0:y.listenerCount("data")>0&&y.resume()}function g(y){l("readable nexttick read 0"),y.read(0)}z.prototype.resume=function(){var y=this._readableState;return y.flowing||(l("resume"),y.flowing=!y.readableListening,D(this,y)),y.paused=!1,this};function D(y,w){w.resumeScheduled||(w.resumeScheduled=!0,process.nextTick(j,y,w))}function j(y,w){l("resume",w.reading),w.reading||y.read(0),w.resumeScheduled=!1,y.emit("resume"),M(y),w.flowing&&!w.reading&&y.read(0)}z.prototype.pause=function(){return l("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(l("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this};function M(y){var w=y._readableState;for(l("flow",w.flowing);w.flowing&&y.read()!==null;);}z.prototype.wrap=function(y){var w=this,$=this._readableState,H=!1;y.on("end",function(){if(l("wrapped end"),$.decoder&&!$.ended){var te=$.decoder.end();te&&te.length&&w.push(te)}w.push(null)}),y.on("data",function(te){if(l("wrapped data"),$.decoder&&(te=$.decoder.write(te)),!($.objectMode&&te==null)&&!(!$.objectMode&&(!te||!te.length))){var de=w.push(te);de||(H=!0,y.pause())}});for(var re in y)this[re]===void 0&&typeof y[re]=="function"&&(this[re]=function(de){return function(){return y[de].apply(y,arguments)}}(re));for(var ne=0;ne<q.length;ne++)y.on(q[ne],this.emit.bind(this,q[ne]));return this._read=function(te){l("wrapped _read",te),H&&(H=!1,y.resume())},this},typeof Symbol=="function"&&(z.prototype[Symbol.asyncIterator]=function(){return O===void 0&&(O=r1()),O(this)}),Object.defineProperty(z.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),Object.defineProperty(z.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}}),Object.defineProperty(z.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(w){this._readableState&&(this._readableState.flowing=w)}}),z._fromList=R,Object.defineProperty(z.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}});function R(y,w){if(w.length===0)return null;var $;return w.objectMode?$=w.buffer.shift():!y||y>=w.length?(w.decoder?$=w.buffer.join(""):w.buffer.length===1?$=w.buffer.first():$=w.buffer.concat(w.length),w.buffer.clear()):$=w.buffer.consume(y,w.decoder),$}function N(y){var w=y._readableState;l("endReadable",w.endEmitted),w.endEmitted||(w.ended=!0,process.nextTick(F,w,y))}function F(y,w){if(l("endReadableNT",y.endEmitted,y.length),!y.endEmitted&&y.length===0&&(y.endEmitted=!0,w.readable=!1,w.emit("end"),y.autoDestroy)){var $=w._writableState;(!$||$.autoDestroy&&$.finished)&&w.destroy()}}typeof Symbol=="function"&&(z.from=function(y,w){return U===void 0&&(U=n1()),U(z,y,w)});function G(y,w){for(var $=0,H=y.length;$<H;$++)if(y[$]===w)return $;return-1}return Ao}var Of=Zt,Cs=Ur.codes,i1=Cs.ERR_METHOD_NOT_IMPLEMENTED,s1=Cs.ERR_MULTIPLE_CALLBACK,o1=Cs.ERR_TRANSFORM_ALREADY_TRANSFORMING,a1=Cs.ERR_TRANSFORM_WITH_LENGTH_0,As=wn();Mt.exports(Zt,As);function c1(t,e){var r=this._transformState;r.transforming=!1;var n=r.writecb;if(n===null)return this.emit("error",new s1);r.writechunk=null,r.writecb=null,e!=null&&this.push(e),n(t);var i=this._readableState;i.reading=!1,(i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}function Zt(t){if(!(this instanceof Zt))return new Zt(t);As.call(this,t),this._transformState={afterTransform:c1.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,t&&(typeof t.transform=="function"&&(this._transform=t.transform),typeof t.flush=="function"&&(this._flush=t.flush)),this.on("prefinish",u1)}function u1(){var t=this;typeof this._flush=="function"&&!this._readableState.destroyed?this._flush(function(e,r){uu(t,e,r)}):uu(this,null,null)}Zt.prototype.push=function(t,e){return this._transformState.needTransform=!1,As.prototype.push.call(this,t,e)};Zt.prototype._transform=function(t,e,r){r(new i1("_transform()"))};Zt.prototype._write=function(t,e,r){var n=this._transformState;if(n.writecb=r,n.writechunk=t,n.writeencoding=e,!n.transforming){var i=this._readableState;(n.needTransform||i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}};Zt.prototype._read=function(t){var e=this._transformState;e.writechunk!==null&&!e.transforming?(e.transforming=!0,this._transform(e.writechunk,e.writeencoding,e.afterTransform)):e.needTransform=!0};Zt.prototype._destroy=function(t,e){As.prototype._destroy.call(this,t,function(r){e(r)})};function uu(t,e,r){if(e)return t.emit("error",e);if(r!=null&&t.push(r),t._writableState.length)throw new a1;if(t._transformState.transforming)throw new o1;return t.push(null)}var l1=oi,Nf=Of;Mt.exports(oi,Nf);function oi(t){if(!(this instanceof oi))return new oi(t);Nf.call(this,t)}oi.prototype._transform=function(t,e,r){r(null,t)};var Ro;function f1(t){var e=!1;return function(){e||(e=!0,t.apply(void 0,arguments))}}var Df=Ur.codes,h1=Df.ERR_MISSING_ARGS,d1=Df.ERR_STREAM_DESTROYED;function lu(t){if(t)throw t}function p1(t){return t.setHeader&&typeof t.abort=="function"}function _1(t,e,r,n){n=f1(n);var i=!1;t.on("close",function(){i=!0}),Ro===void 0&&(Ro=Wa),Ro(t,{readable:e,writable:r},function(o){if(o)return n(o);i=!0,n()});var s=!1;return function(o){if(!i&&!s){if(s=!0,p1(t))return t.abort();if(typeof t.destroy=="function")return t.destroy();n(o||new d1("pipe"))}}}function fu(t){t()}function g1(t,e){return t.pipe(e)}function b1(t){return!t.length||typeof t[t.length-1]!="function"?lu:t.pop()}function v1(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];var n=b1(e);if(Array.isArray(e[0])&&(e=e[0]),e.length<2)throw new h1("streams");var i,s=e.map(function(o,c){var l=c<e.length-1,h=c>0;return _1(o,l,h,function(d){i||(i=d),d&&s.forEach(fu),!l&&(s.forEach(fu),n(i))})});return e.reduce(g1)}var m1=v1;(function(t,e){e=t.exports=Tf(),e.Stream=e,e.Readable=e,e.Writable=Rf(),e.Duplex=wn(),e.Transform=Of,e.PassThrough=l1,e.finished=Wa,e.pipeline=m1})(ns,ns.exports);const{Transform:y1}=ns.exports;var w1=t=>class Pf extends y1{constructor(r,n,i,s,o){super(o),this._rate=r,this._capacity=n,this._delimitedSuffix=i,this._hashBitLength=s,this._options=o,this._state=new t,this._state.initialize(r,n),this._finalized=!1}_transform(r,n,i){let s=null;try{this.update(r,n)}catch(o){s=o}i(s)}_flush(r){let n=null;try{this.push(this.digest())}catch(i){n=i}r(n)}update(r,n){if(!Buffer.isBuffer(r)&&typeof r!="string")throw new TypeError("Data must be a string or a buffer");if(this._finalized)throw new Error("Digest already called");return Buffer.isBuffer(r)||(r=Buffer.from(r,n)),this._state.absorb(r),this}digest(r){if(this._finalized)throw new Error("Digest already called");this._finalized=!0,this._delimitedSuffix&&this._state.absorbLastFewBits(this._delimitedSuffix);let n=this._state.squeeze(this._hashBitLength/8);return r!==void 0&&(n=n.toString(r)),this._resetState(),n}_resetState(){return this._state.initialize(this._rate,this._capacity),this}_clone(){const r=new Pf(this._rate,this._capacity,this._delimitedSuffix,this._hashBitLength,this._options);return this._state.copy(r._state),r._finalized=this._finalized,r}};const{Transform:S1}=ns.exports;var E1=t=>class Lf extends S1{constructor(r,n,i,s){super(s),this._rate=r,this._capacity=n,this._delimitedSuffix=i,this._options=s,this._state=new t,this._state.initialize(r,n),this._finalized=!1}_transform(r,n,i){let s=null;try{this.update(r,n)}catch(o){s=o}i(s)}_flush(){}_read(r){this.push(this.squeeze(r))}update(r,n){if(!Buffer.isBuffer(r)&&typeof r!="string")throw new TypeError("Data must be a string or a buffer");if(this._finalized)throw new Error("Squeeze already called");return Buffer.isBuffer(r)||(r=Buffer.from(r,n)),this._state.absorb(r),this}squeeze(r,n){this._finalized||(this._finalized=!0,this._state.absorbLastFewBits(this._delimitedSuffix));let i=this._state.squeeze(r);return n!==void 0&&(i=i.toString(n)),i}_resetState(){return this._state.initialize(this._rate,this._capacity),this}_clone(){const r=new Lf(this._rate,this._capacity,this._delimitedSuffix,this._options);return this._state.copy(r._state),r._finalized=this._finalized,r}};const k1=w1,x1=E1;var M1=function(t){const e=k1(t),r=x1(t);return function(n,i){switch(typeof n=="string"?n.toLowerCase():n){case"keccak224":return new e(1152,448,null,224,i);case"keccak256":return new e(1088,512,null,256,i);case"keccak384":return new e(832,768,null,384,i);case"keccak512":return new e(576,1024,null,512,i);case"sha3-224":return new e(1152,448,6,224,i);case"sha3-256":return new e(1088,512,6,256,i);case"sha3-384":return new e(832,768,6,384,i);case"sha3-512":return new e(576,1024,6,512,i);case"shake128":return new r(1344,256,31,i);case"shake256":return new r(1088,512,31,i);default:throw new Error("Invald algorithm: "+n)}}},jf={};const hu=[1,0,32898,0,32906,2147483648,2147516416,2147483648,32907,0,2147483649,0,2147516545,2147483648,32777,2147483648,138,0,136,0,2147516425,0,2147483658,0,2147516555,0,139,2147483648,32905,2147483648,32771,2147483648,32770,2147483648,128,2147483648,32778,0,2147483658,2147483648,2147516545,2147483648,32896,2147483648,2147483649,0,2147516424,2147483648];jf.p1600=function(t){for(let e=0;e<24;++e){const r=t[0]^t[10]^t[20]^t[30]^t[40],n=t[1]^t[11]^t[21]^t[31]^t[41],i=t[2]^t[12]^t[22]^t[32]^t[42],s=t[3]^t[13]^t[23]^t[33]^t[43],o=t[4]^t[14]^t[24]^t[34]^t[44],c=t[5]^t[15]^t[25]^t[35]^t[45],l=t[6]^t[16]^t[26]^t[36]^t[46],h=t[7]^t[17]^t[27]^t[37]^t[47],d=t[8]^t[18]^t[28]^t[38]^t[48],C=t[9]^t[19]^t[29]^t[39]^t[49];let m=d^(i<<1|s>>>31),x=C^(s<<1|i>>>31);const A=t[0]^m,P=t[1]^x,L=t[10]^m,E=t[11]^x,I=t[20]^m,O=t[21]^x,U=t[30]^m,V=t[31]^x,q=t[40]^m,Z=t[41]^x;m=r^(o<<1|c>>>31),x=n^(c<<1|o>>>31);const Y=t[2]^m,z=t[3]^x,K=t[12]^m,Q=t[13]^x,X=t[22]^m,_=t[23]^x,a=t[32]^m,f=t[33]^x,p=t[42]^m,b=t[43]^x;m=i^(l<<1|h>>>31),x=s^(h<<1|l>>>31);const v=t[4]^m,k=t[5]^x,T=t[14]^m,S=t[15]^x,u=t[24]^m,g=t[25]^x,D=t[34]^m,j=t[35]^x,M=t[44]^m,R=t[45]^x;m=o^(d<<1|C>>>31),x=c^(C<<1|d>>>31);const N=t[6]^m,F=t[7]^x,G=t[16]^m,y=t[17]^x,w=t[26]^m,$=t[27]^x,H=t[36]^m,re=t[37]^x,ne=t[46]^m,te=t[47]^x;m=l^(r<<1|n>>>31),x=h^(n<<1|r>>>31);const de=t[8]^m,B=t[9]^x,be=t[18]^m,ye=t[19]^x,Qt=t[28]^m,ve=t[29]^x,me=t[38]^m,Wt=t[39]^x,ge=t[48]^m,pe=t[49]^x,gt=A,we=P,Se=E<<4|L>>>28,Wr=L<<4|E>>>28,Ee=I<<3|O>>>29,ke=O<<3|I>>>29,Hr=V<<9|U>>>23,xe=U<<9|V>>>23,Me=q<<18|Z>>>14,Vr=Z<<18|q>>>14,Ce=Y<<1|z>>>31,Ae=z<<1|Y>>>31,qr=Q<<12|K>>>20,Re=K<<12|Q>>>20,Ie=X<<10|_>>>22,zr=_<<10|X>>>22,Te=f<<13|a>>>19,Oe=a<<13|f>>>19,Gr=p<<2|b>>>30,Ne=b<<2|p>>>30,De=k<<30|v>>>2,Zr=v<<30|k>>>2,Pe=T<<6|S>>>26,Le=S<<6|T>>>26,Kr=g<<11|u>>>21,je=u<<11|g>>>21,Be=D<<15|j>>>17,Qr=j<<15|D>>>17,Fe=R<<29|M>>>3,Ue=M<<29|R>>>3,Yr=N<<28|F>>>4,$e=F<<28|N>>>4,We=y<<23|G>>>9,Jr=G<<23|y>>>9,He=w<<25|$>>>7,Ve=$<<25|w>>>7,dr=H<<21|re>>>11,pr=re<<21|H>>>11,_r=te<<24|ne>>>8,gr=ne<<24|te>>>8,br=de<<27|B>>>5,vr=B<<27|de>>>5,mr=be<<20|ye>>>12,yr=ye<<20|be>>>12,wr=ve<<7|Qt>>>25,Sr=Qt<<7|ve>>>25,Er=me<<8|Wt>>>24,kr=Wt<<8|me>>>24,xr=ge<<14|pe>>>18,Mr=pe<<14|ge>>>18;t[0]=gt^~qr&Kr,t[1]=we^~Re&je,t[10]=Yr^~mr&Ee,t[11]=$e^~yr&ke,t[20]=Ce^~Pe&He,t[21]=Ae^~Le&Ve,t[30]=br^~Se&Ie,t[31]=vr^~Wr&zr,t[40]=De^~We&wr,t[41]=Zr^~Jr&Sr,t[2]=qr^~Kr&dr,t[3]=Re^~je&pr,t[12]=mr^~Ee&Te,t[13]=yr^~ke&Oe,t[22]=Pe^~He&Er,t[23]=Le^~Ve&kr,t[32]=Se^~Ie&Be,t[33]=Wr^~zr&Qr,t[42]=We^~wr&Hr,t[43]=Jr^~Sr&xe,t[4]=Kr^~dr&xr,t[5]=je^~pr&Mr,t[14]=Ee^~Te&Fe,t[15]=ke^~Oe&Ue,t[24]=He^~Er&Me,t[25]=Ve^~kr&Vr,t[34]=Ie^~Be&_r,t[35]=zr^~Qr&gr,t[44]=wr^~Hr&Gr,t[45]=Sr^~xe&Ne,t[6]=dr^~xr&gt,t[7]=pr^~Mr&we,t[16]=Te^~Fe&Yr,t[17]=Oe^~Ue&$e,t[26]=Er^~Me&Ce,t[27]=kr^~Vr&Ae,t[36]=Be^~_r&br,t[37]=Qr^~gr&vr,t[46]=Hr^~Gr&De,t[47]=xe^~Ne&Zr,t[8]=xr^~gt&qr,t[9]=Mr^~we&Re,t[18]=Fe^~Yr&mr,t[19]=Ue^~$e&yr,t[28]=Me^~Ce&Pe,t[29]=Vr^~Ae&Le,t[38]=_r^~br&Se,t[39]=gr^~vr&Wr,t[48]=Gr^~De&We,t[49]=Ne^~Zr&Jr,t[0]^=hu[e*2],t[1]^=hu[e*2+1]}};const is=jf;function Ln(){this.state=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],this.blockSize=null,this.count=0,this.squeezing=!1}Ln.prototype.initialize=function(t,e){for(let r=0;r<50;++r)this.state[r]=0;this.blockSize=t/8,this.count=0,this.squeezing=!1};Ln.prototype.absorb=function(t){for(let e=0;e<t.length;++e)this.state[~~(this.count/4)]^=t[e]<<8*(this.count%4),this.count+=1,this.count===this.blockSize&&(is.p1600(this.state),this.count=0)};Ln.prototype.absorbLastFewBits=function(t){this.state[~~(this.count/4)]^=t<<8*(this.count%4),(t&128)!==0&&this.count===this.blockSize-1&&is.p1600(this.state),this.state[~~((this.blockSize-1)/4)]^=128<<8*((this.blockSize-1)%4),is.p1600(this.state),this.count=0,this.squeezing=!0};Ln.prototype.squeeze=function(t){this.squeezing||this.absorbLastFewBits(1);const e=Buffer.alloc(t);for(let r=0;r<t;++r)e[r]=this.state[~~(this.count/4)]>>>8*(this.count%4)&255,this.count+=1,this.count===this.blockSize&&(is.p1600(this.state),this.count=0);return e};Ln.prototype.copy=function(t){for(let e=0;e<50;++e)t.state[e]=this.state[e];t.blockSize=this.blockSize,t.count=this.count,t.squeezing=this.squeezing};var C1=Ln,A1=M1(C1);const R1=A1,I1=ui.exports;function Bf(t){return Buffer.allocUnsafe(t).fill(0)}function Ff(t,e,r){const n=Bf(e);return t=Rs(t),r?t.length<e?(t.copy(n),n):t.slice(0,e):t.length<e?(t.copy(n,e-t.length),n):t.slice(-e)}function T1(t,e){return Ff(t,e,!0)}function Rs(t){if(!Buffer.isBuffer(t))if(Array.isArray(t))t=Buffer.from(t);else if(typeof t=="string")Uf(t)?t=Buffer.from(D1($f(t)),"hex"):t=Buffer.from(t);else if(typeof t=="number")t=intToBuffer(t);else if(t==null)t=Buffer.allocUnsafe(0);else if(I1.isBN(t))t=t.toArrayLike(Buffer);else if(t.toArray)t=Buffer.from(t.toArray());else throw new Error("invalid type");return t}function O1(t){return t=Rs(t),"0x"+t.toString("hex")}function N1(t,e){return t=Rs(t),e||(e=256),R1("keccak"+e).update(t).digest()}function D1(t){return t.length%2?"0"+t:t}function Uf(t){return typeof t=="string"&&t.match(/^0x[0-9A-Fa-f]*$/)}function $f(t){return typeof t=="string"&&t.startsWith("0x")?t.slice(2):t}var Wf={zeros:Bf,setLength:Ff,setLengthRight:T1,isHexString:Uf,stripHexPrefix:$f,toBuffer:Rs,bufferToHex:O1,keccak:N1};const jr=Wf,Or=ui.exports;function Hf(t){return t.startsWith("int[")?"int256"+t.slice(3):t==="int"?"int256":t.startsWith("uint[")?"uint256"+t.slice(4):t==="uint"?"uint256":t.startsWith("fixed[")?"fixed128x128"+t.slice(5):t==="fixed"?"fixed128x128":t.startsWith("ufixed[")?"ufixed128x128"+t.slice(6):t==="ufixed"?"ufixed128x128":t}function fn(t){return parseInt(/^\D+(\d+)$/.exec(t)[1],10)}function du(t){var e=/^\D+(\d+)x(\d+)$/.exec(t);return[parseInt(e[1],10),parseInt(e[2],10)]}function Vf(t){var e=t.match(/(.*)\[(.*?)\]$/);return e?e[2]===""?"dynamic":parseInt(e[2],10):null}function Rr(t){var e=typeof t;if(e==="string")return jr.isHexString(t)?new Or(jr.stripHexPrefix(t),16):new Or(t,10);if(e==="number")return new Or(t);if(t.toArray)return t;throw new Error("Argument is not a number")}function Lt(t,e){var r,n,i,s;if(t==="address")return Lt("uint160",Rr(e));if(t==="bool")return Lt("uint8",e?1:0);if(t==="string")return Lt("bytes",new Buffer(e,"utf8"));if(L1(t)){if(typeof e.length>"u")throw new Error("Not an array?");if(r=Vf(t),r!=="dynamic"&&r!==0&&e.length>r)throw new Error("Elements exceed array size: "+r);i=[],t=t.slice(0,t.lastIndexOf("[")),typeof e=="string"&&(e=JSON.parse(e));for(s in e)i.push(Lt(t,e[s]));if(r==="dynamic"){var o=Lt("uint256",e.length);i.unshift(o)}return Buffer.concat(i)}else{if(t==="bytes")return e=new Buffer(e),i=Buffer.concat([Lt("uint256",e.length),e]),e.length%32!==0&&(i=Buffer.concat([i,jr.zeros(32-e.length%32)])),i;if(t.startsWith("bytes")){if(r=fn(t),r<1||r>32)throw new Error("Invalid bytes<N> width: "+r);return jr.setLengthRight(e,32)}else if(t.startsWith("uint")){if(r=fn(t),r%8||r<8||r>256)throw new Error("Invalid uint<N> width: "+r);if(n=Rr(e),n.bitLength()>r)throw new Error("Supplied uint exceeds width: "+r+" vs "+n.bitLength());if(n<0)throw new Error("Supplied uint is negative");return n.toArrayLike(Buffer,"be",32)}else if(t.startsWith("int")){if(r=fn(t),r%8||r<8||r>256)throw new Error("Invalid int<N> width: "+r);if(n=Rr(e),n.bitLength()>r)throw new Error("Supplied int exceeds width: "+r+" vs "+n.bitLength());return n.toTwos(256).toArrayLike(Buffer,"be",32)}else if(t.startsWith("ufixed")){if(r=du(t),n=Rr(e),n<0)throw new Error("Supplied ufixed is negative");return Lt("uint256",n.mul(new Or(2).pow(new Or(r[1]))))}else if(t.startsWith("fixed"))return r=du(t),Lt("int256",Rr(e).mul(new Or(2).pow(new Or(r[1]))))}throw new Error("Unsupported or invalid type: "+t)}function P1(t){return t==="string"||t==="bytes"||Vf(t)==="dynamic"}function L1(t){return t.lastIndexOf("]")===t.length-1}function j1(t,e){var r=[],n=[],i=32*t.length;for(var s in t){var o=Hf(t[s]),c=e[s],l=Lt(o,c);P1(o)?(r.push(Lt("uint256",i)),n.push(l),i+=l.length):r.push(l)}return Buffer.concat(r.concat(n))}function qf(t,e){if(t.length!==e.length)throw new Error("Number of types are not matching the values");for(var r,n,i=[],s=0;s<t.length;s++){var o=Hf(t[s]),c=e[s];if(o==="bytes")i.push(c);else if(o==="string")i.push(new Buffer(c,"utf8"));else if(o==="bool")i.push(new Buffer(c?"01":"00","hex"));else if(o==="address")i.push(jr.setLength(c,20));else if(o.startsWith("bytes")){if(r=fn(o),r<1||r>32)throw new Error("Invalid bytes<N> width: "+r);i.push(jr.setLengthRight(c,r))}else if(o.startsWith("uint")){if(r=fn(o),r%8||r<8||r>256)throw new Error("Invalid uint<N> width: "+r);if(n=Rr(c),n.bitLength()>r)throw new Error("Supplied uint exceeds width: "+r+" vs "+n.bitLength());i.push(n.toArrayLike(Buffer,"be",r/8))}else if(o.startsWith("int")){if(r=fn(o),r%8||r<8||r>256)throw new Error("Invalid int<N> width: "+r);if(n=Rr(c),n.bitLength()>r)throw new Error("Supplied int exceeds width: "+r+" vs "+n.bitLength());i.push(n.toTwos(r).toArrayLike(Buffer,"be",r/8))}else throw new Error("Unsupported or invalid type: "+o)}return Buffer.concat(i)}function B1(t,e){return jr.keccak(qf(t,e))}var F1={rawEncode:j1,solidityPack:qf,soliditySHA3:B1};const It=Wf,Qn=F1,zf={type:"object",properties:{types:{type:"object",additionalProperties:{type:"array",items:{type:"object",properties:{name:{type:"string"},type:{type:"string"}},required:["name","type"]}}},primaryType:{type:"string"},domain:{type:"object"},message:{type:"object"}},required:["types","primaryType","domain","message"]},Io={encodeData(t,e,r,n=!0){const i=["bytes32"],s=[this.hashType(t,r)];if(n){const o=(c,l,h)=>{if(r[l]!==void 0)return["bytes32",h==null?"0x0000000000000000000000000000000000000000000000000000000000000000":It.keccak(this.encodeData(l,h,r,n))];if(h===void 0)throw new Error(`missing value for field ${c} of type ${l}`);if(l==="bytes")return["bytes32",It.keccak(h)];if(l==="string")return typeof h=="string"&&(h=Buffer.from(h,"utf8")),["bytes32",It.keccak(h)];if(l.lastIndexOf("]")===l.length-1){const d=l.slice(0,l.lastIndexOf("[")),C=h.map(m=>o(c,d,m));return["bytes32",It.keccak(Qn.rawEncode(C.map(([m])=>m),C.map(([,m])=>m)))]}return[l,h]};for(const c of r[t]){const[l,h]=o(c.name,c.type,e[c.name]);i.push(l),s.push(h)}}else for(const o of r[t]){let c=e[o.name];if(c!==void 0)if(o.type==="bytes")i.push("bytes32"),c=It.keccak(c),s.push(c);else if(o.type==="string")i.push("bytes32"),typeof c=="string"&&(c=Buffer.from(c,"utf8")),c=It.keccak(c),s.push(c);else if(r[o.type]!==void 0)i.push("bytes32"),c=It.keccak(this.encodeData(o.type,c,r,n)),s.push(c);else{if(o.type.lastIndexOf("]")===o.type.length-1)throw new Error("Arrays currently unimplemented in encodeData");i.push(o.type),s.push(c)}}return Qn.rawEncode(i,s)},encodeType(t,e){let r="",n=this.findTypeDependencies(t,e).filter(i=>i!==t);n=[t].concat(n.sort());for(const i of n){if(!e[i])throw new Error("No type definition specified: "+i);r+=i+"("+e[i].map(({name:o,type:c})=>c+" "+o).join(",")+")"}return r},findTypeDependencies(t,e,r=[]){if(t=t.match(/^\w*/)[0],r.includes(t)||e[t]===void 0)return r;r.push(t);for(const n of e[t])for(const i of this.findTypeDependencies(n.type,e,r))!r.includes(i)&&r.push(i);return r},hashStruct(t,e,r,n=!0){return It.keccak(this.encodeData(t,e,r,n))},hashType(t,e){return It.keccak(this.encodeType(t,e))},sanitizeData(t){const e={};for(const r in zf.properties)t[r]&&(e[r]=t[r]);return e.types&&(e.types=Object.assign({EIP712Domain:[]},e.types)),e},hash(t,e=!0){const r=this.sanitizeData(t),n=[Buffer.from("1901","hex")];return n.push(this.hashStruct("EIP712Domain",r.domain,r.types,e)),r.primaryType!=="EIP712Domain"&&n.push(this.hashStruct(r.primaryType,r.message,r.types,e)),It.keccak(Buffer.concat(n))}};var U1={TYPED_MESSAGE_SCHEMA:zf,TypedDataUtils:Io,hashForSignTypedDataLegacy:function(t){return $1(t.data)},hashForSignTypedData_v3:function(t){return Io.hash(t.data,!1)},hashForSignTypedData_v4:function(t){return Io.hash(t.data)}};function $1(t){const e=new Error("Expect argument to be non-empty array");if(typeof t!="object"||!t.length)throw e;const r=t.map(function(s){return s.type==="bytes"?It.toBuffer(s.value):s.value}),n=t.map(function(s){return s.type}),i=t.map(function(s){if(!s.name)throw e;return s.type+" "+s.name});return Qn.soliditySHA3(["bytes32","bytes32"],[Qn.soliditySHA3(new Array(t.length).fill("string"),i),Qn.soliditySHA3(n,r)])}var Sn={};Object.defineProperty(Sn,"__esModule",{value:!0});Sn.filterFromParam=Sn.FilterPolyfill=void 0;const nn=yi,dt=J,W1=5*60*1e3,Ir={jsonrpc:"2.0",id:0};class H1{constructor(e){this.logFilters=new Map,this.blockFilters=new Set,this.pendingTransactionFilters=new Set,this.cursors=new Map,this.timeouts=new Map,this.nextFilterId=(0,nn.IntNumber)(1),this.provider=e}async newFilter(e){const r=Gf(e),n=this.makeFilterId(),i=await this.setInitialCursorPosition(n,r.fromBlock);return console.log(`Installing new log filter(${n}):`,r,"initial cursor position:",i),this.logFilters.set(n,r),this.setFilterTimeout(n),(0,dt.hexStringFromIntNumber)(n)}async newBlockFilter(){const e=this.makeFilterId(),r=await this.setInitialCursorPosition(e,"latest");return console.log(`Installing new block filter (${e}) with initial cursor position:`,r),this.blockFilters.add(e),this.setFilterTimeout(e),(0,dt.hexStringFromIntNumber)(e)}async newPendingTransactionFilter(){const e=this.makeFilterId(),r=await this.setInitialCursorPosition(e,"latest");return console.log(`Installing new block filter (${e}) with initial cursor position:`,r),this.pendingTransactionFilters.add(e),this.setFilterTimeout(e),(0,dt.hexStringFromIntNumber)(e)}uninstallFilter(e){const r=(0,dt.intNumberFromHexString)(e);return console.log(`Uninstalling filter (${r})`),this.deleteFilter(r),!0}getFilterChanges(e){const r=(0,dt.intNumberFromHexString)(e);return this.timeouts.has(r)&&this.setFilterTimeout(r),this.logFilters.has(r)?this.getLogFilterChanges(r):this.blockFilters.has(r)?this.getBlockFilterChanges(r):this.pendingTransactionFilters.has(r)?this.getPendingTransactionFilterChanges(r):Promise.resolve(Di())}async getFilterLogs(e){const r=(0,dt.intNumberFromHexString)(e),n=this.logFilters.get(r);return n?this.sendAsyncPromise(Object.assign(Object.assign({},Ir),{method:"eth_getLogs",params:[pu(n)]})):Di()}makeFilterId(){return(0,nn.IntNumber)(++this.nextFilterId)}sendAsyncPromise(e){return new Promise((r,n)=>{this.provider.sendAsync(e,(i,s)=>{if(i)return n(i);if(Array.isArray(s)||s==null)return n(new Error(`unexpected response received: ${JSON.stringify(s)}`));r(s)})})}deleteFilter(e){console.log(`Deleting filter (${e})`),this.logFilters.delete(e),this.blockFilters.delete(e),this.pendingTransactionFilters.delete(e),this.cursors.delete(e),this.timeouts.delete(e)}async getLogFilterChanges(e){const r=this.logFilters.get(e),n=this.cursors.get(e);if(!n||!r)return Di();const i=await this.getCurrentBlockHeight(),s=r.toBlock==="latest"?i:r.toBlock;if(n>i||n>r.toBlock)return Pi();console.log(`Fetching logs from ${n} to ${s} for filter ${e}`);const o=await this.sendAsyncPromise(Object.assign(Object.assign({},Ir),{method:"eth_getLogs",params:[pu(Object.assign(Object.assign({},r),{fromBlock:n,toBlock:s}))]}));if(Array.isArray(o.result)){const c=o.result.map(h=>(0,dt.intNumberFromHexString)(h.blockNumber||"0x0")),l=Math.max(...c);if(l&&l>n){const h=(0,nn.IntNumber)(l+1);console.log(`Moving cursor position for filter (${e}) from ${n} to ${h}`),this.cursors.set(e,h)}}return o}async getBlockFilterChanges(e){const r=this.cursors.get(e);if(!r)return Di();const n=await this.getCurrentBlockHeight();if(r>n)return Pi();console.log(`Fetching blocks from ${r} to ${n} for filter (${e})`);const i=(await Promise.all((0,dt.range)(r,n+1).map(o=>this.getBlockHashByNumber((0,nn.IntNumber)(o))))).filter(o=>!!o),s=(0,nn.IntNumber)(r+i.length);return console.log(`Moving cursor position for filter (${e}) from ${r} to ${s}`),this.cursors.set(e,s),Object.assign(Object.assign({},Ir),{result:i})}async getPendingTransactionFilterChanges(e){return Promise.resolve(Pi())}async setInitialCursorPosition(e,r){const n=await this.getCurrentBlockHeight(),i=typeof r=="number"&&r>n?r:n;return this.cursors.set(e,i),i}setFilterTimeout(e){const r=this.timeouts.get(e);r&&window.clearTimeout(r);const n=window.setTimeout(()=>{console.log(`Filter (${e}) timed out`),this.deleteFilter(e)},W1);this.timeouts.set(e,n)}async getCurrentBlockHeight(){const{result:e}=await this.sendAsyncPromise(Object.assign(Object.assign({},Ir),{method:"eth_blockNumber",params:[]}));return(0,dt.intNumberFromHexString)((0,dt.ensureHexString)(e))}async getBlockHashByNumber(e){const r=await this.sendAsyncPromise(Object.assign(Object.assign({},Ir),{method:"eth_getBlockByNumber",params:[(0,dt.hexStringFromIntNumber)(e),!1]}));return r.result&&typeof r.result.hash=="string"?(0,dt.ensureHexString)(r.result.hash):null}}Sn.FilterPolyfill=H1;function Gf(t){return{fromBlock:_u(t.fromBlock),toBlock:_u(t.toBlock),addresses:t.address===void 0?null:Array.isArray(t.address)?t.address:[t.address],topics:t.topics||[]}}Sn.filterFromParam=Gf;function pu(t){const e={fromBlock:gu(t.fromBlock),toBlock:gu(t.toBlock),topics:t.topics};return t.addresses!==null&&(e.address=t.addresses),e}function _u(t){if(t===void 0||t==="latest"||t==="pending")return"latest";if(t==="earliest")return(0,nn.IntNumber)(0);if((0,dt.isHexString)(t))return(0,dt.intNumberFromHexString)(t);throw new Error(`Invalid block option: ${String(t)}`)}function gu(t){return t==="latest"?t:(0,dt.hexStringFromIntNumber)(t)}function Di(){return Object.assign(Object.assign({},Ir),{error:{code:-32e3,message:"filter not found"}})}function Pi(){return Object.assign(Object.assign({},Ir),{result:[]})}var Zf={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.JSONRPCMethod=void 0,function(e){e.eth_accounts="eth_accounts",e.eth_coinbase="eth_coinbase",e.net_version="net_version",e.eth_chainId="eth_chainId",e.eth_uninstallFilter="eth_uninstallFilter",e.eth_requestAccounts="eth_requestAccounts",e.eth_sign="eth_sign",e.eth_ecRecover="eth_ecRecover",e.personal_sign="personal_sign",e.personal_ecRecover="personal_ecRecover",e.eth_signTransaction="eth_signTransaction",e.eth_sendRawTransaction="eth_sendRawTransaction",e.eth_sendTransaction="eth_sendTransaction",e.eth_signTypedData_v1="eth_signTypedData_v1",e.eth_signTypedData_v2="eth_signTypedData_v2",e.eth_signTypedData_v3="eth_signTypedData_v3",e.eth_signTypedData_v4="eth_signTypedData_v4",e.eth_signTypedData="eth_signTypedData",e.cbWallet_arbitrary="walletlink_arbitrary",e.wallet_addEthereumChain="wallet_addEthereumChain",e.wallet_switchEthereumChain="wallet_switchEthereumChain",e.wallet_watchAsset="wallet_watchAsset",e.eth_subscribe="eth_subscribe",e.eth_unsubscribe="eth_unsubscribe",e.eth_newFilter="eth_newFilter",e.eth_newBlockFilter="eth_newBlockFilter",e.eth_newPendingTransactionFilter="eth_newPendingTransactionFilter",e.eth_getFilterChanges="eth_getFilterChanges",e.eth_getFilterLogs="eth_getFilterLogs"}(t.JSONRPCMethod||(t.JSONRPCMethod={}))})(Zf);var Is={};const bu=(t,e)=>function(){const r=e.promiseModule,n=new Array(arguments.length);for(let i=0;i<arguments.length;i++)n[i]=arguments[i];return new r((i,s)=>{e.errorFirst?n.push(function(o,c){if(e.multiArgs){const l=new Array(arguments.length-1);for(let h=1;h<arguments.length;h++)l[h-1]=arguments[h];o?(l.unshift(o),s(l)):i(l)}else o?s(o):i(c)}):n.push(function(o){if(e.multiArgs){const c=new Array(arguments.length-1);for(let l=0;l<arguments.length;l++)c[l]=arguments[l];i(c)}else i(o)}),t.apply(this,n)})};var V1=(t,e)=>{e=Object.assign({exclude:[/.+(Sync|Stream)$/],errorFirst:!0,promiseModule:Promise},e);const r=i=>{const s=o=>typeof o=="string"?i===o:o.test(i);return e.include?e.include.some(s):!e.exclude.some(s)};let n;typeof t=="function"?n=function(){return e.excludeMain?t.apply(this,arguments):bu(t,e).apply(this,arguments)}:n=Object.create(Object.getPrototypeOf(t));for(const i in t){const s=t[i];n[i]=typeof s=="function"&&r(i)?bu(s,e):s}return n},q1=G1,z1=Object.prototype.hasOwnProperty;function G1(){for(var t={},e=0;e<arguments.length;e++){var r=arguments[e];for(var n in r)z1.call(r,n)&&(t[n]=r[n])}return t}var Z1=K1;function K1(t){t=t||{};var e=t.max||Number.MAX_SAFE_INTEGER,r=typeof t.start<"u"?t.start:Math.floor(Math.random()*e);return function(){return r=r%e,r++}}const Q1=q1,Y1=Z1();var J1=ie;function ie(t){const e=this;e.currentProvider=t}ie.prototype.getBalance=Ei(2,"eth_getBalance");ie.prototype.getCode=Ei(2,"eth_getCode");ie.prototype.getTransactionCount=Ei(2,"eth_getTransactionCount");ie.prototype.getStorageAt=Ei(3,"eth_getStorageAt");ie.prototype.call=Ei(2,"eth_call");ie.prototype.protocolVersion=ue("eth_protocolVersion");ie.prototype.syncing=ue("eth_syncing");ie.prototype.coinbase=ue("eth_coinbase");ie.prototype.mining=ue("eth_mining");ie.prototype.hashrate=ue("eth_hashrate");ie.prototype.gasPrice=ue("eth_gasPrice");ie.prototype.accounts=ue("eth_accounts");ie.prototype.blockNumber=ue("eth_blockNumber");ie.prototype.getBlockTransactionCountByHash=ue("eth_getBlockTransactionCountByHash");ie.prototype.getBlockTransactionCountByNumber=ue("eth_getBlockTransactionCountByNumber");ie.prototype.getUncleCountByBlockHash=ue("eth_getUncleCountByBlockHash");ie.prototype.getUncleCountByBlockNumber=ue("eth_getUncleCountByBlockNumber");ie.prototype.sign=ue("eth_sign");ie.prototype.sendTransaction=ue("eth_sendTransaction");ie.prototype.sendRawTransaction=ue("eth_sendRawTransaction");ie.prototype.estimateGas=ue("eth_estimateGas");ie.prototype.getBlockByHash=ue("eth_getBlockByHash");ie.prototype.getBlockByNumber=ue("eth_getBlockByNumber");ie.prototype.getTransactionByHash=ue("eth_getTransactionByHash");ie.prototype.getTransactionByBlockHashAndIndex=ue("eth_getTransactionByBlockHashAndIndex");ie.prototype.getTransactionByBlockNumberAndIndex=ue("eth_getTransactionByBlockNumberAndIndex");ie.prototype.getTransactionReceipt=ue("eth_getTransactionReceipt");ie.prototype.getUncleByBlockHashAndIndex=ue("eth_getUncleByBlockHashAndIndex");ie.prototype.getUncleByBlockNumberAndIndex=ue("eth_getUncleByBlockNumberAndIndex");ie.prototype.getCompilers=ue("eth_getCompilers");ie.prototype.compileLLL=ue("eth_compileLLL");ie.prototype.compileSolidity=ue("eth_compileSolidity");ie.prototype.compileSerpent=ue("eth_compileSerpent");ie.prototype.newFilter=ue("eth_newFilter");ie.prototype.newBlockFilter=ue("eth_newBlockFilter");ie.prototype.newPendingTransactionFilter=ue("eth_newPendingTransactionFilter");ie.prototype.uninstallFilter=ue("eth_uninstallFilter");ie.prototype.getFilterChanges=ue("eth_getFilterChanges");ie.prototype.getFilterLogs=ue("eth_getFilterLogs");ie.prototype.getLogs=ue("eth_getLogs");ie.prototype.getWork=ue("eth_getWork");ie.prototype.submitWork=ue("eth_submitWork");ie.prototype.submitHashrate=ue("eth_submitHashrate");ie.prototype.sendAsync=function(t,e){this.currentProvider.sendAsync(X1(t),function(n,i){if(!n&&i.error&&(n=new Error("EthQuery - RPC Error - "+i.error.message)),n)return e(n);e(null,i.result)})};function ue(t){return function(){const e=this;var r=[].slice.call(arguments),n=r.pop();e.sendAsync({method:t,params:r},n)}}function Ei(t,e){return function(){const r=this;var n=[].slice.call(arguments),i=n.pop();n.length<t&&n.push("latest"),r.sendAsync({method:e,params:n},i)}}function X1(t){return Q1({id:Y1(),jsonrpc:"2.0",params:[]},t)}var Kf={},Qf={},ew=tf,Ts=function(){return ew()&&!!Symbol.toStringTag},tw=Ts(),rw=xs,pa=rw("Object.prototype.toString"),Os=function(e){return tw&&e&&typeof e=="object"&&Symbol.toStringTag in e?!1:pa(e)==="[object Arguments]"},Yf=function(e){return Os(e)?!0:e!==null&&typeof e=="object"&&typeof e.length=="number"&&e.length>=0&&pa(e)!=="[object Array]"&&pa(e.callee)==="[object Function]"},nw=function(){return Os(arguments)}();Os.isLegacyArguments=Yf;var iw=nw?Os:Yf,sw=Object.prototype.toString,ow=Function.prototype.toString,aw=/^\s*(?:function)?\*/,Jf=Ts(),To=Object.getPrototypeOf,cw=function(){if(!Jf)return!1;try{return Function("return function*() {}")()}catch{}},Oo,uw=function(e){if(typeof e!="function")return!1;if(aw.test(ow.call(e)))return!0;if(!Jf){var r=sw.call(e);return r==="[object GeneratorFunction]"}if(!To)return!1;if(typeof Oo>"u"){var n=cw();Oo=n?To(n):!1}return To(e)===Oo},Xf=Function.prototype.toString,on=typeof Reflect=="object"&&Reflect!==null&&Reflect.apply,_a,Hi;if(typeof on=="function"&&typeof Object.defineProperty=="function")try{_a=Object.defineProperty({},"length",{get:function(){throw Hi}}),Hi={},on(function(){throw 42},null,_a)}catch(t){t!==Hi&&(on=null)}else on=null;var lw=/^\s*class\b/,ga=function(e){try{var r=Xf.call(e);return lw.test(r)}catch{return!1}},fw=function(e){try{return ga(e)?!1:(Xf.call(e),!0)}catch{return!1}},hw=Object.prototype.toString,dw="[object Function]",pw="[object GeneratorFunction]",_w=typeof Symbol=="function"&&!!Symbol.toStringTag,vu=typeof document=="object"&&typeof document.all>"u"&&document.all!==void 0?document.all:{},gw=on?function(e){if(e===vu)return!0;if(!e||typeof e!="function"&&typeof e!="object")return!1;if(typeof e=="function"&&!e.prototype)return!0;try{on(e,null,_a)}catch(r){if(r!==Hi)return!1}return!ga(e)}:function(e){if(e===vu)return!0;if(!e||typeof e!="function"&&typeof e!="object")return!1;if(typeof e=="function"&&!e.prototype)return!0;if(_w)return fw(e);if(ga(e))return!1;var r=hw.call(e);return r===dw||r===pw},bw=gw,vw=Object.prototype.toString,eh=Object.prototype.hasOwnProperty,mw=function(e,r,n){for(var i=0,s=e.length;i<s;i++)eh.call(e,i)&&(n==null?r(e[i],i,e):r.call(n,e[i],i,e))},yw=function(e,r,n){for(var i=0,s=e.length;i<s;i++)n==null?r(e.charAt(i),i,e):r.call(n,e.charAt(i),i,e)},ww=function(e,r,n){for(var i in e)eh.call(e,i)&&(n==null?r(e[i],i,e):r.call(n,e[i],i,e))},Sw=function(e,r,n){if(!bw(r))throw new TypeError("iterator must be a function");var i;arguments.length>=3&&(i=n),vw.call(e)==="[object Array]"?mw(e,r,i):typeof e=="string"?yw(e,r,i):ww(e,r,i)},th=Sw,No=["BigInt64Array","BigUint64Array","Float32Array","Float64Array","Int16Array","Int32Array","Int8Array","Uint16Array","Uint32Array","Uint8Array","Uint8ClampedArray"],Ew=typeof globalThis>"u"?oe:globalThis,rh=function(){for(var e=[],r=0;r<No.length;r++)typeof Ew[No[r]]=="function"&&(e[e.length]=No[r]);return e},Do,mu;function nh(){if(mu)return Do;mu=1;var t=ks,e=t("%Object.getOwnPropertyDescriptor%",!0);if(e)try{e([],"length")}catch{e=null}return Do=e,Do}var ih=th,kw=rh,Ha=xs,xw=Ha("Object.prototype.toString"),sh=Ts(),Mw=typeof globalThis>"u"?oe:globalThis,oh=kw(),Cw=Ha("Array.prototype.indexOf",!0)||function(e,r){for(var n=0;n<e.length;n+=1)if(e[n]===r)return n;return-1},Aw=Ha("String.prototype.slice"),ah={},Vi=nh(),Po=Object.getPrototypeOf;sh&&Vi&&Po&&ih(oh,function(t){var e=new Mw[t];if(Symbol.toStringTag in e){var r=Po(e),n=Vi(r,Symbol.toStringTag);if(!n){var i=Po(r);n=Vi(i,Symbol.toStringTag)}ah[t]=n.get}});var Rw=function(e){var r=!1;return ih(ah,function(n,i){if(!r)try{r=n.call(e)===i}catch{}}),r},ch=function(e){if(!e||typeof e!="object")return!1;if(!sh||!(Symbol.toStringTag in e)){var r=Aw(xw(e),8,-1);return Cw(oh,r)>-1}return Vi?Rw(e):!1},uh=th,Iw=rh,lh=xs,Tw=lh("Object.prototype.toString"),fh=Ts(),yu=typeof globalThis>"u"?oe:globalThis,Ow=Iw(),Nw=lh("String.prototype.slice"),hh={},Lo=nh(),jo=Object.getPrototypeOf;fh&&Lo&&jo&&uh(Ow,function(t){if(typeof yu[t]=="function"){var e=new yu[t];if(Symbol.toStringTag in e){var r=jo(e),n=Lo(r,Symbol.toStringTag);if(!n){var i=jo(r);n=Lo(i,Symbol.toStringTag)}hh[t]=n.get}}});var Dw=function(e){var r=!1;return uh(hh,function(n,i){if(!r)try{var s=n.call(e);s===i&&(r=s)}catch{}}),r},Pw=ch,Lw=function(e){return Pw(e)?!fh||!(Symbol.toStringTag in e)?Nw(Tw(e),8,-1):Dw(e):!1};(function(t){var e=iw,r=uw,n=Lw,i=ch;function s(B){return B.call.bind(B)}var o=typeof BigInt<"u",c=typeof Symbol<"u",l=s(Object.prototype.toString),h=s(Number.prototype.valueOf),d=s(String.prototype.valueOf),C=s(Boolean.prototype.valueOf);if(o)var m=s(BigInt.prototype.valueOf);if(c)var x=s(Symbol.prototype.valueOf);function A(B,be){if(typeof B!="object")return!1;try{return be(B),!0}catch{return!1}}t.isArgumentsObject=e,t.isGeneratorFunction=r,t.isTypedArray=i;function P(B){return typeof Promise<"u"&&B instanceof Promise||B!==null&&typeof B=="object"&&typeof B.then=="function"&&typeof B.catch=="function"}t.isPromise=P;function L(B){return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?ArrayBuffer.isView(B):i(B)||g(B)}t.isArrayBufferView=L;function E(B){return n(B)==="Uint8Array"}t.isUint8Array=E;function I(B){return n(B)==="Uint8ClampedArray"}t.isUint8ClampedArray=I;function O(B){return n(B)==="Uint16Array"}t.isUint16Array=O;function U(B){return n(B)==="Uint32Array"}t.isUint32Array=U;function V(B){return n(B)==="Int8Array"}t.isInt8Array=V;function q(B){return n(B)==="Int16Array"}t.isInt16Array=q;function Z(B){return n(B)==="Int32Array"}t.isInt32Array=Z;function Y(B){return n(B)==="Float32Array"}t.isFloat32Array=Y;function z(B){return n(B)==="Float64Array"}t.isFloat64Array=z;function K(B){return n(B)==="BigInt64Array"}t.isBigInt64Array=K;function Q(B){return n(B)==="BigUint64Array"}t.isBigUint64Array=Q;function X(B){return l(B)==="[object Map]"}X.working=typeof Map<"u"&&X(new Map);function _(B){return typeof Map>"u"?!1:X.working?X(B):B instanceof Map}t.isMap=_;function a(B){return l(B)==="[object Set]"}a.working=typeof Set<"u"&&a(new Set);function f(B){return typeof Set>"u"?!1:a.working?a(B):B instanceof Set}t.isSet=f;function p(B){return l(B)==="[object WeakMap]"}p.working=typeof WeakMap<"u"&&p(new WeakMap);function b(B){return typeof WeakMap>"u"?!1:p.working?p(B):B instanceof WeakMap}t.isWeakMap=b;function v(B){return l(B)==="[object WeakSet]"}v.working=typeof WeakSet<"u"&&v(new WeakSet);function k(B){return v(B)}t.isWeakSet=k;function T(B){return l(B)==="[object ArrayBuffer]"}T.working=typeof ArrayBuffer<"u"&&T(new ArrayBuffer);function S(B){return typeof ArrayBuffer>"u"?!1:T.working?T(B):B instanceof ArrayBuffer}t.isArrayBuffer=S;function u(B){return l(B)==="[object DataView]"}u.working=typeof ArrayBuffer<"u"&&typeof DataView<"u"&&u(new DataView(new ArrayBuffer(1),0,1));function g(B){return typeof DataView>"u"?!1:u.working?u(B):B instanceof DataView}t.isDataView=g;var D=typeof SharedArrayBuffer<"u"?SharedArrayBuffer:void 0;function j(B){return l(B)==="[object SharedArrayBuffer]"}function M(B){return typeof D>"u"?!1:(typeof j.working>"u"&&(j.working=j(new D)),j.working?j(B):B instanceof D)}t.isSharedArrayBuffer=M;function R(B){return l(B)==="[object AsyncFunction]"}t.isAsyncFunction=R;function N(B){return l(B)==="[object Map Iterator]"}t.isMapIterator=N;function F(B){return l(B)==="[object Set Iterator]"}t.isSetIterator=F;function G(B){return l(B)==="[object Generator]"}t.isGeneratorObject=G;function y(B){return l(B)==="[object WebAssembly.Module]"}t.isWebAssemblyCompiledModule=y;function w(B){return A(B,h)}t.isNumberObject=w;function $(B){return A(B,d)}t.isStringObject=$;function H(B){return A(B,C)}t.isBooleanObject=H;function re(B){return o&&A(B,m)}t.isBigIntObject=re;function ne(B){return c&&A(B,x)}t.isSymbolObject=ne;function te(B){return w(B)||$(B)||H(B)||re(B)||ne(B)}t.isBoxedPrimitive=te;function de(B){return typeof Uint8Array<"u"&&(S(B)||M(B))}t.isAnyArrayBuffer=de,["isProxy","isExternal","isModuleNamespaceObject"].forEach(function(B){Object.defineProperty(t,B,{enumerable:!1,value:function(){throw new Error(B+" is not supported in userland")}})})})(Qf);var jw=function(e){return e&&typeof e=="object"&&typeof e.copy=="function"&&typeof e.fill=="function"&&typeof e.readUInt8=="function"};(function(t){var e=Object.getOwnPropertyDescriptors||function(g){for(var D=Object.keys(g),j={},M=0;M<D.length;M++)j[D[M]]=Object.getOwnPropertyDescriptor(g,D[M]);return j},r=/%[sdj%]/g;t.format=function(u){if(!V(u)){for(var g=[],D=0;D<arguments.length;D++)g.push(o(arguments[D]));return g.join(" ")}for(var D=1,j=arguments,M=j.length,R=String(u).replace(r,function(F){if(F==="%%")return"%";if(D>=M)return F;switch(F){case"%s":return String(j[D++]);case"%d":return Number(j[D++]);case"%j":try{return JSON.stringify(j[D++])}catch{return"[Circular]"}default:return F}}),N=j[D];D<M;N=j[++D])I(N)||!z(N)?R+=" "+N:R+=" "+o(N);return R},t.deprecate=function(u,g){if(typeof process<"u"&&process.noDeprecation===!0)return u;if(typeof process>"u")return function(){return t.deprecate(u,g).apply(this,arguments)};var D=!1;function j(){if(!D){if(process.throwDeprecation)throw new Error(g);process.traceDeprecation?console.trace(g):console.error(g),D=!0}return u.apply(this,arguments)}return j};var n={},i=/^$/;if({NVM_INC:"/Users/kuteteoku/.nvm/versions/node/v16.0.0/include/node",npm_package_dependencies_web3_react:"^5.0.5",npm_package_dependencies__reduxjs_toolkit:"^1.8.5",npm_package_devDependencies_prettier:"^2.7.1",npm_package_dependencies_use_deep_compare_effect:"^1.8.1",npm_package_dependencies__types_multicodec:"^2.1.0",npm_package_dependencies__types_qs:"^6.9.7",TERM_PROGRAM:"vscode",npm_package_dependencies_toformat:"^2.0.0",NODE:"/Users/kuteteoku/.nvm/versions/node/v16.0.0/bin/node",npm_package_dependencies_process:"^0.11.10",INIT_CWD:"/Users/kuteteoku/Desktop/farmer-finance/interface",NVM_CD_FLAGS:"-q",npm_package_devDependencies_typescript:"^4.6.4",npm_package_dependencies_react_hook_form:"^7.34.2",npm_package_dependencies_polished:"^4.2.2",npm_package_dependencies_big_js:"^6.2.1",npm_package_dependencies_axios:"^0.27.2",npm_package_dependencies__web3_react_core:"^6.1.9",npm_package_dependencies__esbuild_plugins_node_globals_polyfill:"^0.1.1",npm_config_version_git_tag:"true",SHELL:"/bin/zsh",TERM:"xterm-256color",npm_package_devDependencies_vite:"^3.0.7",npm_package_dependencies__sentry_tracing:"^7.14.1",TMPDIR:"/var/folders/qr/mymsv4rs7j91ntm88vcvdxjw0000gn/T/",npm_package_dependencies__types_chart_js:"^2.9.37",npm_config_init_license:"MIT",TERM_PROGRAM_VERSION:"1.73.0",npm_package_devDependencies__vitejs_plugin_react:"^2.0.1",npm_package_dependencies_jsbi:"^4.3.0",npm_package_scripts_dev:"vite --host",MallocNanoZone:"0",ORIGINAL_XDG_CURRENT_DESKTOP:"undefined",ZDOTDIR:"/Users/kuteteoku",npm_package_dependencies__types_mocha:"^9.1.1",npm_package_dependencies_react_fast_marquee:"^1.3.5",npm_package_private:"true",npm_config_registry:"https://registry.yarnpkg.com",ZSH:"/Users/kuteteoku/.oh-my-zsh",npm_package_dependencies_react_dom:"^18.2.0",USER:"kuteteoku",NVM_DIR:"/Users/kuteteoku/.nvm",npm_package_devDependencies_vite_plugin_mkcert:"^1.10.1",npm_package_devDependencies__types_react:"^18.0.17",npm_package_devDependencies__types_papaparse:"^5.3.5",COMMAND_MODE:"unix2003",npm_package_dependencies__esbuild_plugins_node_modules_polyfill:"^0.1.4",npm_package_dependencies_decimal_js_light:"^2.5.1",npm_package_dependencies__uniswap_liquidity_staker:"^1.0.2",SSH_AUTH_SOCK:"/private/tmp/com.apple.launchd.8ry85lkHZ3/Listeners",npm_package_dependencies_lodash:"^4.17.21",npm_package_dependencies__uniswap_merkle_distributor:"^1.0.1",__CF_USER_TEXT_ENCODING:"0x1F5:0x0:0x0",npm_package_devDependencies_postcss:"^8.4.16",npm_package_devDependencies_babel_plugin_styled_components:"^2.0.7",npm_package_dependencies_styled_components:"^5.3.5",npm_package_dependencies_buffer:"^6.0.3",npm_execpath:"/usr/local/lib/node_modules/yarn/bin/yarn.js",PAGER:"less",npm_package_dependencies_util:"^0.12.4",npm_package_dependencies_react_redux:"^8.0.2",npm_package_dependencies__binance_chain_bsc_connector:"^1.0.0",npm_package_dependencies_vite_tsconfig_paths:"^3.5.0",npm_package_dependencies_ramda:"^0.28.0",npm_package_dependencies__types_big_js:"^6.1.5",LSCOLORS:"Gxfxcxdxbxegedabagacad",npm_package_devDependencies__types_react_dom:"^18.0.6",npm_package_dependencies__uniswap_v2_core:"^1.0.1",PATH:"/var/folders/qr/mymsv4rs7j91ntm88vcvdxjw0000gn/T/yarn--1670812430631-0.7351908168490706:/Users/kuteteoku/Desktop/farmer-finance/interface/node_modules/.bin:/Users/kuteteoku/.config/yarn/link/node_modules/.bin:/Users/kuteteoku/.yarn/bin:/Users/kuteteoku/.nvm/versions/node/v16.0.0/libexec/lib/node_modules/npm/bin/node-gyp-bin:/Users/kuteteoku/.nvm/versions/node/v16.0.0/lib/node_modules/npm/bin/node-gyp-bin:/Users/kuteteoku/.nvm/versions/node/v16.0.0/bin/node_modules/npm/bin/node-gyp-bin:/Users/kuteteoku/.nvm/versions/node/v16.0.0/bin:/opt/homebrew/opt/postgresql@11/bin:/usr/local/bin:/usr/bin:/bin:/usr/sbin:/sbin:/Users/kuteteoku/development/flutter/bin:/opt/homebrew/bin/:/opt/homebrew/opt/postgresql@9.6/bin:/usr/local/share/dotnet:~/.dotnet/tools:/Library/Apple/usr/bin:/Users/kuteteoku/.nvm/versions/node/v16.0.0/bin:/opt/homebrew/opt/postgresql@11/bin:/Users/kuteteoku/.cargo/bin",npm_config_argv:'{"remain":[],"cooked":["run","build"],"original":["build"]}',npm_package_dependencies_add:"^2.0.6",npm_package_dependencies__uniswap_governance:"^1.0.2",_:"/Users/kuteteoku/Desktop/farmer-finance/interface/node_modules/.bin/vite",npm_package_dependencies__uniswap_v2_periphery:"^1.1.0-beta.0",__CFBundleIdentifier:"com.microsoft.VSCode",USER_ZDOTDIR:"/Users/kuteteoku",npm_package_dependencies_bignumber_js:"^9.1.0",npm_package_dependencies__types_jest:"^29.0.0",PWD:"/Users/kuteteoku/Desktop/farmer-finance/interface",npm_package_devDependencies_tailwindcss:"^3.1.8",npm_package_dependencies_react_countdown:"^2.3.2",npm_package_scripts_preview:"vite preview",npm_lifecycle_event:"build",npm_package_dependencies_react_loading:"^2.0.3",LANG:"en_US.UTF-8",npm_package_name:"sale-fe",npm_package_devDependencies__types_ramda:"^0.28.15",npm_package_scripts_build:"vite build",npm_config_version_commit_hooks:"true",XPC_FLAGS:"0x0",VSCODE_GIT_ASKPASS_EXTRA_ARGS:"--ms-enable-electron-run-as-node",npm_package_dependencies_react_router_dom:"6",npm_package_dependencies__web3_react_fortmatic_connector:"^6.1.6",npm_package_dependencies__web3_react_injected_connector:"^6.0.7",npm_config_bin_links:"true",npm_package_dependencies_react_feather:"^2.0.10",XPC_SERVICE_NAME:"0",npm_package_dependencies_react_device_detect:"^2.2.2",npm_package_dependencies_chart_js:"^2.9.4",npm_package_version:"0.0.0",VSCODE_INJECTION:"1",npm_package_devDependencies_autoprefixer:"^10.4.8",npm_package_dependencies_axios_hooks:"^3.1.5",HOME:"/Users/kuteteoku",SHLVL:"2",npm_package_type:"module",VSCODE_GIT_ASKPASS_MAIN:"/Users/kuteteoku/Documents/Visual Studio Code.app/Contents/Resources/app/extensions/git/dist/askpass-main.js",npm_package_dependencies_papaparse:"^5.3.2",npm_package_dependencies_events:"^3.3.0",npm_package_dependencies_animate_css:"^4.1.1",npm_package_dependencies_yarn:"^1.22.19",npm_package_dependencies_rebass:"^4.0.7",npm_package_dependencies__web3_react_walletlink_connector:"^6.2.14",npm_config_save_prefix:"^",npm_config_strict_ssl:"true",npm_config_version_git_message:"v%s",npm_package_dependencies_redux_localstorage_simple:"^2.5.1",LOGNAME:"kuteteoku",LESS:"-R",YARN_WRAP_OUTPUT:"false",npm_package_dependencies__uniswap_token_lists:"^1.0.0-beta.30",npm_lifecycle_script:"vite build",npm_package_dependencies_react_transition_group:"^4.4.5",VSCODE_GIT_IPC_HANDLE:"/var/folders/qr/mymsv4rs7j91ntm88vcvdxjw0000gn/T/vscode-git-ab523388bf.sock",npm_package_dependencies_react:"^18.2.0",npm_package_dependencies_ethers:"^5.7.0",NVM_BIN:"/Users/kuteteoku/.nvm/versions/node/v16.0.0/bin",npm_package_dependencies__types_rebass:"^4.0.10",npm_config_version_git_sign:"",npm_config_ignore_scripts:"",npm_config_user_agent:"yarn/1.22.11 npm/? node/v16.0.0 darwin arm64",GIT_ASKPASS:"/Users/kuteteoku/Documents/Visual Studio Code.app/Contents/Resources/app/extensions/git/dist/askpass.sh",VSCODE_GIT_ASKPASS_NODE:"/Users/kuteteoku/Documents/Visual Studio Code.app/Contents/Frameworks/Code Helper.app/Contents/MacOS/Code Helper",npm_package_dependencies_react_chartjs_2:"^2.11.2",npm_package_dependencies__web3_react_portis_connector:"^6.2.11",npm_package_dependencies__types_lodash:"^4.14.184",npm_package_dependencies__types_styled_components:"^5.1.26",npm_package_dependencies__types_react_transition_group:"^4.4.5",npm_package_dependencies_antd:"^4.22.7",npm_config_init_version:"1.0.0",npm_config_ignore_optional:"",npm_package_dependencies__sentry_react:"^7.14.1",COLORTERM:"truecolor",npm_node_execpath:"/Users/kuteteoku/.nvm/versions/node/v16.0.0/bin/node",npm_package_dependencies__web3_react_walletconnect_connector:"^6.2.13",npm_config_version_tag_prefix:"v",NODE_ENV:"production"}.NODE_DEBUG){var s={NVM_INC:"/Users/kuteteoku/.nvm/versions/node/v16.0.0/include/node",npm_package_dependencies_web3_react:"^5.0.5",npm_package_dependencies__reduxjs_toolkit:"^1.8.5",npm_package_devDependencies_prettier:"^2.7.1",npm_package_dependencies_use_deep_compare_effect:"^1.8.1",npm_package_dependencies__types_multicodec:"^2.1.0",npm_package_dependencies__types_qs:"^6.9.7",TERM_PROGRAM:"vscode",npm_package_dependencies_toformat:"^2.0.0",NODE:"/Users/kuteteoku/.nvm/versions/node/v16.0.0/bin/node",npm_package_dependencies_process:"^0.11.10",INIT_CWD:"/Users/kuteteoku/Desktop/farmer-finance/interface",NVM_CD_FLAGS:"-q",npm_package_devDependencies_typescript:"^4.6.4",npm_package_dependencies_react_hook_form:"^7.34.2",npm_package_dependencies_polished:"^4.2.2",npm_package_dependencies_big_js:"^6.2.1",npm_package_dependencies_axios:"^0.27.2",npm_package_dependencies__web3_react_core:"^6.1.9",npm_package_dependencies__esbuild_plugins_node_globals_polyfill:"^0.1.1",npm_config_version_git_tag:"true",SHELL:"/bin/zsh",TERM:"xterm-256color",npm_package_devDependencies_vite:"^3.0.7",npm_package_dependencies__sentry_tracing:"^7.14.1",TMPDIR:"/var/folders/qr/mymsv4rs7j91ntm88vcvdxjw0000gn/T/",npm_package_dependencies__types_chart_js:"^2.9.37",npm_config_init_license:"MIT",TERM_PROGRAM_VERSION:"1.73.0",npm_package_devDependencies__vitejs_plugin_react:"^2.0.1",npm_package_dependencies_jsbi:"^4.3.0",npm_package_scripts_dev:"vite --host",MallocNanoZone:"0",ORIGINAL_XDG_CURRENT_DESKTOP:"undefined",ZDOTDIR:"/Users/kuteteoku",npm_package_dependencies__types_mocha:"^9.1.1",npm_package_dependencies_react_fast_marquee:"^1.3.5",npm_package_private:"true",npm_config_registry:"https://registry.yarnpkg.com",ZSH:"/Users/kuteteoku/.oh-my-zsh",npm_package_dependencies_react_dom:"^18.2.0",USER:"kuteteoku",NVM_DIR:"/Users/kuteteoku/.nvm",npm_package_devDependencies_vite_plugin_mkcert:"^1.10.1",npm_package_devDependencies__types_react:"^18.0.17",npm_package_devDependencies__types_papaparse:"^5.3.5",COMMAND_MODE:"unix2003",npm_package_dependencies__esbuild_plugins_node_modules_polyfill:"^0.1.4",npm_package_dependencies_decimal_js_light:"^2.5.1",npm_package_dependencies__uniswap_liquidity_staker:"^1.0.2",SSH_AUTH_SOCK:"/private/tmp/com.apple.launchd.8ry85lkHZ3/Listeners",npm_package_dependencies_lodash:"^4.17.21",npm_package_dependencies__uniswap_merkle_distributor:"^1.0.1",__CF_USER_TEXT_ENCODING:"0x1F5:0x0:0x0",npm_package_devDependencies_postcss:"^8.4.16",npm_package_devDependencies_babel_plugin_styled_components:"^2.0.7",npm_package_dependencies_styled_components:"^5.3.5",npm_package_dependencies_buffer:"^6.0.3",npm_execpath:"/usr/local/lib/node_modules/yarn/bin/yarn.js",PAGER:"less",npm_package_dependencies_util:"^0.12.4",npm_package_dependencies_react_redux:"^8.0.2",npm_package_dependencies__binance_chain_bsc_connector:"^1.0.0",npm_package_dependencies_vite_tsconfig_paths:"^3.5.0",npm_package_dependencies_ramda:"^0.28.0",npm_package_dependencies__types_big_js:"^6.1.5",LSCOLORS:"Gxfxcxdxbxegedabagacad",npm_package_devDependencies__types_react_dom:"^18.0.6",npm_package_dependencies__uniswap_v2_core:"^1.0.1",PATH:"/var/folders/qr/mymsv4rs7j91ntm88vcvdxjw0000gn/T/yarn--1670812430631-0.7351908168490706:/Users/kuteteoku/Desktop/farmer-finance/interface/node_modules/.bin:/Users/kuteteoku/.config/yarn/link/node_modules/.bin:/Users/kuteteoku/.yarn/bin:/Users/kuteteoku/.nvm/versions/node/v16.0.0/libexec/lib/node_modules/npm/bin/node-gyp-bin:/Users/kuteteoku/.nvm/versions/node/v16.0.0/lib/node_modules/npm/bin/node-gyp-bin:/Users/kuteteoku/.nvm/versions/node/v16.0.0/bin/node_modules/npm/bin/node-gyp-bin:/Users/kuteteoku/.nvm/versions/node/v16.0.0/bin:/opt/homebrew/opt/postgresql@11/bin:/usr/local/bin:/usr/bin:/bin:/usr/sbin:/sbin:/Users/kuteteoku/development/flutter/bin:/opt/homebrew/bin/:/opt/homebrew/opt/postgresql@9.6/bin:/usr/local/share/dotnet:~/.dotnet/tools:/Library/Apple/usr/bin:/Users/kuteteoku/.nvm/versions/node/v16.0.0/bin:/opt/homebrew/opt/postgresql@11/bin:/Users/kuteteoku/.cargo/bin",npm_config_argv:'{"remain":[],"cooked":["run","build"],"original":["build"]}',npm_package_dependencies_add:"^2.0.6",npm_package_dependencies__uniswap_governance:"^1.0.2",_:"/Users/kuteteoku/Desktop/farmer-finance/interface/node_modules/.bin/vite",npm_package_dependencies__uniswap_v2_periphery:"^1.1.0-beta.0",__CFBundleIdentifier:"com.microsoft.VSCode",USER_ZDOTDIR:"/Users/kuteteoku",npm_package_dependencies_bignumber_js:"^9.1.0",npm_package_dependencies__types_jest:"^29.0.0",PWD:"/Users/kuteteoku/Desktop/farmer-finance/interface",npm_package_devDependencies_tailwindcss:"^3.1.8",npm_package_dependencies_react_countdown:"^2.3.2",npm_package_scripts_preview:"vite preview",npm_lifecycle_event:"build",npm_package_dependencies_react_loading:"^2.0.3",LANG:"en_US.UTF-8",npm_package_name:"sale-fe",npm_package_devDependencies__types_ramda:"^0.28.15",npm_package_scripts_build:"vite build",npm_config_version_commit_hooks:"true",XPC_FLAGS:"0x0",VSCODE_GIT_ASKPASS_EXTRA_ARGS:"--ms-enable-electron-run-as-node",npm_package_dependencies_react_router_dom:"6",npm_package_dependencies__web3_react_fortmatic_connector:"^6.1.6",npm_package_dependencies__web3_react_injected_connector:"^6.0.7",npm_config_bin_links:"true",npm_package_dependencies_react_feather:"^2.0.10",XPC_SERVICE_NAME:"0",npm_package_dependencies_react_device_detect:"^2.2.2",npm_package_dependencies_chart_js:"^2.9.4",npm_package_version:"0.0.0",VSCODE_INJECTION:"1",npm_package_devDependencies_autoprefixer:"^10.4.8",npm_package_dependencies_axios_hooks:"^3.1.5",HOME:"/Users/kuteteoku",SHLVL:"2",npm_package_type:"module",VSCODE_GIT_ASKPASS_MAIN:"/Users/kuteteoku/Documents/Visual Studio Code.app/Contents/Resources/app/extensions/git/dist/askpass-main.js",npm_package_dependencies_papaparse:"^5.3.2",npm_package_dependencies_events:"^3.3.0",npm_package_dependencies_animate_css:"^4.1.1",npm_package_dependencies_yarn:"^1.22.19",npm_package_dependencies_rebass:"^4.0.7",npm_package_dependencies__web3_react_walletlink_connector:"^6.2.14",npm_config_save_prefix:"^",npm_config_strict_ssl:"true",npm_config_version_git_message:"v%s",npm_package_dependencies_redux_localstorage_simple:"^2.5.1",LOGNAME:"kuteteoku",LESS:"-R",YARN_WRAP_OUTPUT:"false",npm_package_dependencies__uniswap_token_lists:"^1.0.0-beta.30",npm_lifecycle_script:"vite build",npm_package_dependencies_react_transition_group:"^4.4.5",VSCODE_GIT_IPC_HANDLE:"/var/folders/qr/mymsv4rs7j91ntm88vcvdxjw0000gn/T/vscode-git-ab523388bf.sock",npm_package_dependencies_react:"^18.2.0",npm_package_dependencies_ethers:"^5.7.0",NVM_BIN:"/Users/kuteteoku/.nvm/versions/node/v16.0.0/bin",npm_package_dependencies__types_rebass:"^4.0.10",npm_config_version_git_sign:"",npm_config_ignore_scripts:"",npm_config_user_agent:"yarn/1.22.11 npm/? node/v16.0.0 darwin arm64",GIT_ASKPASS:"/Users/kuteteoku/Documents/Visual Studio Code.app/Contents/Resources/app/extensions/git/dist/askpass.sh",VSCODE_GIT_ASKPASS_NODE:"/Users/kuteteoku/Documents/Visual Studio Code.app/Contents/Frameworks/Code Helper.app/Contents/MacOS/Code Helper",npm_package_dependencies_react_chartjs_2:"^2.11.2",npm_package_dependencies__web3_react_portis_connector:"^6.2.11",npm_package_dependencies__types_lodash:"^4.14.184",npm_package_dependencies__types_styled_components:"^5.1.26",npm_package_dependencies__types_react_transition_group:"^4.4.5",npm_package_dependencies_antd:"^4.22.7",npm_config_init_version:"1.0.0",npm_config_ignore_optional:"",npm_package_dependencies__sentry_react:"^7.14.1",COLORTERM:"truecolor",npm_node_execpath:"/Users/kuteteoku/.nvm/versions/node/v16.0.0/bin/node",npm_package_dependencies__web3_react_walletconnect_connector:"^6.2.13",npm_config_version_tag_prefix:"v",NODE_ENV:"production"}.NODE_DEBUG;s=s.replace(/[|\\{}()[\]^$+?.]/g,"\\$&").replace(/\*/g,".*").replace(/,/g,"$|^").toUpperCase(),i=new RegExp("^"+s+"$","i")}t.debuglog=function(u){if(u=u.toUpperCase(),!n[u])if(i.test(u)){var g=process.pid;n[u]=function(){var D=t.format.apply(t,arguments);console.error("%s %d: %s",u,g,D)}}else n[u]=function(){};return n[u]};function o(u,g){var D={seen:[],stylize:l};return arguments.length>=3&&(D.depth=arguments[2]),arguments.length>=4&&(D.colors=arguments[3]),E(g)?D.showHidden=g:g&&t._extend(D,g),Z(D.showHidden)&&(D.showHidden=!1),Z(D.depth)&&(D.depth=2),Z(D.colors)&&(D.colors=!1),Z(D.customInspect)&&(D.customInspect=!0),D.colors&&(D.stylize=c),d(D,u,D.depth)}t.inspect=o,o.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},o.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"};function c(u,g){var D=o.styles[g];return D?"\x1B["+o.colors[D][0]+"m"+u+"\x1B["+o.colors[D][1]+"m":u}function l(u,g){return u}function h(u){var g={};return u.forEach(function(D,j){g[D]=!0}),g}function d(u,g,D){if(u.customInspect&&g&&X(g.inspect)&&g.inspect!==t.inspect&&!(g.constructor&&g.constructor.prototype===g)){var j=g.inspect(D,u);return V(j)||(j=d(u,j,D)),j}var M=C(u,g);if(M)return M;var R=Object.keys(g),N=h(R);if(u.showHidden&&(R=Object.getOwnPropertyNames(g)),Q(g)&&(R.indexOf("message")>=0||R.indexOf("description")>=0))return m(g);if(R.length===0){if(X(g)){var F=g.name?": "+g.name:"";return u.stylize("[Function"+F+"]","special")}if(Y(g))return u.stylize(RegExp.prototype.toString.call(g),"regexp");if(K(g))return u.stylize(Date.prototype.toString.call(g),"date");if(Q(g))return m(g)}var G="",y=!1,w=["{","}"];if(L(g)&&(y=!0,w=["[","]"]),X(g)){var $=g.name?": "+g.name:"";G=" [Function"+$+"]"}if(Y(g)&&(G=" "+RegExp.prototype.toString.call(g)),K(g)&&(G=" "+Date.prototype.toUTCString.call(g)),Q(g)&&(G=" "+m(g)),R.length===0&&(!y||g.length==0))return w[0]+G+w[1];if(D<0)return Y(g)?u.stylize(RegExp.prototype.toString.call(g),"regexp"):u.stylize("[Object]","special");u.seen.push(g);var H;return y?H=x(u,g,D,N,R):H=R.map(function(re){return A(u,g,D,N,re,y)}),u.seen.pop(),P(H,G,w)}function C(u,g){if(Z(g))return u.stylize("undefined","undefined");if(V(g)){var D="'"+JSON.stringify(g).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return u.stylize(D,"string")}if(U(g))return u.stylize(""+g,"number");if(E(g))return u.stylize(""+g,"boolean");if(I(g))return u.stylize("null","null")}function m(u){return"["+Error.prototype.toString.call(u)+"]"}function x(u,g,D,j,M){for(var R=[],N=0,F=g.length;N<F;++N)v(g,String(N))?R.push(A(u,g,D,j,String(N),!0)):R.push("");return M.forEach(function(G){G.match(/^\d+$/)||R.push(A(u,g,D,j,G,!0))}),R}function A(u,g,D,j,M,R){var N,F,G;if(G=Object.getOwnPropertyDescriptor(g,M)||{value:g[M]},G.get?G.set?F=u.stylize("[Getter/Setter]","special"):F=u.stylize("[Getter]","special"):G.set&&(F=u.stylize("[Setter]","special")),v(j,M)||(N="["+M+"]"),F||(u.seen.indexOf(G.value)<0?(I(D)?F=d(u,G.value,null):F=d(u,G.value,D-1),F.indexOf(`
`)>-1&&(R?F=F.split(`
`).map(function(y){return"  "+y}).join(`
`).substr(2):F=`
`+F.split(`
`).map(function(y){return"   "+y}).join(`
`))):F=u.stylize("[Circular]","special")),Z(N)){if(R&&M.match(/^\d+$/))return F;N=JSON.stringify(""+M),N.match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(N=N.substr(1,N.length-2),N=u.stylize(N,"name")):(N=N.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),N=u.stylize(N,"string"))}return N+": "+F}function P(u,g,D){var j=u.reduce(function(M,R){return R.indexOf(`
`)>=0,M+R.replace(/\u001b\[\d\d?m/g,"").length+1},0);return j>60?D[0]+(g===""?"":g+`
 `)+" "+u.join(`,
  `)+" "+D[1]:D[0]+g+" "+u.join(", ")+" "+D[1]}t.types=Qf;function L(u){return Array.isArray(u)}t.isArray=L;function E(u){return typeof u=="boolean"}t.isBoolean=E;function I(u){return u===null}t.isNull=I;function O(u){return u==null}t.isNullOrUndefined=O;function U(u){return typeof u=="number"}t.isNumber=U;function V(u){return typeof u=="string"}t.isString=V;function q(u){return typeof u=="symbol"}t.isSymbol=q;function Z(u){return u===void 0}t.isUndefined=Z;function Y(u){return z(u)&&a(u)==="[object RegExp]"}t.isRegExp=Y,t.types.isRegExp=Y;function z(u){return typeof u=="object"&&u!==null}t.isObject=z;function K(u){return z(u)&&a(u)==="[object Date]"}t.isDate=K,t.types.isDate=K;function Q(u){return z(u)&&(a(u)==="[object Error]"||u instanceof Error)}t.isError=Q,t.types.isNativeError=Q;function X(u){return typeof u=="function"}t.isFunction=X;function _(u){return u===null||typeof u=="boolean"||typeof u=="number"||typeof u=="string"||typeof u=="symbol"||typeof u>"u"}t.isPrimitive=_,t.isBuffer=jw;function a(u){return Object.prototype.toString.call(u)}function f(u){return u<10?"0"+u.toString(10):u.toString(10)}var p=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function b(){var u=new Date,g=[f(u.getHours()),f(u.getMinutes()),f(u.getSeconds())].join(":");return[u.getDate(),p[u.getMonth()],g].join(" ")}t.log=function(){console.log("%s - %s",b(),t.format.apply(t,arguments))},t.inherits=Mt.exports,t._extend=function(u,g){if(!g||!z(g))return u;for(var D=Object.keys(g),j=D.length;j--;)u[D[j]]=g[D[j]];return u};function v(u,g){return Object.prototype.hasOwnProperty.call(u,g)}var k=typeof Symbol<"u"?Symbol("util.promisify.custom"):void 0;t.promisify=function(g){if(typeof g!="function")throw new TypeError('The "original" argument must be of type Function');if(k&&g[k]){var D=g[k];if(typeof D!="function")throw new TypeError('The "util.promisify.custom" argument must be of type Function');return Object.defineProperty(D,k,{value:D,enumerable:!1,writable:!1,configurable:!0}),D}function D(){for(var j,M,R=new Promise(function(G,y){j=G,M=y}),N=[],F=0;F<arguments.length;F++)N.push(arguments[F]);N.push(function(G,y){G?M(G):j(y)});try{g.apply(this,N)}catch(G){M(G)}return R}return Object.setPrototypeOf(D,Object.getPrototypeOf(g)),k&&Object.defineProperty(D,k,{value:D,enumerable:!1,writable:!1,configurable:!0}),Object.defineProperties(D,e(g))},t.promisify.custom=k;function T(u,g){if(!u){var D=new Error("Promise was rejected with a falsy value");D.reason=u,u=D}return g(u)}function S(u){if(typeof u!="function")throw new TypeError('The "original" argument must be of type Function');function g(){for(var D=[],j=0;j<arguments.length;j++)D.push(arguments[j]);var M=D.pop();if(typeof M!="function")throw new TypeError("The last argument must be of type Function");var R=this,N=function(){return M.apply(R,arguments)};u.apply(this,D).then(function(F){process.nextTick(N.bind(null,null,F))},function(F){process.nextTick(T.bind(null,F,N))})}return Object.setPrototypeOf(g,Object.getPrototypeOf(u)),Object.defineProperties(g,e(u)),g}t.callbackify=S})(Kf);const Bw=Kf,dh=ls.exports;var Bo=typeof Reflect=="object"?Reflect:null,Fw=Bo&&typeof Bo.apply=="function"?Bo.apply:function(e,r,n){return Function.prototype.apply.call(e,r,n)},Uw=Va;function Va(){dh.call(this)}Bw.inherits(Va,dh);Va.prototype.emit=function(t){for(var e=[],r=1;r<arguments.length;r++)e.push(arguments[r]);var n=t==="error",i=this._events;if(i!==void 0)n=n&&i.error===void 0;else if(!n)return!1;if(n){var s;if(e.length>0&&(s=e[0]),s instanceof Error)throw s;var o=new Error("Unhandled error."+(s?" ("+s.message+")":""));throw o.context=s,o}var c=i[t];if(c===void 0)return!1;if(typeof c=="function")wu(c,this,e);else for(var l=c.length,h=$w(c,l),r=0;r<l;++r)wu(h[r],this,e);return!0};function wu(t,e,r){try{Fw(t,e,r)}catch(n){setTimeout(()=>{throw n})}}function $w(t,e){for(var r=new Array(e),n=0;n<e;++n)r[n]=t[n];return r}const Ww=Uw,Hw=1e3,Vw=(t,e)=>t+e,Su=["sync","latest"];class qw extends Ww{constructor(e={}){super(),this._blockResetDuration=e.blockResetDuration||20*Hw,this._blockResetTimeout,this._currentBlock=null,this._isRunning=!1,this._onNewListener=this._onNewListener.bind(this),this._onRemoveListener=this._onRemoveListener.bind(this),this._resetCurrentBlock=this._resetCurrentBlock.bind(this),this._setupInternalEvents()}isRunning(){return this._isRunning}getCurrentBlock(){return this._currentBlock}async getLatestBlock(){return this._currentBlock?this._currentBlock:await new Promise(r=>this.once("latest",r))}removeAllListeners(e){e?super.removeAllListeners(e):super.removeAllListeners(),this._setupInternalEvents(),this._onRemoveListener()}_start(){}_end(){}_setupInternalEvents(){this.removeListener("newListener",this._onNewListener),this.removeListener("removeListener",this._onRemoveListener),this.on("newListener",this._onNewListener),this.on("removeListener",this._onRemoveListener)}_onNewListener(e,r){!Su.includes(e)||this._maybeStart()}_onRemoveListener(e,r){this._getBlockTrackerEventCount()>0||this._maybeEnd()}_maybeStart(){this._isRunning||(this._isRunning=!0,this._cancelBlockResetTimeout(),this._start())}_maybeEnd(){!this._isRunning||(this._isRunning=!1,this._setupBlockResetTimeout(),this._end())}_getBlockTrackerEventCount(){return Su.map(e=>this.listenerCount(e)).reduce(Vw)}_newPotentialLatest(e){const r=this._currentBlock;r&&Eu(e)<=Eu(r)||this._setCurrentBlock(e)}_setCurrentBlock(e){const r=this._currentBlock;this._currentBlock=e,this.emit("latest",e),this.emit("sync",{oldBlock:r,newBlock:e})}_setupBlockResetTimeout(){this._cancelBlockResetTimeout(),this._blockResetTimeout=setTimeout(this._resetCurrentBlock,this._blockResetDuration),this._blockResetTimeout.unref&&this._blockResetTimeout.unref()}_cancelBlockResetTimeout(){clearTimeout(this._blockResetTimeout)}_resetCurrentBlock(){this._currentBlock=null}}var zw=qw;function Eu(t){return Number.parseInt(t,16)}const Gw=V1,Zw=zw,Kw=1e3;class Qw extends Zw{constructor(e={}){if(!e.provider)throw new Error("PollingBlockTracker - no provider specified.");const r=e.pollingInterval||20*Kw,n=e.retryTimeout||r/10,i=e.keepEventLoopActive!==void 0?e.keepEventLoopActive:!0,s=e.setSkipCacheFlag||!1;super(Object.assign({blockResetDuration:r},e)),this._provider=e.provider,this._pollingInterval=r,this._retryTimeout=n,this._keepEventLoopActive=i,this._setSkipCacheFlag=s}async checkForLatestBlock(){return await this._updateLatestBlock(),await this.getLatestBlock()}_start(){this._performSync().catch(e=>this.emit("error",e))}async _performSync(){for(;this._isRunning;)try{await this._updateLatestBlock(),await ku(this._pollingInterval,!this._keepEventLoopActive)}catch(e){const r=new Error(`PollingBlockTracker - encountered an error while attempting to update latest block:
${e.stack}`);try{this.emit("error",r)}catch{console.error(r)}await ku(this._retryTimeout,!this._keepEventLoopActive)}}async _updateLatestBlock(){const e=await this._fetchLatestBlock();this._newPotentialLatest(e)}async _fetchLatestBlock(){const e={jsonrpc:"2.0",id:1,method:"eth_blockNumber",params:[]};this._setSkipCacheFlag&&(e.skipCache=!0);const r=await Gw(n=>this._provider.sendAsync(e,n))();if(r.error)throw new Error(`PollingBlockTracker - encountered error fetching block:
${r.error}`);return r.result}}var Yw=Qw;function ku(t,e){return new Promise(r=>{const n=setTimeout(r,t);n.unref&&e&&n.unref()})}var qa={exports:{}},Jw=function(e){return(r,n,i,s)=>{const o=e[r.method];return o===void 0?i():typeof o=="function"?o(r,n,i,s):(n.result=o,s())}};(function(t){t.exports=Jw})(qa);var za={},Ns={},ki={};Object.defineProperty(ki,"__esModule",{value:!0});ki.getUniqueId=void 0;const ph=4294967295;let Fo=Math.floor(Math.random()*ph);function Xw(){return Fo=(Fo+1)%ph,Fo}ki.getUniqueId=Xw;Object.defineProperty(Ns,"__esModule",{value:!0});Ns.createIdRemapMiddleware=void 0;const e2=ki;function t2(){return(t,e,r,n)=>{const i=t.id,s=e2.getUniqueId();t.id=s,e.id=s,r(o=>{t.id=i,e.id=i,o()})}}Ns.createIdRemapMiddleware=t2;var Ds={};Object.defineProperty(Ds,"__esModule",{value:!0});Ds.createAsyncMiddleware=void 0;function r2(t){return async(e,r,n,i)=>{let s;const o=new Promise(d=>{s=d});let c=null,l=!1;const h=async()=>{l=!0,n(d=>{c=d,s()}),await o};try{await t(e,r,h),l?(await o,c(null)):i(null)}catch(d){c?c(d):i(d)}}}Ds.createAsyncMiddleware=r2;var Ps={};Object.defineProperty(Ps,"__esModule",{value:!0});Ps.createScaffoldMiddleware=void 0;function n2(t){return(e,r,n,i)=>{const s=t[e.method];return s===void 0?n():typeof s=="function"?s(e,r,n,i):(r.result=s,i())}}Ps.createScaffoldMiddleware=n2;var xi={},_h={},lr={};Object.defineProperty(lr,"__esModule",{value:!0});lr.EthereumProviderError=lr.EthereumRpcError=void 0;const i2=Xu;class gh extends Error{constructor(e,r,n){if(!Number.isInteger(e))throw new Error('"code" must be an integer.');if(!r||typeof r!="string")throw new Error('"message" must be a nonempty string.');super(r),this.code=e,n!==void 0&&(this.data=n)}serialize(){const e={code:this.code,message:this.message};return this.data!==void 0&&(e.data=this.data),this.stack&&(e.stack=this.stack),e}toString(){return i2.default(this.serialize(),a2,2)}}lr.EthereumRpcError=gh;class s2 extends gh{constructor(e,r,n){if(!o2(e))throw new Error('"code" must be an integer such that: 1000 <= code <= 4999');super(e,r,n)}}lr.EthereumProviderError=s2;function o2(t){return Number.isInteger(t)&&t>=1e3&&t<=4999}function a2(t,e){if(e!=="[Circular]")return e}var Ga={},fr={};Object.defineProperty(fr,"__esModule",{value:!0});fr.errorValues=fr.errorCodes=void 0;fr.errorCodes={rpc:{invalidInput:-32e3,resourceNotFound:-32001,resourceUnavailable:-32002,transactionRejected:-32003,methodNotSupported:-32004,limitExceeded:-32005,parse:-32700,invalidRequest:-32600,methodNotFound:-32601,invalidParams:-32602,internal:-32603},provider:{userRejectedRequest:4001,unauthorized:4100,unsupportedMethod:4200,disconnected:4900,chainDisconnected:4901}};fr.errorValues={"-32700":{standard:"JSON RPC 2.0",message:"Invalid JSON was received by the server. An error occurred on the server while parsing the JSON text."},"-32600":{standard:"JSON RPC 2.0",message:"The JSON sent is not a valid Request object."},"-32601":{standard:"JSON RPC 2.0",message:"The method does not exist / is not available."},"-32602":{standard:"JSON RPC 2.0",message:"Invalid method parameter(s)."},"-32603":{standard:"JSON RPC 2.0",message:"Internal JSON-RPC error."},"-32000":{standard:"EIP-1474",message:"Invalid input."},"-32001":{standard:"EIP-1474",message:"Resource not found."},"-32002":{standard:"EIP-1474",message:"Resource unavailable."},"-32003":{standard:"EIP-1474",message:"Transaction rejected."},"-32004":{standard:"EIP-1474",message:"Method not supported."},"-32005":{standard:"EIP-1474",message:"Request limit exceeded."},4001:{standard:"EIP-1193",message:"User rejected the request."},4100:{standard:"EIP-1193",message:"The requested account and/or method has not been authorized by the user."},4200:{standard:"EIP-1193",message:"The requested method is not supported by this Ethereum provider."},4900:{standard:"EIP-1193",message:"The provider is disconnected from all chains."},4901:{standard:"EIP-1193",message:"The provider is disconnected from the specified chain."}};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.serializeError=t.isValidCode=t.getMessageFromCode=t.JSON_RPC_SERVER_ERROR_MESSAGE=void 0;const e=fr,r=lr,n=e.errorCodes.rpc.internal,i="Unspecified error message. This is a bug, please report it.",s={code:n,message:o(n)};t.JSON_RPC_SERVER_ERROR_MESSAGE="Unspecified server error.";function o(m,x=i){if(Number.isInteger(m)){const A=m.toString();if(C(e.errorValues,A))return e.errorValues[A].message;if(h(m))return t.JSON_RPC_SERVER_ERROR_MESSAGE}return x}t.getMessageFromCode=o;function c(m){if(!Number.isInteger(m))return!1;const x=m.toString();return!!(e.errorValues[x]||h(m))}t.isValidCode=c;function l(m,{fallbackError:x=s,shouldIncludeStack:A=!1}={}){var P,L;if(!x||!Number.isInteger(x.code)||typeof x.message!="string")throw new Error("Must provide fallback error with integer number code and string message.");if(m instanceof r.EthereumRpcError)return m.serialize();const E={};if(m&&typeof m=="object"&&!Array.isArray(m)&&C(m,"code")&&c(m.code)){const O=m;E.code=O.code,O.message&&typeof O.message=="string"?(E.message=O.message,C(O,"data")&&(E.data=O.data)):(E.message=o(E.code),E.data={originalError:d(m)})}else{E.code=x.code;const O=(P=m)===null||P===void 0?void 0:P.message;E.message=O&&typeof O=="string"?O:x.message,E.data={originalError:d(m)}}const I=(L=m)===null||L===void 0?void 0:L.stack;return A&&m&&I&&typeof I=="string"&&(E.stack=I),E}t.serializeError=l;function h(m){return m>=-32099&&m<=-32e3}function d(m){return m&&typeof m=="object"&&!Array.isArray(m)?Object.assign({},m):m}function C(m,x){return Object.prototype.hasOwnProperty.call(m,x)}})(Ga);var Ls={};Object.defineProperty(Ls,"__esModule",{value:!0});Ls.ethErrors=void 0;const Za=lr,bh=Ga,ct=fr;Ls.ethErrors={rpc:{parse:t=>wt(ct.errorCodes.rpc.parse,t),invalidRequest:t=>wt(ct.errorCodes.rpc.invalidRequest,t),invalidParams:t=>wt(ct.errorCodes.rpc.invalidParams,t),methodNotFound:t=>wt(ct.errorCodes.rpc.methodNotFound,t),internal:t=>wt(ct.errorCodes.rpc.internal,t),server:t=>{if(!t||typeof t!="object"||Array.isArray(t))throw new Error("Ethereum RPC Server errors must provide single object argument.");const{code:e}=t;if(!Number.isInteger(e)||e>-32005||e<-32099)throw new Error('"code" must be an integer such that: -32099 <= code <= -32005');return wt(e,t)},invalidInput:t=>wt(ct.errorCodes.rpc.invalidInput,t),resourceNotFound:t=>wt(ct.errorCodes.rpc.resourceNotFound,t),resourceUnavailable:t=>wt(ct.errorCodes.rpc.resourceUnavailable,t),transactionRejected:t=>wt(ct.errorCodes.rpc.transactionRejected,t),methodNotSupported:t=>wt(ct.errorCodes.rpc.methodNotSupported,t),limitExceeded:t=>wt(ct.errorCodes.rpc.limitExceeded,t)},provider:{userRejectedRequest:t=>$n(ct.errorCodes.provider.userRejectedRequest,t),unauthorized:t=>$n(ct.errorCodes.provider.unauthorized,t),unsupportedMethod:t=>$n(ct.errorCodes.provider.unsupportedMethod,t),disconnected:t=>$n(ct.errorCodes.provider.disconnected,t),chainDisconnected:t=>$n(ct.errorCodes.provider.chainDisconnected,t),custom:t=>{if(!t||typeof t!="object"||Array.isArray(t))throw new Error("Ethereum Provider custom errors must provide single object argument.");const{code:e,message:r,data:n}=t;if(!r||typeof r!="string")throw new Error('"message" must be a nonempty string');return new Za.EthereumProviderError(e,r,n)}}};function wt(t,e){const[r,n]=vh(e);return new Za.EthereumRpcError(t,r||bh.getMessageFromCode(t),n)}function $n(t,e){const[r,n]=vh(e);return new Za.EthereumProviderError(t,r||bh.getMessageFromCode(t),n)}function vh(t){if(t){if(typeof t=="string")return[t];if(typeof t=="object"&&!Array.isArray(t)){const{message:e,data:r}=t;if(e&&typeof e!="string")throw new Error("Must specify string message.");return[e||void 0,r]}}return[]}(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.getMessageFromCode=t.serializeError=t.EthereumProviderError=t.EthereumRpcError=t.ethErrors=t.errorCodes=void 0;const e=lr;Object.defineProperty(t,"EthereumRpcError",{enumerable:!0,get:function(){return e.EthereumRpcError}}),Object.defineProperty(t,"EthereumProviderError",{enumerable:!0,get:function(){return e.EthereumProviderError}});const r=Ga;Object.defineProperty(t,"serializeError",{enumerable:!0,get:function(){return r.serializeError}}),Object.defineProperty(t,"getMessageFromCode",{enumerable:!0,get:function(){return r.getMessageFromCode}});const n=Ls;Object.defineProperty(t,"ethErrors",{enumerable:!0,get:function(){return n.ethErrors}});const i=fr;Object.defineProperty(t,"errorCodes",{enumerable:!0,get:function(){return i.errorCodes}})})(_h);var c2=oe&&oe.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(xi,"__esModule",{value:!0});xi.JsonRpcEngine=void 0;const u2=c2(Cn),St=_h;class Ht extends u2.default{constructor(){super(),this._middleware=[]}push(e){this._middleware.push(e)}handle(e,r){if(r&&typeof r!="function")throw new Error('"callback" must be a function if provided.');return Array.isArray(e)?r?this._handleBatch(e,r):this._handleBatch(e):r?this._handle(e,r):this._promiseHandle(e)}asMiddleware(){return async(e,r,n,i)=>{try{const[s,o,c]=await Ht._runAllMiddleware(e,r,this._middleware);return o?(await Ht._runReturnHandlers(c),i(s)):n(async l=>{try{await Ht._runReturnHandlers(c)}catch(h){return l(h)}return l()})}catch(s){return i(s)}}}async _handleBatch(e,r){try{const n=await Promise.all(e.map(this._promiseHandle.bind(this)));return r?r(null,n):n}catch(n){if(r)return r(n);throw n}}_promiseHandle(e){return new Promise(r=>{this._handle(e,(n,i)=>{r(i)})})}async _handle(e,r){if(!e||Array.isArray(e)||typeof e!="object"){const o=new St.EthereumRpcError(St.errorCodes.rpc.invalidRequest,`Requests must be plain objects. Received: ${typeof e}`,{request:e});return r(o,{id:void 0,jsonrpc:"2.0",error:o})}if(typeof e.method!="string"){const o=new St.EthereumRpcError(St.errorCodes.rpc.invalidRequest,`Must specify a string method. Received: ${typeof e.method}`,{request:e});return r(o,{id:e.id,jsonrpc:"2.0",error:o})}const n=Object.assign({},e),i={id:n.id,jsonrpc:n.jsonrpc};let s=null;try{await this._processRequest(n,i)}catch(o){s=o}return s&&(delete i.result,i.error||(i.error=St.serializeError(s))),r(s,i)}async _processRequest(e,r){const[n,i,s]=await Ht._runAllMiddleware(e,r,this._middleware);if(Ht._checkForCompletion(e,r,i),await Ht._runReturnHandlers(s),n)throw n}static async _runAllMiddleware(e,r,n){const i=[];let s=null,o=!1;for(const c of n)if([s,o]=await Ht._runMiddleware(e,r,c,i),o)break;return[s,o,i.reverse()]}static _runMiddleware(e,r,n,i){return new Promise(s=>{const o=l=>{const h=l||r.error;h&&(r.error=St.serializeError(h)),s([h,!0])},c=l=>{r.error?o(r.error):(l&&(typeof l!="function"&&o(new St.EthereumRpcError(St.errorCodes.rpc.internal,`JsonRpcEngine: "next" return handlers must be functions. Received "${typeof l}" for request:
${Uo(e)}`,{request:e})),i.push(l)),s([null,!1]))};try{n(e,r,c,o)}catch(l){o(l)}})}static async _runReturnHandlers(e){for(const r of e)await new Promise((n,i)=>{r(s=>s?i(s):n())})}static _checkForCompletion(e,r,n){if(!("result"in r)&&!("error"in r))throw new St.EthereumRpcError(St.errorCodes.rpc.internal,`JsonRpcEngine: Response has no error or result for request:
${Uo(e)}`,{request:e});if(!n)throw new St.EthereumRpcError(St.errorCodes.rpc.internal,`JsonRpcEngine: Nothing ended request:
${Uo(e)}`,{request:e})}}xi.JsonRpcEngine=Ht;function Uo(t){return JSON.stringify(t,null,2)}var js={};Object.defineProperty(js,"__esModule",{value:!0});js.mergeMiddleware=void 0;const l2=xi;function f2(t){const e=new l2.JsonRpcEngine;return t.forEach(r=>e.push(r)),e.asMiddleware()}js.mergeMiddleware=f2;(function(t){var e=oe&&oe.__createBinding||(Object.create?function(n,i,s,o){o===void 0&&(o=s),Object.defineProperty(n,o,{enumerable:!0,get:function(){return i[s]}})}:function(n,i,s,o){o===void 0&&(o=s),n[o]=i[s]}),r=oe&&oe.__exportStar||function(n,i){for(var s in n)s!=="default"&&!Object.prototype.hasOwnProperty.call(i,s)&&e(i,n,s)};Object.defineProperty(t,"__esModule",{value:!0}),r(Ns,t),r(Ds,t),r(Ps,t),r(ki,t),r(xi,t),r(js,t)})(za);var mh={},Ka={},Bs={exports:{}};(function(t){var e,r,n,i,s,o,c,l,h,d,C,m,x,A,P,L,E,I,O,U,V,q,Z,Y,z;(function(K){var Q=typeof oe=="object"?oe:typeof self=="object"?self:typeof this=="object"?this:{};K(X(Q,X(t.exports)));function X(_,a){return _!==Q&&(typeof Object.create=="function"?Object.defineProperty(_,"__esModule",{value:!0}):_.__esModule=!0),function(f,p){return _[f]=a?a(f,p):p}}})(function(K){var Q=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(_,a){_.__proto__=a}||function(_,a){for(var f in a)Object.prototype.hasOwnProperty.call(a,f)&&(_[f]=a[f])};e=function(_,a){if(typeof a!="function"&&a!==null)throw new TypeError("Class extends value "+String(a)+" is not a constructor or null");Q(_,a);function f(){this.constructor=_}_.prototype=a===null?Object.create(a):(f.prototype=a.prototype,new f)},r=Object.assign||function(_){for(var a,f=1,p=arguments.length;f<p;f++){a=arguments[f];for(var b in a)Object.prototype.hasOwnProperty.call(a,b)&&(_[b]=a[b])}return _},n=function(_,a){var f={};for(var p in _)Object.prototype.hasOwnProperty.call(_,p)&&a.indexOf(p)<0&&(f[p]=_[p]);if(_!=null&&typeof Object.getOwnPropertySymbols=="function")for(var b=0,p=Object.getOwnPropertySymbols(_);b<p.length;b++)a.indexOf(p[b])<0&&Object.prototype.propertyIsEnumerable.call(_,p[b])&&(f[p[b]]=_[p[b]]);return f},i=function(_,a,f,p){var b=arguments.length,v=b<3?a:p===null?p=Object.getOwnPropertyDescriptor(a,f):p,k;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")v=Reflect.decorate(_,a,f,p);else for(var T=_.length-1;T>=0;T--)(k=_[T])&&(v=(b<3?k(v):b>3?k(a,f,v):k(a,f))||v);return b>3&&v&&Object.defineProperty(a,f,v),v},s=function(_,a){return function(f,p){a(f,p,_)}},o=function(_,a){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(_,a)},c=function(_,a,f,p){function b(v){return v instanceof f?v:new f(function(k){k(v)})}return new(f||(f=Promise))(function(v,k){function T(g){try{u(p.next(g))}catch(D){k(D)}}function S(g){try{u(p.throw(g))}catch(D){k(D)}}function u(g){g.done?v(g.value):b(g.value).then(T,S)}u((p=p.apply(_,a||[])).next())})},l=function(_,a){var f={label:0,sent:function(){if(v[0]&1)throw v[1];return v[1]},trys:[],ops:[]},p,b,v,k;return k={next:T(0),throw:T(1),return:T(2)},typeof Symbol=="function"&&(k[Symbol.iterator]=function(){return this}),k;function T(u){return function(g){return S([u,g])}}function S(u){if(p)throw new TypeError("Generator is already executing.");for(;f;)try{if(p=1,b&&(v=u[0]&2?b.return:u[0]?b.throw||((v=b.return)&&v.call(b),0):b.next)&&!(v=v.call(b,u[1])).done)return v;switch(b=0,v&&(u=[u[0]&2,v.value]),u[0]){case 0:case 1:v=u;break;case 4:return f.label++,{value:u[1],done:!1};case 5:f.label++,b=u[1],u=[0];continue;case 7:u=f.ops.pop(),f.trys.pop();continue;default:if(v=f.trys,!(v=v.length>0&&v[v.length-1])&&(u[0]===6||u[0]===2)){f=0;continue}if(u[0]===3&&(!v||u[1]>v[0]&&u[1]<v[3])){f.label=u[1];break}if(u[0]===6&&f.label<v[1]){f.label=v[1],v=u;break}if(v&&f.label<v[2]){f.label=v[2],f.ops.push(u);break}v[2]&&f.ops.pop(),f.trys.pop();continue}u=a.call(_,f)}catch(g){u=[6,g],b=0}finally{p=v=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}},h=function(_,a){for(var f in _)f!=="default"&&!Object.prototype.hasOwnProperty.call(a,f)&&z(a,_,f)},z=Object.create?function(_,a,f,p){p===void 0&&(p=f);var b=Object.getOwnPropertyDescriptor(a,f);(!b||("get"in b?!a.__esModule:b.writable||b.configurable))&&(b={enumerable:!0,get:function(){return a[f]}}),Object.defineProperty(_,p,b)}:function(_,a,f,p){p===void 0&&(p=f),_[p]=a[f]},d=function(_){var a=typeof Symbol=="function"&&Symbol.iterator,f=a&&_[a],p=0;if(f)return f.call(_);if(_&&typeof _.length=="number")return{next:function(){return _&&p>=_.length&&(_=void 0),{value:_&&_[p++],done:!_}}};throw new TypeError(a?"Object is not iterable.":"Symbol.iterator is not defined.")},C=function(_,a){var f=typeof Symbol=="function"&&_[Symbol.iterator];if(!f)return _;var p=f.call(_),b,v=[],k;try{for(;(a===void 0||a-- >0)&&!(b=p.next()).done;)v.push(b.value)}catch(T){k={error:T}}finally{try{b&&!b.done&&(f=p.return)&&f.call(p)}finally{if(k)throw k.error}}return v},m=function(){for(var _=[],a=0;a<arguments.length;a++)_=_.concat(C(arguments[a]));return _},x=function(){for(var _=0,a=0,f=arguments.length;a<f;a++)_+=arguments[a].length;for(var p=Array(_),b=0,a=0;a<f;a++)for(var v=arguments[a],k=0,T=v.length;k<T;k++,b++)p[b]=v[k];return p},A=function(_,a,f){if(f||arguments.length===2)for(var p=0,b=a.length,v;p<b;p++)(v||!(p in a))&&(v||(v=Array.prototype.slice.call(a,0,p)),v[p]=a[p]);return _.concat(v||Array.prototype.slice.call(a))},P=function(_){return this instanceof P?(this.v=_,this):new P(_)},L=function(_,a,f){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var p=f.apply(_,a||[]),b,v=[];return b={},k("next"),k("throw"),k("return"),b[Symbol.asyncIterator]=function(){return this},b;function k(j){p[j]&&(b[j]=function(M){return new Promise(function(R,N){v.push([j,M,R,N])>1||T(j,M)})})}function T(j,M){try{S(p[j](M))}catch(R){D(v[0][3],R)}}function S(j){j.value instanceof P?Promise.resolve(j.value.v).then(u,g):D(v[0][2],j)}function u(j){T("next",j)}function g(j){T("throw",j)}function D(j,M){j(M),v.shift(),v.length&&T(v[0][0],v[0][1])}},E=function(_){var a,f;return a={},p("next"),p("throw",function(b){throw b}),p("return"),a[Symbol.iterator]=function(){return this},a;function p(b,v){a[b]=_[b]?function(k){return(f=!f)?{value:P(_[b](k)),done:b==="return"}:v?v(k):k}:v}},I=function(_){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var a=_[Symbol.asyncIterator],f;return a?a.call(_):(_=typeof d=="function"?d(_):_[Symbol.iterator](),f={},p("next"),p("throw"),p("return"),f[Symbol.asyncIterator]=function(){return this},f);function p(v){f[v]=_[v]&&function(k){return new Promise(function(T,S){k=_[v](k),b(T,S,k.done,k.value)})}}function b(v,k,T,S){Promise.resolve(S).then(function(u){v({value:u,done:T})},k)}},O=function(_,a){return Object.defineProperty?Object.defineProperty(_,"raw",{value:a}):_.raw=a,_};var X=Object.create?function(_,a){Object.defineProperty(_,"default",{enumerable:!0,value:a})}:function(_,a){_.default=a};U=function(_){if(_&&_.__esModule)return _;var a={};if(_!=null)for(var f in _)f!=="default"&&Object.prototype.hasOwnProperty.call(_,f)&&z(a,_,f);return X(a,_),a},V=function(_){return _&&_.__esModule?_:{default:_}},q=function(_,a,f,p){if(f==="a"&&!p)throw new TypeError("Private accessor was defined without a getter");if(typeof a=="function"?_!==a||!p:!a.has(_))throw new TypeError("Cannot read private member from an object whose class did not declare it");return f==="m"?p:f==="a"?p.call(_):p?p.value:a.get(_)},Z=function(_,a,f,p,b){if(p==="m")throw new TypeError("Private method is not writable");if(p==="a"&&!b)throw new TypeError("Private accessor was defined without a setter");if(typeof a=="function"?_!==a||!b:!a.has(_))throw new TypeError("Cannot write private member to an object whose class did not declare it");return p==="a"?b.call(_,f):b?b.value=f:a.set(_,f),f},Y=function(_,a){if(a===null||typeof a!="object"&&typeof a!="function")throw new TypeError("Cannot use 'in' operator on non-object");return typeof _=="function"?a===_:_.has(a)},K("__extends",e),K("__assign",r),K("__rest",n),K("__decorate",i),K("__param",s),K("__metadata",o),K("__awaiter",c),K("__generator",l),K("__exportStar",h),K("__createBinding",z),K("__values",d),K("__read",C),K("__spread",m),K("__spreadArrays",x),K("__spreadArray",A),K("__await",P),K("__asyncGenerator",L),K("__asyncDelegator",E),K("__asyncValues",I),K("__makeTemplateObject",O),K("__importStar",U),K("__importDefault",V),K("__classPrivateFieldGet",q),K("__classPrivateFieldSet",Z),K("__classPrivateFieldIn",Y)})})(Bs);var Fs={};Object.defineProperty(Fs,"__esModule",{value:!0});var xu=Bs.exports,h2=function(){function t(e){if(this._maxConcurrency=e,this._queue=[],e<=0)throw new Error("semaphore must be initialized to a positive value");this._value=e}return t.prototype.acquire=function(){var e=this,r=this.isLocked(),n=new Promise(function(i){return e._queue.push(i)});return r||this._dispatch(),n},t.prototype.runExclusive=function(e){return xu.__awaiter(this,void 0,void 0,function(){var r,n,i;return xu.__generator(this,function(s){switch(s.label){case 0:return[4,this.acquire()];case 1:r=s.sent(),n=r[0],i=r[1],s.label=2;case 2:return s.trys.push([2,,4,5]),[4,e(n)];case 3:return[2,s.sent()];case 4:return i(),[7];case 5:return[2]}})})},t.prototype.isLocked=function(){return this._value<=0},t.prototype.release=function(){if(this._maxConcurrency>1)throw new Error("this method is unavailabel on semaphores with concurrency > 1; use the scoped release returned by acquire instead");if(this._currentReleaser){var e=this._currentReleaser;this._currentReleaser=void 0,e()}},t.prototype._dispatch=function(){var e=this,r=this._queue.shift();if(!!r){var n=!1;this._currentReleaser=function(){n||(n=!0,e._value++,e._dispatch())},r([this._value--,this._currentReleaser])}},t}();Fs.default=h2;Object.defineProperty(Ka,"__esModule",{value:!0});var Mu=Bs.exports,d2=Fs,p2=function(){function t(){this._semaphore=new d2.default(1)}return t.prototype.acquire=function(){return Mu.__awaiter(this,void 0,void 0,function(){var e,r;return Mu.__generator(this,function(n){switch(n.label){case 0:return[4,this._semaphore.acquire()];case 1:return e=n.sent(),r=e[1],[2,r]}})})},t.prototype.runExclusive=function(e){return this._semaphore.runExclusive(function(){return e()})},t.prototype.isLocked=function(){return this._semaphore.isLocked()},t.prototype.release=function(){this._semaphore.release()},t}();Ka.default=p2;var Us={};Object.defineProperty(Us,"__esModule",{value:!0});Us.withTimeout=void 0;var Li=Bs.exports;function _2(t,e,r){var n=this;return r===void 0&&(r=new Error("timeout")),{acquire:function(){return new Promise(function(i,s){return Li.__awaiter(n,void 0,void 0,function(){var o,c,l;return Li.__generator(this,function(h){switch(h.label){case 0:return o=!1,setTimeout(function(){o=!0,s(r)},e),[4,t.acquire()];case 1:return c=h.sent(),o?(l=Array.isArray(c)?c[1]:c,l()):i(c),[2]}})})})},runExclusive:function(i){return Li.__awaiter(this,void 0,void 0,function(){var s,o;return Li.__generator(this,function(c){switch(c.label){case 0:s=function(){},c.label=1;case 1:return c.trys.push([1,,7,8]),[4,this.acquire()];case 2:return o=c.sent(),Array.isArray(o)?(s=o[1],[4,i(o[0])]):[3,4];case 3:return[2,c.sent()];case 4:return s=o,[4,i()];case 5:return[2,c.sent()];case 6:return[3,8];case 7:return s(),[7];case 8:return[2]}})})},release:function(){t.release()},isLocked:function(){return t.isLocked()}}}Us.withTimeout=_2;(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.withTimeout=t.Semaphore=t.Mutex=void 0;var e=Ka;Object.defineProperty(t,"Mutex",{enumerable:!0,get:function(){return e.default}});var r=Fs;Object.defineProperty(t,"Semaphore",{enumerable:!0,get:function(){return r.default}});var n=Us;Object.defineProperty(t,"withTimeout",{enumerable:!0,get:function(){return n.withTimeout}})})(mh);const Cu=(t,e,r,n)=>function(...i){const s=e.promiseModule;return new s((o,c)=>{e.multiArgs?i.push((...h)=>{e.errorFirst?h[0]?c(h):(h.shift(),o(h)):o(h)}):e.errorFirst?i.push((h,d)=>{h?c(h):o(d)}):i.push(o),Reflect.apply(t,this===r?n:this,i)})},Au=new WeakMap;var g2=(t,e)=>{e={exclude:[/.+(?:Sync|Stream)$/],errorFirst:!0,promiseModule:Promise,...e};const r=typeof t;if(!(t!==null&&(r==="object"||r==="function")))throw new TypeError(`Expected \`input\` to be a \`Function\` or \`Object\`, got \`${t===null?"null":r}\``);const n=(o,c)=>{let l=Au.get(o);if(l||(l={},Au.set(o,l)),c in l)return l[c];const h=A=>typeof A=="string"||typeof c=="symbol"?c===A:A.test(c),d=Reflect.getOwnPropertyDescriptor(o,c),C=d===void 0||d.writable||d.configurable,x=(e.include?e.include.some(h):!e.exclude.some(h))&&C;return l[c]=x,x},i=new WeakMap,s=new Proxy(t,{apply(o,c,l){const h=i.get(o);if(h)return Reflect.apply(h,c,l);const d=e.excludeMain?o:Cu(o,e,s,o);return i.set(o,d),Reflect.apply(d,c,l)},get(o,c){const l=o[c];if(!n(o,c)||l===Function.prototype[c])return l;const h=i.get(l);if(h)return h;if(typeof l=="function"){const d=Cu(l,e,s,o);return i.set(l,d),d}return l}});return s};const b2=Cn.default;class v2 extends b2{constructor(){super(),this.updates=[]}async initialize(){}async update(){throw new Error("BaseFilter - no update method specified")}addResults(e){this.updates=this.updates.concat(e),e.forEach(r=>this.emit("update",r))}addInitialResults(e){}getChangesAndClear(){const e=this.updates;return this.updates=[],e}}var Qa=v2;const m2=Qa;class y2 extends m2{constructor(){super(),this.allResults=[]}async update(){throw new Error("BaseFilterWithHistory - no update method specified")}addResults(e){this.allResults=this.allResults.concat(e),super.addResults(e)}addInitialResults(e){this.allResults=this.allResults.concat(e),super.addInitialResults(e)}getAllResults(){return this.allResults}}var w2=y2,Mi={minBlockRef:S2,maxBlockRef:E2,sortBlockRefs:Ya,bnToHex:k2,blockRefIsNumber:x2,hexToInt:ss,incrementHexInt:M2,intToHex:yh,unsafeRandomBytes:C2};function S2(...t){return Ya(t)[0]}function E2(...t){const e=Ya(t);return e[e.length-1]}function Ya(t){return t.sort((e,r)=>e==="latest"||r==="earliest"?1:r==="latest"||e==="earliest"?-1:ss(e)-ss(r))}function k2(t){return"0x"+t.toString(16)}function x2(t){return t&&!["earliest","latest","pending"].includes(t)}function ss(t){return t==null?t:Number.parseInt(t,16)}function M2(t){if(t==null)return t;const e=ss(t);return yh(e+1)}function yh(t){if(t==null)return t;let e=t.toString(16);return e.length%2&&(e="0"+e),"0x"+e}function C2(t){let e="0x";for(let r=0;r<t;r++)e+=Ru(),e+=Ru();return e}function Ru(){return Math.floor(Math.random()*16).toString(16)}const A2=J1,R2=g2,I2=w2,{bnToHex:kE,hexToInt:ji,incrementHexInt:T2,minBlockRef:O2,blockRefIsNumber:N2}=Mi;class D2 extends I2{constructor({provider:e,params:r}){super(),this.type="log",this.ethQuery=new A2(e),this.params=Object.assign({fromBlock:"latest",toBlock:"latest",address:void 0,topics:[]},r),this.params.address&&(Array.isArray(this.params.address)||(this.params.address=[this.params.address]),this.params.address=this.params.address.map(n=>n.toLowerCase()))}async initialize({currentBlock:e}){let r=this.params.fromBlock;["latest","pending"].includes(r)&&(r=e),r==="earliest"&&(r="0x0"),this.params.fromBlock=r;const n=O2(this.params.toBlock,e),i=Object.assign({},this.params,{toBlock:n}),s=await this._fetchLogs(i);this.addInitialResults(s)}async update({oldBlock:e,newBlock:r}){const n=r;let i;e?i=T2(e):i=r;const s=Object.assign({},this.params,{fromBlock:i,toBlock:n}),c=(await this._fetchLogs(s)).filter(l=>this.matchLog(l));this.addResults(c)}async _fetchLogs(e){return await R2(n=>this.ethQuery.getLogs(e,n))()}matchLog(e){if(ji(this.params.fromBlock)>=ji(e.blockNumber)||N2(this.params.toBlock)&&ji(this.params.toBlock)<=ji(e.blockNumber))return!1;const r=e.address&&e.address.toLowerCase();return this.params.address&&r&&!this.params.address.includes(r)?!1:this.params.topics.every((i,s)=>{let o=e.topics[s];if(!o)return!1;o=o.toLowerCase();let c=Array.isArray(i)?i:[i];return c.includes(null)?!0:(c=c.map(d=>d.toLowerCase()),c.includes(o))})}}var P2=D2,Ja=L2;async function L2({provider:t,fromBlock:e,toBlock:r}){e||(e=r);const n=Iu(e),s=Iu(r)-n+1,o=Array(s).fill().map((l,h)=>n+h).map(j2);return await Promise.all(o.map(l=>B2(t,"eth_getBlockByNumber",[l,!1])))}function Iu(t){return t==null?t:Number.parseInt(t,16)}function j2(t){if(t==null)return t;const e=t.toString(16);return"0x"+e}function B2(t,e,r){return new Promise((n,i)=>{t.sendAsync({id:1,jsonrpc:"2.0",method:e,params:r},(s,o)=>{if(s)return i(s);n(o.result)})})}const F2=Qa,U2=Ja,{incrementHexInt:$2}=Mi;class W2 extends F2{constructor({provider:e,params:r}){super(),this.type="block",this.provider=e}async update({oldBlock:e,newBlock:r}){const n=r,i=$2(e),o=(await U2({provider:this.provider,fromBlock:i,toBlock:n})).map(c=>c.hash);this.addResults(o)}}var H2=W2;const V2=Qa,q2=Ja,{incrementHexInt:z2}=Mi;class G2 extends V2{constructor({provider:e}){super(),this.type="tx",this.provider=e}async update({oldBlock:e}){const r=e,n=z2(e),i=await q2({provider:this.provider,fromBlock:n,toBlock:r}),s=[];for(const o of i)s.push(...o.transactions);this.addResults(s)}}var Z2=G2;const K2=mh.Mutex,{createAsyncMiddleware:Q2}=za,Y2=qa.exports,J2=P2,X2=H2,eS=Z2,{intToHex:wh,hexToInt:$o}=Mi;var tS=rS;function rS({blockTracker:t,provider:e}){let r=0,n={};const i=new K2,s=nS({mutex:i}),o=Y2({eth_newFilter:s(Wo(l)),eth_newBlockFilter:s(Wo(h)),eth_newPendingTransactionFilter:s(Wo(d)),eth_uninstallFilter:s(qi(x)),eth_getFilterChanges:s(qi(C)),eth_getFilterLogs:s(qi(m))}),c=async({oldBlock:I,newBlock:O})=>{if(n.length===0)return;const U=await i.acquire();try{await Promise.all(en(n).map(async V=>{try{await V.update({oldBlock:I,newBlock:O})}catch(q){console.error(q)}}))}catch(V){console.error(V)}U()};return o.newLogFilter=l,o.newBlockFilter=h,o.newPendingTransactionFilter=d,o.uninstallFilter=x,o.getFilterChanges=C,o.getFilterLogs=m,o.destroy=()=>{L()},o;async function l(I){const O=new J2({provider:e,params:I});return await A(O),O}async function h(){const I=new X2({provider:e});return await A(I),I}async function d(){const I=new eS({provider:e});return await A(I),I}async function C(I){const O=$o(I),U=n[O];if(!U)throw new Error(`No filter for index "${O}"`);return U.getChangesAndClear()}async function m(I){const O=$o(I),U=n[O];if(!U)throw new Error(`No filter for index "${O}"`);return U.type==="log"?results=U.getAllResults():results=[],results}async function x(I){const O=$o(I),U=n[O],V=Boolean(U);return V&&await P(O),V}async function A(I){const O=en(n).length,U=await t.getLatestBlock();await I.initialize({currentBlock:U}),r++,n[r]=I,I.id=r,I.idHex=wh(r);const V=en(n).length;return E({prevFilterCount:O,newFilterCount:V}),r}async function P(I){const O=en(n).length;delete n[I];const U=en(n).length;E({prevFilterCount:O,newFilterCount:U})}async function L(){const I=en(n).length;n={},E({prevFilterCount:I,newFilterCount:0})}function E({prevFilterCount:I,newFilterCount:O}){if(I===0&&O>0){t.on("sync",c);return}if(I>0&&O===0){t.removeListener("sync",c);return}}}function Wo(t){return qi(async(...e)=>{const r=await t(...e);return wh(r.id)})}function qi(t){return Q2(async(e,r)=>{const n=await t.apply(null,e.params);r.result=n})}function nS({mutex:t}){return e=>async(r,n,i,s)=>{(await t.acquire())(),e(r,n,i,s)}}function en(t,e){const r=[];for(let n in t)r.push(t[n]);return r}const iS=Cn.default,sS=qa.exports,{createAsyncMiddleware:Tu}=za,oS=tS,{unsafeRandomBytes:aS,incrementHexInt:cS}=Mi,uS=Ja;var lS=fS;function fS({blockTracker:t,provider:e}){const r={},n=oS({blockTracker:t,provider:e});let i=!1;const s=new iS,o=sS({eth_subscribe:Tu(c),eth_unsubscribe:Tu(l)});return o.destroy=d,{events:s,middleware:o};async function c(C,m){if(i)throw new Error("SubscriptionManager - attempting to use after destroying");const x=C.params[0],A=aS(16);let P;switch(x){case"newHeads":P=L({subId:A});break;case"logs":const I=C.params[1],O=await n.newLogFilter(I);P=E({subId:A,filter:O});break;default:throw new Error(`SubscriptionManager - unsupported subscription type "${x}"`)}r[A]=P,m.result=A;return;function L({subId:I}){const O={type:x,destroy:async()=>{t.removeListener("sync",O.update)},update:async({oldBlock:U,newBlock:V})=>{const q=V,Z=cS(U);(await uS({provider:e,fromBlock:Z,toBlock:q})).map(hS).forEach(K=>{h(I,K)})}};return t.on("sync",O.update),O}function E({subId:I,filter:O}){return O.on("update",V=>h(I,V)),{type:x,destroy:async()=>await n.uninstallFilter(O.idHex)}}}async function l(C,m){if(i)throw new Error("SubscriptionManager - attempting to use after destroying");const x=C.params[0],A=r[x];if(!A){m.result=!1;return}delete r[x],await A.destroy(),m.result=!0}function h(C,m){s.emit("notification",{jsonrpc:"2.0",method:"eth_subscription",params:{subscription:C,result:m}})}function d(){s.removeAllListeners();for(const C in r)r[C].destroy(),delete r[C];i=!0}}function hS(t){return{hash:t.hash,parentHash:t.parentHash,sha3Uncles:t.sha3Uncles,miner:t.miner,stateRoot:t.stateRoot,transactionsRoot:t.transactionsRoot,receiptsRoot:t.receiptsRoot,logsBloom:t.logsBloom,difficulty:t.difficulty,number:t.number,gasLimit:t.gasLimit,gasUsed:t.gasUsed,nonce:t.nonce,mixHash:t.mixHash,timestamp:t.timestamp,extraData:t.extraData}}Object.defineProperty(Is,"__esModule",{value:!0});Is.SubscriptionManager=void 0;const dS=Yw,pS=lS,Ou=()=>{};class _S{constructor(e){const r=new dS({provider:e,pollingInterval:15e3,setSkipCacheFlag:!0}),{events:n,middleware:i}=pS({blockTracker:r,provider:e});this.events=n,this.subscriptionMiddleware=i}async handleRequest(e){const r={};return await this.subscriptionMiddleware(e,r,Ou,Ou),r}destroy(){this.subscriptionMiddleware.destroy()}}Is.SubscriptionManager=_S;var Xa=oe&&oe.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(dn,"__esModule",{value:!0});dn.CoinbaseWalletProvider=void 0;const gS=Xa(Cn),bS=Xa(ui.exports),ut=_s,Ho=An,Nu=Rn,Du=Ot,ae=J,Vo=Xa(U1),vS=Sn,_e=Zf,mS=Is,Pu="DefaultChainId",Lu="DefaultJsonRpcUrl",yS=[1,10,137,61,56,250,42161,100,43114,3,4,5,42,69,80001,97,4002,421611,43113];class wS extends gS.default{constructor(e){var r,n;super(),this._filterPolyfill=new vS.FilterPolyfill(this),this._subscriptionManager=new mS.SubscriptionManager(this),this._relay=null,this._addresses=[],this.hasMadeFirstChainChangedEmission=!1,this._send=this.send.bind(this),this._sendAsync=this.sendAsync.bind(this),this.setProviderInfo=this.setProviderInfo.bind(this),this.updateProviderInfo=this.updateProviderInfo.bind(this),this.getChainId=this.getChainId.bind(this),this.setAppInfo=this.setAppInfo.bind(this),this.enable=this.enable.bind(this),this.close=this.close.bind(this),this.send=this.send.bind(this),this.sendAsync=this.sendAsync.bind(this),this.request=this.request.bind(this),this._setAddresses=this._setAddresses.bind(this),this.scanQRCode=this.scanQRCode.bind(this),this.genericRequest=this.genericRequest.bind(this),this._chainIdFromOpts=e.chainId,this._jsonRpcUrlFromOpts=e.jsonRpcUrl,this._overrideIsMetaMask=e.overrideIsMetaMask,this._relayProvider=e.relayProvider,this._storage=e.storage,this._relayEventManager=e.relayEventManager,this.diagnostic=e.diagnosticLogger,this.reloadOnDisconnect=!0,this.isCoinbaseWallet=(r=e.overrideIsCoinbaseWallet)!==null&&r!==void 0?r:!0,this.isCoinbaseBrowser=(n=e.overrideIsCoinbaseBrowser)!==null&&n!==void 0?n:!1,this.qrUrl=e.qrUrl,this.supportsAddressSwitching=e.supportsAddressSwitching;const i=this.getChainId(),s=(0,ae.prepend0x)(i.toString(16));this.emit("connect",{chainIdStr:s});const o=this._storage.getItem(Du.LOCAL_STORAGE_ADDRESSES_KEY);if(o){const c=o.split(" ");c[0]!==""&&(this._addresses=c.map(l=>(0,ae.ensureAddressString)(l)),this.emit("accountsChanged",c))}this._subscriptionManager.events.on("notification",c=>{this.emit("message",{type:c.method,data:c.params})}),this._addresses.length>0&&this.initializeRelay(),window.addEventListener("message",c=>{var l;if(c.data.type==="walletLinkMessage"){if(c.data.data.action==="defaultChainChanged"||c.data.data.action==="dappChainSwitched"){const h=c.data.data.chainId,d=(l=c.data.data.jsonRpcUrl)!==null&&l!==void 0?l:this.jsonRpcUrl;this.updateProviderInfo(d,Number(h))}c.data.data.action==="addressChanged"&&this._setAddresses([c.data.data.address])}})}get selectedAddress(){return this._addresses[0]||void 0}get networkVersion(){return this.getChainId().toString(10)}get chainId(){return(0,ae.prepend0x)(this.getChainId().toString(16))}get isWalletLink(){return!0}get isMetaMask(){return this._overrideIsMetaMask}get host(){return this.jsonRpcUrl}get connected(){return!0}isConnected(){return!0}get jsonRpcUrl(){var e;return(e=this._storage.getItem(Lu))!==null&&e!==void 0?e:this._jsonRpcUrlFromOpts}set jsonRpcUrl(e){this._storage.setItem(Lu,e)}disableReloadOnDisconnect(){this.reloadOnDisconnect=!1}setProviderInfo(e,r){this._chainIdFromOpts=r,this._jsonRpcUrlFromOpts=e,this.updateProviderInfo(e,r)}updateProviderInfo(e,r){this.jsonRpcUrl=e;const n=this.getChainId();this._storage.setItem(Pu,r.toString(10)),((0,ae.ensureIntNumber)(r)!==n||!this.hasMadeFirstChainChangedEmission)&&(this.emit("chainChanged",this.getChainId()),this.hasMadeFirstChainChangedEmission=!0)}async watchAsset(e,r,n,i,s,o){return!!(await(await this.initializeRelay()).watchAsset(e,r,n,i,s,o==null?void 0:o.toString()).promise).result}async addEthereumChain(e,r,n,i,s,o){var c,l;if((0,ae.ensureIntNumber)(e)===this.getChainId())return!1;const h=await this.initializeRelay(),d=h.inlineAddEthereumChain(e.toString());!this._isAuthorized()&&!d&&await h.requestEthereumAccounts().promise;const C=await h.addEthereumChain(e.toString(),r,s,n,i,o).promise;return((c=C.result)===null||c===void 0?void 0:c.isApproved)===!0&&this.updateProviderInfo(r[0],e),((l=C.result)===null||l===void 0?void 0:l.isApproved)===!0}async switchEthereumChain(e){yS.includes(e)&&this.updateProviderInfo(this.jsonRpcUrl,e);const n=await(await this.initializeRelay()).switchEthereumChain(e.toString(10),this.selectedAddress||void 0).promise;if(n.errorCode)throw ut.ethErrors.provider.custom({code:n.errorCode});const i=n.result;i.isApproved&&i.rpcUrl.length>0&&this.updateProviderInfo(i.rpcUrl,e)}setAppInfo(e,r){this.initializeRelay().then(n=>n.setAppInfo(e,r))}async enable(){var e;return(e=this.diagnostic)===null||e===void 0||e.log(Ho.EVENTS.ETH_ACCOUNTS_STATE,{method:"provider::enable",addresses_length:this._addresses.length,sessionIdHash:this._relay?Nu.Session.hash(this._relay.session.id):void 0}),this._addresses.length>0?[...this._addresses]:await this._send(_e.JSONRPCMethod.eth_requestAccounts)}async close(){(await this.initializeRelay()).resetAndReload()}send(e,r){if(typeof e=="string"){const i=e,s=Array.isArray(r)?r:r!==void 0?[r]:[],o={jsonrpc:"2.0",id:0,method:i,params:s};return this._sendRequestAsync(o).then(c=>c.result)}if(typeof r=="function"){const i=e,s=r;return this._sendAsync(i,s)}if(Array.isArray(e))return e.map(s=>this._sendRequest(s));const n=e;return this._sendRequest(n)}async sendAsync(e,r){if(typeof r!="function")throw new Error("callback is required");if(Array.isArray(e)){const i=r;this._sendMultipleRequestsAsync(e).then(s=>i(null,s)).catch(s=>i(s,null));return}const n=r;return this._sendRequestAsync(e).then(i=>n(null,i)).catch(i=>n(i,null))}async request(e){if(!e||typeof e!="object"||Array.isArray(e))throw ut.ethErrors.rpc.invalidRequest({message:"Expected a single, non-array, object argument.",data:e});const{method:r,params:n}=e;if(typeof r!="string"||r.length===0)throw ut.ethErrors.rpc.invalidRequest({message:"'args.method' must be a non-empty string.",data:e});if(n!==void 0&&!Array.isArray(n)&&(typeof n!="object"||n===null))throw ut.ethErrors.rpc.invalidRequest({message:"'args.params' must be an object or array if provided.",data:e});const i=n===void 0?[]:n,s=this._relayEventManager.makeRequestId();return(await this._sendRequestAsync({method:r,params:i,jsonrpc:"2.0",id:s})).result}async scanQRCode(e){const n=await(await this.initializeRelay()).scanQRCode((0,ae.ensureRegExpString)(e)).promise;if(typeof n.result!="string")throw new Error("result was not a string");return n.result}async genericRequest(e,r){const i=await(await this.initializeRelay()).genericRequest(e,r).promise;if(typeof i.result!="string")throw new Error("result was not a string");return i.result}async selectProvider(e){const n=await(await this.initializeRelay()).selectProvider(e).promise;if(typeof n.result!="string")throw new Error("result was not a string");return n.result}supportsSubscriptions(){return!1}subscribe(){throw new Error("Subscriptions are not supported")}unsubscribe(){throw new Error("Subscriptions are not supported")}disconnect(){return!0}_sendRequest(e){const r={jsonrpc:"2.0",id:e.id},{method:n}=e;if(r.result=this._handleSynchronousMethods(e),r.result===void 0)throw new Error(`Coinbase Wallet does not support calling ${n} synchronously without a callback. Please provide a callback parameter to call ${n} asynchronously.`);return r}_setAddresses(e,r){if(!Array.isArray(e))throw new Error("addresses is not an array");const n=e.map(i=>(0,ae.ensureAddressString)(i));JSON.stringify(n)!==JSON.stringify(this._addresses)&&(this._addresses.length>0&&this.supportsAddressSwitching===!1&&!r||(this._addresses=n,this.emit("accountsChanged",this._addresses),this._storage.setItem(Du.LOCAL_STORAGE_ADDRESSES_KEY,n.join(" "))))}_sendRequestAsync(e){return new Promise((r,n)=>{try{const i=this._handleSynchronousMethods(e);if(i!==void 0)return r({jsonrpc:"2.0",id:e.id,result:i});const s=this._handleAsynchronousFilterMethods(e);if(s!==void 0){s.then(c=>r(Object.assign(Object.assign({},c),{id:e.id}))).catch(c=>n(c));return}const o=this._handleSubscriptionMethods(e);if(o!==void 0){o.then(c=>r({jsonrpc:"2.0",id:e.id,result:c.result})).catch(c=>n(c));return}}catch(i){return n(i)}this._handleAsynchronousMethods(e).then(i=>i&&r(Object.assign(Object.assign({},i),{id:e.id}))).catch(i=>n(i))})}_sendMultipleRequestsAsync(e){return Promise.all(e.map(r=>this._sendRequestAsync(r)))}_handleSynchronousMethods(e){const{method:r}=e,n=e.params||[];switch(r){case _e.JSONRPCMethod.eth_accounts:return this._eth_accounts();case _e.JSONRPCMethod.eth_coinbase:return this._eth_coinbase();case _e.JSONRPCMethod.eth_uninstallFilter:return this._eth_uninstallFilter(n);case _e.JSONRPCMethod.net_version:return this._net_version();case _e.JSONRPCMethod.eth_chainId:return this._eth_chainId();default:return}}async _handleAsynchronousMethods(e){const{method:r}=e,n=e.params||[];switch(r){case _e.JSONRPCMethod.eth_requestAccounts:return this._eth_requestAccounts();case _e.JSONRPCMethod.eth_sign:return this._eth_sign(n);case _e.JSONRPCMethod.eth_ecRecover:return this._eth_ecRecover(n);case _e.JSONRPCMethod.personal_sign:return this._personal_sign(n);case _e.JSONRPCMethod.personal_ecRecover:return this._personal_ecRecover(n);case _e.JSONRPCMethod.eth_signTransaction:return this._eth_signTransaction(n);case _e.JSONRPCMethod.eth_sendRawTransaction:return this._eth_sendRawTransaction(n);case _e.JSONRPCMethod.eth_sendTransaction:return this._eth_sendTransaction(n);case _e.JSONRPCMethod.eth_signTypedData_v1:return this._eth_signTypedData_v1(n);case _e.JSONRPCMethod.eth_signTypedData_v2:return this._throwUnsupportedMethodError();case _e.JSONRPCMethod.eth_signTypedData_v3:return this._eth_signTypedData_v3(n);case _e.JSONRPCMethod.eth_signTypedData_v4:case _e.JSONRPCMethod.eth_signTypedData:return this._eth_signTypedData_v4(n);case _e.JSONRPCMethod.cbWallet_arbitrary:return this._cbwallet_arbitrary(n);case _e.JSONRPCMethod.wallet_addEthereumChain:return this._wallet_addEthereumChain(n);case _e.JSONRPCMethod.wallet_switchEthereumChain:return this._wallet_switchEthereumChain(n);case _e.JSONRPCMethod.wallet_watchAsset:return this._wallet_watchAsset(n)}return(await this.initializeRelay()).makeEthereumJSONRPCRequest(e,this.jsonRpcUrl)}_handleAsynchronousFilterMethods(e){const{method:r}=e,n=e.params||[];switch(r){case _e.JSONRPCMethod.eth_newFilter:return this._eth_newFilter(n);case _e.JSONRPCMethod.eth_newBlockFilter:return this._eth_newBlockFilter();case _e.JSONRPCMethod.eth_newPendingTransactionFilter:return this._eth_newPendingTransactionFilter();case _e.JSONRPCMethod.eth_getFilterChanges:return this._eth_getFilterChanges(n);case _e.JSONRPCMethod.eth_getFilterLogs:return this._eth_getFilterLogs(n)}}_handleSubscriptionMethods(e){switch(e.method){case _e.JSONRPCMethod.eth_subscribe:case _e.JSONRPCMethod.eth_unsubscribe:return this._subscriptionManager.handleRequest(e)}}_isKnownAddress(e){try{const r=(0,ae.ensureAddressString)(e);return this._addresses.map(i=>(0,ae.ensureAddressString)(i)).includes(r)}catch{}return!1}_ensureKnownAddress(e){var r;if(!this._isKnownAddress(e))throw(r=this.diagnostic)===null||r===void 0||r.log(Ho.EVENTS.UNKNOWN_ADDRESS_ENCOUNTERED),new Error("Unknown Ethereum address")}_prepareTransactionParams(e){const r=e.from?(0,ae.ensureAddressString)(e.from):this.selectedAddress;if(!r)throw new Error("Ethereum address is unavailable");this._ensureKnownAddress(r);const n=e.to?(0,ae.ensureAddressString)(e.to):null,i=e.value!=null?(0,ae.ensureBN)(e.value):new bS.default(0),s=e.data?(0,ae.ensureBuffer)(e.data):Buffer.alloc(0),o=e.nonce!=null?(0,ae.ensureIntNumber)(e.nonce):null,c=e.gasPrice!=null?(0,ae.ensureBN)(e.gasPrice):null,l=e.maxFeePerGas!=null?(0,ae.ensureBN)(e.maxFeePerGas):null,h=e.maxPriorityFeePerGas!=null?(0,ae.ensureBN)(e.maxPriorityFeePerGas):null,d=e.gas!=null?(0,ae.ensureBN)(e.gas):null,C=this.getChainId();return{fromAddress:r,toAddress:n,weiValue:i,data:s,nonce:o,gasPriceInWei:c,maxFeePerGas:l,maxPriorityFeePerGas:h,gasLimit:d,chainId:C}}_isAuthorized(){return this._addresses.length>0}_requireAuthorization(){if(!this._isAuthorized())throw ut.ethErrors.provider.unauthorized({})}_throwUnsupportedMethodError(){throw ut.ethErrors.provider.unsupportedMethod({})}async _signEthereumMessage(e,r,n,i){this._ensureKnownAddress(r);try{const o=await(await this.initializeRelay()).signEthereumMessage(e,r,n,i).promise;return{jsonrpc:"2.0",id:0,result:o.result}}catch(s){throw typeof s.message=="string"&&s.message.match(/(denied|rejected)/i)?ut.ethErrors.provider.userRejectedRequest("User denied message signature"):s}}async _ethereumAddressFromSignedMessage(e,r,n){const s=await(await this.initializeRelay()).ethereumAddressFromSignedMessage(e,r,n).promise;return{jsonrpc:"2.0",id:0,result:s.result}}_eth_accounts(){return[...this._addresses]}_eth_coinbase(){return this.selectedAddress||null}_net_version(){return this.getChainId().toString(10)}_eth_chainId(){return(0,ae.hexStringFromIntNumber)(this.getChainId())}getChainId(){const e=this._storage.getItem(Pu);if(!e)return(0,ae.ensureIntNumber)(this._chainIdFromOpts);const r=parseInt(e,10);return(0,ae.ensureIntNumber)(r)}async _eth_requestAccounts(){var e;if((e=this.diagnostic)===null||e===void 0||e.log(Ho.EVENTS.ETH_ACCOUNTS_STATE,{method:"provider::_eth_requestAccounts",addresses_length:this._addresses.length,sessionIdHash:this._relay?Nu.Session.hash(this._relay.session.id):void 0}),this._addresses.length>0)return Promise.resolve({jsonrpc:"2.0",id:0,result:this._addresses});let r;try{r=await(await this.initializeRelay()).requestEthereumAccounts().promise}catch(n){throw typeof n.message=="string"&&n.message.match(/(denied|rejected)/i)?ut.ethErrors.provider.userRejectedRequest("User denied account authorization"):n}if(!r.result)throw new Error("accounts received is empty");return this._setAddresses(r.result),await this.switchEthereumChain(this.getChainId()),{jsonrpc:"2.0",id:0,result:this._addresses}}_eth_sign(e){this._requireAuthorization();const r=(0,ae.ensureAddressString)(e[0]),n=(0,ae.ensureBuffer)(e[1]);return this._signEthereumMessage(n,r,!1)}_eth_ecRecover(e){const r=(0,ae.ensureBuffer)(e[0]),n=(0,ae.ensureBuffer)(e[1]);return this._ethereumAddressFromSignedMessage(r,n,!1)}_personal_sign(e){this._requireAuthorization();const r=(0,ae.ensureBuffer)(e[0]),n=(0,ae.ensureAddressString)(e[1]);return this._signEthereumMessage(r,n,!0)}_personal_ecRecover(e){const r=(0,ae.ensureBuffer)(e[0]),n=(0,ae.ensureBuffer)(e[1]);return this._ethereumAddressFromSignedMessage(r,n,!0)}async _eth_signTransaction(e){this._requireAuthorization();const r=this._prepareTransactionParams(e[0]||{});try{const i=await(await this.initializeRelay()).signEthereumTransaction(r).promise;return{jsonrpc:"2.0",id:0,result:i.result}}catch(n){throw typeof n.message=="string"&&n.message.match(/(denied|rejected)/i)?ut.ethErrors.provider.userRejectedRequest("User denied transaction signature"):n}}async _eth_sendRawTransaction(e){const r=(0,ae.ensureBuffer)(e[0]),i=await(await this.initializeRelay()).submitEthereumTransaction(r,this.getChainId()).promise;return{jsonrpc:"2.0",id:0,result:i.result}}async _eth_sendTransaction(e){this._requireAuthorization();const r=this._prepareTransactionParams(e[0]||{});try{const i=await(await this.initializeRelay()).signAndSubmitEthereumTransaction(r).promise;return{jsonrpc:"2.0",id:0,result:i.result}}catch(n){throw typeof n.message=="string"&&n.message.match(/(denied|rejected)/i)?ut.ethErrors.provider.userRejectedRequest("User denied transaction signature"):n}}async _eth_signTypedData_v1(e){this._requireAuthorization();const r=(0,ae.ensureParsedJSONObject)(e[0]),n=(0,ae.ensureAddressString)(e[1]);this._ensureKnownAddress(n);const i=Vo.default.hashForSignTypedDataLegacy({data:r}),s=JSON.stringify(r,null,2);return this._signEthereumMessage(i,n,!1,s)}async _eth_signTypedData_v3(e){this._requireAuthorization();const r=(0,ae.ensureAddressString)(e[0]),n=(0,ae.ensureParsedJSONObject)(e[1]);this._ensureKnownAddress(r);const i=Vo.default.hashForSignTypedData_v3({data:n}),s=JSON.stringify(n,null,2);return this._signEthereumMessage(i,r,!1,s)}async _eth_signTypedData_v4(e){this._requireAuthorization();const r=(0,ae.ensureAddressString)(e[0]),n=(0,ae.ensureParsedJSONObject)(e[1]);this._ensureKnownAddress(r);const i=Vo.default.hashForSignTypedData_v4({data:n}),s=JSON.stringify(n,null,2);return this._signEthereumMessage(i,r,!1,s)}async _cbwallet_arbitrary(e){const r=e[0],n=e[1];if(typeof n!="string")throw new Error("parameter must be a string");if(typeof r!="object"||r===null)throw new Error("parameter must be an object");const i=await this.genericRequest(r,n);return{jsonrpc:"2.0",id:0,result:i}}async _wallet_addEthereumChain(e){var r,n,i,s;const o=e[0];if(((r=o.rpcUrls)===null||r===void 0?void 0:r.length)===0)return{jsonrpc:"2.0",id:0,error:{code:2,message:"please pass in at least 1 rpcUrl"}};if(!o.chainName||o.chainName.trim()==="")throw ut.ethErrors.provider.custom({code:0,message:"chainName is a required field"});if(!o.nativeCurrency)throw ut.ethErrors.provider.custom({code:0,message:"nativeCurrency is a required field"});const c=parseInt(o.chainId,16);return await this.addEthereumChain(c,(n=o.rpcUrls)!==null&&n!==void 0?n:[],(i=o.blockExplorerUrls)!==null&&i!==void 0?i:[],o.chainName,(s=o.iconUrls)!==null&&s!==void 0?s:[],o.nativeCurrency)?{jsonrpc:"2.0",id:0,result:null}:{jsonrpc:"2.0",id:0,error:{code:2,message:"unable to add ethereum chain"}}}async _wallet_switchEthereumChain(e){const r=e[0];return await this.switchEthereumChain(parseInt(r.chainId,16)),{jsonrpc:"2.0",id:0,result:null}}async _wallet_watchAsset(e){const r=Array.isArray(e)?e[0]:e;if(!r.type)throw ut.ethErrors.rpc.invalidParams({message:"Type is required"});if((r==null?void 0:r.type)!=="ERC20")throw ut.ethErrors.rpc.invalidParams({message:`Asset of type '${r.type}' is not supported`});if(!(r!=null&&r.options))throw ut.ethErrors.rpc.invalidParams({message:"Options are required"});if(!(r!=null&&r.options.address))throw ut.ethErrors.rpc.invalidParams({message:"Address is required"});const n=this.getChainId(),{address:i,symbol:s,image:o,decimals:c}=r.options,l=await this.watchAsset(r.type,i,s,c,o,n);return{jsonrpc:"2.0",id:0,result:l}}_eth_uninstallFilter(e){const r=(0,ae.ensureHexString)(e[0]);return this._filterPolyfill.uninstallFilter(r)}async _eth_newFilter(e){const r=e[0],n=await this._filterPolyfill.newFilter(r);return{jsonrpc:"2.0",id:0,result:n}}async _eth_newBlockFilter(){const e=await this._filterPolyfill.newBlockFilter();return{jsonrpc:"2.0",id:0,result:e}}async _eth_newPendingTransactionFilter(){const e=await this._filterPolyfill.newPendingTransactionFilter();return{jsonrpc:"2.0",id:0,result:e}}_eth_getFilterChanges(e){const r=(0,ae.ensureHexString)(e[0]);return this._filterPolyfill.getFilterChanges(r)}_eth_getFilterLogs(e){const r=(0,ae.ensureHexString)(e[0]);return this._filterPolyfill.getFilterLogs(r)}initializeRelay(){return this._relay?Promise.resolve(this._relay):this._relayProvider().then(e=>(e.setAccountsCallback((r,n)=>this._setAddresses(r,n)),e.setChainCallback((r,n)=>{this.updateProviderInfo(n,parseInt(r,10))}),e.setDappDefaultChainCallback(this._chainIdFromOpts),this._relay=e,e))}}dn.CoinbaseWalletProvider=wS;var $s={},Ws={},Ci,se,Sh,Eh,Yn,ju,kh,os={},xh=[],SS=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i;function qt(t,e){for(var r in e)t[r]=e[r];return t}function Mh(t){var e=t.parentNode;e&&e.removeChild(t)}function ba(t,e,r){var n,i,s,o={};for(s in e)s=="key"?n=e[s]:s=="ref"?i=e[s]:o[s]=e[s];if(arguments.length>2&&(o.children=arguments.length>3?Ci.call(arguments,2):r),typeof t=="function"&&t.defaultProps!=null)for(s in t.defaultProps)o[s]===void 0&&(o[s]=t.defaultProps[s]);return Jn(t,o,n,i,null)}function Jn(t,e,r,n,i){var s={type:t,props:e,key:r,ref:n,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,__h:null,constructor:void 0,__v:i==null?++Sh:i};return i==null&&se.vnode!=null&&se.vnode(s),s}function ES(){return{current:null}}function Ai(t){return t.children}function Xn(t,e){this.props=t,this.context=e}function En(t,e){if(e==null)return t.__?En(t.__,t.__.__k.indexOf(t)+1):null;for(var r;e<t.__k.length;e++)if((r=t.__k[e])!=null&&r.__e!=null)return r.__e;return typeof t.type=="function"?En(t):null}function Ch(t){var e,r;if((t=t.__)!=null&&t.__c!=null){for(t.__e=t.__c.base=null,e=0;e<t.__k.length;e++)if((r=t.__k[e])!=null&&r.__e!=null){t.__e=t.__c.base=r.__e;break}return Ch(t)}}function va(t){(!t.__d&&(t.__d=!0)&&Yn.push(t)&&!as.__r++||ju!==se.debounceRendering)&&((ju=se.debounceRendering)||setTimeout)(as)}function as(){for(var t;as.__r=Yn.length;)t=Yn.sort(function(e,r){return e.__v.__b-r.__v.__b}),Yn=[],t.some(function(e){var r,n,i,s,o,c;e.__d&&(o=(s=(r=e).__v).__e,(c=r.__P)&&(n=[],(i=qt({},s)).__v=s.__v+1,ec(c,s,i,r.__n,c.ownerSVGElement!==void 0,s.__h!=null?[o]:null,n,o==null?En(s):o,s.__h),Oh(n,s),s.__e!=o&&Ch(s)))})}function Ah(t,e,r,n,i,s,o,c,l,h){var d,C,m,x,A,P,L,E=n&&n.__k||xh,I=E.length;for(r.__k=[],d=0;d<e.length;d++)if((x=r.__k[d]=(x=e[d])==null||typeof x=="boolean"?null:typeof x=="string"||typeof x=="number"||typeof x=="bigint"?Jn(null,x,null,null,x):Array.isArray(x)?Jn(Ai,{children:x},null,null,null):x.__b>0?Jn(x.type,x.props,x.key,null,x.__v):x)!=null){if(x.__=r,x.__b=r.__b+1,(m=E[d])===null||m&&x.key==m.key&&x.type===m.type)E[d]=void 0;else for(C=0;C<I;C++){if((m=E[C])&&x.key==m.key&&x.type===m.type){E[C]=void 0;break}m=null}ec(t,x,m=m||os,i,s,o,c,l,h),A=x.__e,(C=x.ref)&&m.ref!=C&&(L||(L=[]),m.ref&&L.push(m.ref,null,x),L.push(C,x.__c||A,x)),A!=null?(P==null&&(P=A),typeof x.type=="function"&&x.__k===m.__k?x.__d=l=Rh(x,l,t):l=Th(t,x,m,E,A,l),typeof r.type=="function"&&(r.__d=l)):l&&m.__e==l&&l.parentNode!=t&&(l=En(m))}for(r.__e=P,d=I;d--;)E[d]!=null&&(typeof r.type=="function"&&E[d].__e!=null&&E[d].__e==r.__d&&(r.__d=En(n,d+1)),Dh(E[d],E[d]));if(L)for(d=0;d<L.length;d++)Nh(L[d],L[++d],L[++d])}function Rh(t,e,r){for(var n,i=t.__k,s=0;i&&s<i.length;s++)(n=i[s])&&(n.__=t,e=typeof n.type=="function"?Rh(n,e,r):Th(r,n,n,i,n.__e,e));return e}function Ih(t,e){return e=e||[],t==null||typeof t=="boolean"||(Array.isArray(t)?t.some(function(r){Ih(r,e)}):e.push(t)),e}function Th(t,e,r,n,i,s){var o,c,l;if(e.__d!==void 0)o=e.__d,e.__d=void 0;else if(r==null||i!=s||i.parentNode==null)e:if(s==null||s.parentNode!==t)t.appendChild(i),o=null;else{for(c=s,l=0;(c=c.nextSibling)&&l<n.length;l+=2)if(c==i)break e;t.insertBefore(i,s),o=s}return o!==void 0?o:i.nextSibling}function kS(t,e,r,n,i){var s;for(s in r)s==="children"||s==="key"||s in e||cs(t,s,null,r[s],n);for(s in e)i&&typeof e[s]!="function"||s==="children"||s==="key"||s==="value"||s==="checked"||r[s]===e[s]||cs(t,s,e[s],r[s],n)}function Bu(t,e,r){e[0]==="-"?t.setProperty(e,r):t[e]=r==null?"":typeof r!="number"||SS.test(e)?r:r+"px"}function cs(t,e,r,n,i){var s;e:if(e==="style")if(typeof r=="string")t.style.cssText=r;else{if(typeof n=="string"&&(t.style.cssText=n=""),n)for(e in n)r&&e in r||Bu(t.style,e,"");if(r)for(e in r)n&&r[e]===n[e]||Bu(t.style,e,r[e])}else if(e[0]==="o"&&e[1]==="n")s=e!==(e=e.replace(/Capture$/,"")),e=e.toLowerCase()in t?e.toLowerCase().slice(2):e.slice(2),t.l||(t.l={}),t.l[e+s]=r,r?n||t.addEventListener(e,s?Uu:Fu,s):t.removeEventListener(e,s?Uu:Fu,s);else if(e!=="dangerouslySetInnerHTML"){if(i)e=e.replace(/xlink(H|:h)/,"h").replace(/sName$/,"s");else if(e!=="href"&&e!=="list"&&e!=="form"&&e!=="tabIndex"&&e!=="download"&&e in t)try{t[e]=r==null?"":r;break e}catch{}typeof r=="function"||(r!=null&&(r!==!1||e[0]==="a"&&e[1]==="r")?t.setAttribute(e,r):t.removeAttribute(e))}}function Fu(t){this.l[t.type+!1](se.event?se.event(t):t)}function Uu(t){this.l[t.type+!0](se.event?se.event(t):t)}function ec(t,e,r,n,i,s,o,c,l){var h,d,C,m,x,A,P,L,E,I,O,U,V,q=e.type;if(e.constructor!==void 0)return null;r.__h!=null&&(l=r.__h,c=e.__e=r.__e,e.__h=null,s=[c]),(h=se.__b)&&h(e);try{e:if(typeof q=="function"){if(L=e.props,E=(h=q.contextType)&&n[h.__c],I=h?E?E.props.value:h.__:n,r.__c?P=(d=e.__c=r.__c).__=d.__E:("prototype"in q&&q.prototype.render?e.__c=d=new q(L,I):(e.__c=d=new Xn(L,I),d.constructor=q,d.render=MS),E&&E.sub(d),d.props=L,d.state||(d.state={}),d.context=I,d.__n=n,C=d.__d=!0,d.__h=[]),d.__s==null&&(d.__s=d.state),q.getDerivedStateFromProps!=null&&(d.__s==d.state&&(d.__s=qt({},d.__s)),qt(d.__s,q.getDerivedStateFromProps(L,d.__s))),m=d.props,x=d.state,C)q.getDerivedStateFromProps==null&&d.componentWillMount!=null&&d.componentWillMount(),d.componentDidMount!=null&&d.__h.push(d.componentDidMount);else{if(q.getDerivedStateFromProps==null&&L!==m&&d.componentWillReceiveProps!=null&&d.componentWillReceiveProps(L,I),!d.__e&&d.shouldComponentUpdate!=null&&d.shouldComponentUpdate(L,d.__s,I)===!1||e.__v===r.__v){d.props=L,d.state=d.__s,e.__v!==r.__v&&(d.__d=!1),d.__v=e,e.__e=r.__e,e.__k=r.__k,e.__k.forEach(function(Z){Z&&(Z.__=e)}),d.__h.length&&o.push(d);break e}d.componentWillUpdate!=null&&d.componentWillUpdate(L,d.__s,I),d.componentDidUpdate!=null&&d.__h.push(function(){d.componentDidUpdate(m,x,A)})}if(d.context=I,d.props=L,d.__v=e,d.__P=t,O=se.__r,U=0,"prototype"in q&&q.prototype.render)d.state=d.__s,d.__d=!1,O&&O(e),h=d.render(d.props,d.state,d.context);else do d.__d=!1,O&&O(e),h=d.render(d.props,d.state,d.context),d.state=d.__s;while(d.__d&&++U<25);d.state=d.__s,d.getChildContext!=null&&(n=qt(qt({},n),d.getChildContext())),C||d.getSnapshotBeforeUpdate==null||(A=d.getSnapshotBeforeUpdate(m,x)),V=h!=null&&h.type===Ai&&h.key==null?h.props.children:h,Ah(t,Array.isArray(V)?V:[V],e,r,n,i,s,o,c,l),d.base=e.__e,e.__h=null,d.__h.length&&o.push(d),P&&(d.__E=d.__=null),d.__e=!1}else s==null&&e.__v===r.__v?(e.__k=r.__k,e.__e=r.__e):e.__e=xS(r.__e,e,r,n,i,s,o,l);(h=se.diffed)&&h(e)}catch(Z){e.__v=null,(l||s!=null)&&(e.__e=c,e.__h=!!l,s[s.indexOf(c)]=null),se.__e(Z,e,r)}}function Oh(t,e){se.__c&&se.__c(e,t),t.some(function(r){try{t=r.__h,r.__h=[],t.some(function(n){n.call(r)})}catch(n){se.__e(n,r.__v)}})}function xS(t,e,r,n,i,s,o,c){var l,h,d,C=r.props,m=e.props,x=e.type,A=0;if(x==="svg"&&(i=!0),s!=null){for(;A<s.length;A++)if((l=s[A])&&"setAttribute"in l==!!x&&(x?l.localName===x:l.nodeType===3)){t=l,s[A]=null;break}}if(t==null){if(x===null)return document.createTextNode(m);t=i?document.createElementNS("http://www.w3.org/2000/svg",x):document.createElement(x,m.is&&m),s=null,c=!1}if(x===null)C===m||c&&t.data===m||(t.data=m);else{if(s=s&&Ci.call(t.childNodes),h=(C=r.props||os).dangerouslySetInnerHTML,d=m.dangerouslySetInnerHTML,!c){if(s!=null)for(C={},A=0;A<t.attributes.length;A++)C[t.attributes[A].name]=t.attributes[A].value;(d||h)&&(d&&(h&&d.__html==h.__html||d.__html===t.innerHTML)||(t.innerHTML=d&&d.__html||""))}if(kS(t,m,C,i,c),d)e.__k=[];else if(A=e.props.children,Ah(t,Array.isArray(A)?A:[A],e,r,n,i&&x!=="foreignObject",s,o,s?s[0]:r.__k&&En(r,0),c),s!=null)for(A=s.length;A--;)s[A]!=null&&Mh(s[A]);c||("value"in m&&(A=m.value)!==void 0&&(A!==t.value||x==="progress"&&!A||x==="option"&&A!==C.value)&&cs(t,"value",A,C.value,!1),"checked"in m&&(A=m.checked)!==void 0&&A!==t.checked&&cs(t,"checked",A,C.checked,!1))}return t}function Nh(t,e,r){try{typeof t=="function"?t(e):t.current=e}catch(n){se.__e(n,r)}}function Dh(t,e,r){var n,i;if(se.unmount&&se.unmount(t),(n=t.ref)&&(n.current&&n.current!==t.__e||Nh(n,null,e)),(n=t.__c)!=null){if(n.componentWillUnmount)try{n.componentWillUnmount()}catch(s){se.__e(s,e)}n.base=n.__P=null}if(n=t.__k)for(i=0;i<n.length;i++)n[i]&&Dh(n[i],e,typeof t.type!="function");r||t.__e==null||Mh(t.__e),t.__e=t.__d=void 0}function MS(t,e,r){return this.constructor(t,r)}function Ph(t,e,r){var n,i,s;se.__&&se.__(t,e),i=(n=typeof r=="function")?null:r&&r.__k||e.__k,s=[],ec(e,t=(!n&&r||e).__k=ba(Ai,null,[t]),i||os,os,e.ownerSVGElement!==void 0,!n&&r?[r]:i?null:e.firstChild?Ci.call(e.childNodes):null,s,!n&&r?r:i?i.__e:e.firstChild,n),Oh(s,t)}function Lh(t,e){Ph(t,e,Lh)}function CS(t,e,r){var n,i,s,o=qt({},t.props);for(s in e)s=="key"?n=e[s]:s=="ref"?i=e[s]:o[s]=e[s];return arguments.length>2&&(o.children=arguments.length>3?Ci.call(arguments,2):r),Jn(t.type,o,n||t.key,i||t.ref,null)}function AS(t,e){var r={__c:e="__cC"+kh++,__:t,Consumer:function(n,i){return n.children(i)},Provider:function(n){var i,s;return this.getChildContext||(i=[],(s={})[e]=this,this.getChildContext=function(){return s},this.shouldComponentUpdate=function(o){this.props.value!==o.value&&i.some(va)},this.sub=function(o){i.push(o);var c=o.componentWillUnmount;o.componentWillUnmount=function(){i.splice(i.indexOf(o),1),c&&c.call(o)}}),n.children}};return r.Provider.__=r.Consumer.contextType=r}Ci=xh.slice,se={__e:function(t,e,r,n){for(var i,s,o;e=e.__;)if((i=e.__c)&&!i.__)try{if((s=i.constructor)&&s.getDerivedStateFromError!=null&&(i.setState(s.getDerivedStateFromError(t)),o=i.__d),i.componentDidCatch!=null&&(i.componentDidCatch(t,n||{}),o=i.__d),o)return i.__E=i}catch(c){t=c}throw t}},Sh=0,Eh=function(t){return t!=null&&t.constructor===void 0},Xn.prototype.setState=function(t,e){var r;r=this.__s!=null&&this.__s!==this.state?this.__s:this.__s=qt({},this.state),typeof t=="function"&&(t=t(qt({},r),this.props)),t&&qt(r,t),t!=null&&this.__v&&(e&&this.__h.push(e),va(this))},Xn.prototype.forceUpdate=function(t){this.__v&&(this.__e=!0,t&&this.__h.push(t),va(this))},Xn.prototype.render=Ai,Yn=[],as.__r=0,kh=0;const RS=Object.freeze(Object.defineProperty({__proto__:null,render:Ph,hydrate:Lh,createElement:ba,h:ba,Fragment:Ai,createRef:ES,get isValidElement(){return Eh},Component:Xn,cloneElement:CS,createContext:AS,toChildArray:Ih,get options(){return se}},Symbol.toStringTag,{value:"Module"})),Ri=ci(RS);var Hs={};function jh(t){var e,r,n="";if(typeof t=="string"||typeof t=="number")n+=t;else if(typeof t=="object")if(Array.isArray(t))for(e=0;e<t.length;e++)t[e]&&(r=jh(t[e]))&&(n&&(n+=" "),n+=r);else for(e in t)t[e]&&(n&&(n+=" "),n+=e);return n}function $u(){for(var t,e,r=0,n="";r<arguments.length;)(t=arguments[r++])&&(e=jh(t))&&(n&&(n+=" "),n+=e);return n}const IS=Object.freeze(Object.defineProperty({__proto__:null,clsx:$u,default:$u},Symbol.toStringTag,{value:"Module"})),Bh=ci(IS);var $r,Ge,qo,Wu,kn=0,Fh=[],zi=[],Hu=se.__b,Vu=se.__r,qu=se.diffed,zu=se.__c,Gu=se.unmount;function jn(t,e){se.__h&&se.__h(Ge,t,kn||e),kn=0;var r=Ge.__H||(Ge.__H={__:[],__h:[]});return t>=r.__.length&&r.__.push({__V:zi}),r.__[t]}function Uh(t){return kn=1,$h(Hh,t)}function $h(t,e,r){var n=jn($r++,2);if(n.t=t,!n.__c&&(n.__=[r?r(e):Hh(void 0,e),function(s){var o=n.__N?n.__N[0]:n.__[0],c=n.t(o,s);o!==c&&(n.__N=[c,n.__[1]],n.__c.setState({}))}],n.__c=Ge,!Ge.u)){Ge.u=!0;var i=Ge.shouldComponentUpdate;Ge.shouldComponentUpdate=function(s,o,c){if(!n.__c.__H)return!0;var l=n.__c.__H.__.filter(function(d){return d.__c});if(l.every(function(d){return!d.__N}))return!i||i.call(this,s,o,c);var h=!1;return l.forEach(function(d){if(d.__N){var C=d.__[0];d.__=d.__N,d.__N=void 0,C!==d.__[0]&&(h=!0)}}),!!h&&(!i||i.call(this,s,o,c))}}return n.__N||n.__}function TS(t,e){var r=jn($r++,3);!se.__s&&rc(r.__H,e)&&(r.__=t,r.i=e,Ge.__H.__h.push(r))}function Wh(t,e){var r=jn($r++,4);!se.__s&&rc(r.__H,e)&&(r.__=t,r.i=e,Ge.__h.push(r))}function OS(t){return kn=5,tc(function(){return{current:t}},[])}function NS(t,e,r){kn=6,Wh(function(){return typeof t=="function"?(t(e()),function(){return t(null)}):t?(t.current=e(),function(){return t.current=null}):void 0},r==null?r:r.concat(t))}function tc(t,e){var r=jn($r++,7);return rc(r.__H,e)?(r.__V=t(),r.i=e,r.__h=t,r.__V):r.__}function DS(t,e){return kn=8,tc(function(){return t},e)}function PS(t){var e=Ge.context[t.__c],r=jn($r++,9);return r.c=t,e?(r.__==null&&(r.__=!0,e.sub(Ge)),e.props.value):t.__}function LS(t,e){se.useDebugValue&&se.useDebugValue(e?e(t):t)}function jS(t){var e=jn($r++,10),r=Uh();return e.__=t,Ge.componentDidCatch||(Ge.componentDidCatch=function(n){e.__&&e.__(n),r[1](n)}),[r[0],function(){r[1](void 0)}]}function BS(){for(var t;t=Fh.shift();)if(t.__P&&t.__H)try{t.__H.__h.forEach(Gi),t.__H.__h.forEach(ma),t.__H.__h=[]}catch(e){t.__H.__h=[],se.__e(e,t.__v)}}se.__b=function(t){Ge=null,Hu&&Hu(t)},se.__r=function(t){Vu&&Vu(t),$r=0;var e=(Ge=t.__c).__H;e&&(qo===Ge?(e.__h=[],Ge.__h=[],e.__.forEach(function(r){r.__N&&(r.__=r.__N),r.__V=zi,r.__N=r.i=void 0})):(e.__h.forEach(Gi),e.__h.forEach(ma),e.__h=[])),qo=Ge},se.diffed=function(t){qu&&qu(t);var e=t.__c;e&&e.__H&&(e.__H.__h.length&&(Fh.push(e)!==1&&Wu===se.requestAnimationFrame||((Wu=se.requestAnimationFrame)||function(r){var n,i=function(){clearTimeout(s),Zu&&cancelAnimationFrame(n),setTimeout(r)},s=setTimeout(i,100);Zu&&(n=requestAnimationFrame(i))})(BS)),e.__H.__.forEach(function(r){r.i&&(r.__H=r.i),r.__V!==zi&&(r.__=r.__V),r.i=void 0,r.__V=zi})),qo=Ge=null},se.__c=function(t,e){e.some(function(r){try{r.__h.forEach(Gi),r.__h=r.__h.filter(function(n){return!n.__||ma(n)})}catch(n){e.some(function(i){i.__h&&(i.__h=[])}),e=[],se.__e(n,r.__v)}}),zu&&zu(t,e)},se.unmount=function(t){Gu&&Gu(t);var e,r=t.__c;r&&r.__H&&(r.__H.__.forEach(function(n){try{Gi(n)}catch(i){e=i}}),e&&se.__e(e,r.__v))};var Zu=typeof requestAnimationFrame=="function";function Gi(t){var e=Ge,r=t.__c;typeof r=="function"&&(t.__c=void 0,r()),Ge=e}function ma(t){var e=Ge;t.__c=t.__(),Ge=e}function rc(t,e){return!t||t.length!==e.length||e.some(function(r,n){return r!==t[n]})}function Hh(t,e){return typeof e=="function"?e(t):e}const FS=Object.freeze(Object.defineProperty({__proto__:null,useState:Uh,useReducer:$h,useEffect:TS,useLayoutEffect:Wh,useRef:OS,useImperativeHandle:NS,useMemo:tc,useCallback:DS,useContext:PS,useDebugValue:LS,useErrorBoundary:jS},Symbol.toStringTag,{value:"Module"})),nc=ci(FS);var Vs={};Object.defineProperty(Vs,"__esModule",{value:!0});Vs.LIB_VERSION=void 0;Vs.LIB_VERSION="3.5.1";var ic={};Object.defineProperty(ic,"__esModule",{value:!0});ic.default="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTYiIGhlaWdodD0iMTYiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHBhdGggZD0iTTggMEMzLjU4IDAgMCAzLjU4IDAgOHMzLjU4IDggOCA4IDgtMy41OCA4LTgtMy41OC04LTgtOFptNS45MSA3aC0xLjk0Yy0uMS0xLjU3LS40Mi0zLS45MS00LjE1IDEuNDguODggMi41NSAyLjM4IDIuODUgNC4xNVpNOCAxNGMtLjQ1IDAtMS43Mi0xLjc3LTEuOTUtNWgzLjljLS4yMyAzLjIzLTEuNSA1LTEuOTUgNVpNNi4wNSA3QzYuMjggMy43NyA3LjU1IDIgOCAyYy40NSAwIDEuNzIgMS43NyAxLjk1IDVoLTMuOVpNNC45NCAyLjg1QzQuNDYgNCA0LjEzIDUuNDMgNC4wMyA3SDIuMDljLjMtMS43NyAxLjM3LTMuMjcgMi44NS00LjE1Wk0yLjA5IDloMS45NGMuMSAxLjU3LjQyIDMgLjkxIDQuMTVBNS45OTggNS45OTggMCAwIDEgMi4wOSA5Wm04Ljk3IDQuMTVjLjQ4LTEuMTUuODEtMi41OC45MS00LjE1aDEuOTRhNS45OTggNS45OTggMCAwIDEtMi44NSA0LjE1WiIgZmlsbD0iIzE2NTJGMCIvPjwvc3ZnPg==";var sc={};Object.defineProperty(sc,"__esModule",{value:!0});sc.default="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTciIGhlaWdodD0iMTciIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHBhdGggZD0iTTE1LjYzNSAyLjExN2EzLjg4OSAzLjg4OSAwIDAgMC01LjUyMSAwTDYuODkgNS4zMzVBMy44OTQgMy44OTQgMCAwIDAgNS44IDguNzM5Yy4wODMuNTA2LjI2OCAxLjAxMS41NTMgMS40NjYuMTUxLjI1My4zMzYuNDcyLjUzNy42OTFsLjYyMS42MjQgMS4xNDEtMS4xNDYtLjYyLS42MjRhMi4xMDUgMi4xMDUgMCAwIDEtLjQ4Ny0uNzQxIDIuMzQgMi4zNCAwIDAgMSAuNTAzLTIuNTFsMy4yMDYtMy4yMmEyLjI5MyAyLjI5MyAwIDAgMSAzLjIzOSAwYy44OS44OTQuODkgMi4zNDMgMCAzLjI1M2wtMS41MjcgMS41MzNjLjIzNC42NC4zMzUgMS4zMzEuMzAyIDIuMDA1bDIuMzgzLTIuMzkyYzEuNTEtMS41MzQgMS40OTMtNC4wMjgtLjAxNy01LjU2MVoiIGZpbGw9IiMxNjUyRjAiLz48cGF0aCBkPSJNMTEuMjcxIDcuNzQ1YTMuMTMgMy4xMyAwIDAgMC0uNTU0LS42OWwtLjYyLS42MjQtMS4xNDIgMS4xNDYuNjIxLjYyM2MuMjE4LjIyLjM4Ni40ODkuNDg3Ljc1OC4zMzUuODI2LjE2NyAxLjgyLS41MDQgMi40OTRsLTMuMjA1IDMuMjE5YTIuMjkzIDIuMjkzIDAgMCAxLTMuMjQgMCAyLjMxNiAyLjMxNiAwIDAgMSAwLTMuMjUybDEuNTI4LTEuNTM0YTQuODE1IDQuODE1IDAgMCAxLS4yODUtMi4wMDVsLTIuMzgzIDIuMzkzYTMuOTI3IDMuOTI3IDAgMCAwIDAgNS41NDQgMy45MDkgMy45MDkgMCAwIDAgNS41MzggMGwzLjIwNS0zLjIxOWEzLjk1OCAzLjk1OCAwIDAgMCAxLjA5MS0zLjQwNCA0LjIxMSA0LjIxMSAwIDAgMC0uNTM3LTEuNDQ5WiIgZmlsbD0iIzE2NTJGMCIvPjwvc3ZnPg==";var oc={};Object.defineProperty(oc,"__esModule",{value:!0});oc.default="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTYiIGhlaWdodD0iMTYiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHBhdGggZD0iTTEgN3Y5aDE0VjdIMVptNy41IDQuMzlWMTRoLTF2LTIuNjFjLS40NC0uMTktLjc1LS42My0uNzUtMS4xNGExLjI1IDEuMjUgMCAwIDEgMi41IDBjMCAuNTEtLjMxLjk1LS43NSAxLjE0Wk01LjY3IDZWNC4zM0M1LjY3IDMuMDUgNi43MSAyIDggMnMyLjMzIDEuMDUgMi4zMyAyLjMzVjZoMlY0LjMzQzEyLjMzIDEuOTQgMTAuMzkgMCA4IDBTMy42NyAxLjk0IDMuNjcgNC4zM1Y2aDJaIiBmaWxsPSIjMTY1MkYwIi8+PC9zdmc+";var ac={};Object.defineProperty(ac,"__esModule",{value:!0});ac.default=`<svg width="100" height="100" viewBox="0 0 100 100" fill="none" xmlns="http://www.w3.org/2000/svg">
<circle cx="50" cy="50" r="50" fill="white"/>
<circle cx="49.9996" cy="49.9996" r="43.6363" fill="#1B53E4"/>
<circle cx="49.9996" cy="49.9996" r="43.6363" stroke="white"/>
<path fill-rule="evenodd" clip-rule="evenodd" d="M19.3379 49.9484C19.3379 66.8508 33.04 80.553 49.9425 80.553C66.8449 80.553 80.5471 66.8508 80.5471 49.9484C80.5471 33.0459 66.8449 19.3438 49.9425 19.3438C33.04 19.3438 19.3379 33.0459 19.3379 49.9484ZM44.0817 40.0799C41.8725 40.0799 40.0817 41.8708 40.0817 44.0799V55.8029C40.0817 58.012 41.8725 59.8029 44.0817 59.8029H55.8046C58.0138 59.8029 59.8046 58.012 59.8046 55.8029V44.0799C59.8046 41.8708 58.0138 40.0799 55.8046 40.0799H44.0817Z" fill="white"/>
</svg>

`;var qs={};function Vh(t){this.mode=vt.MODE_8BIT_BYTE,this.data=t,this.parsedData=[];for(var e=0,r=this.data.length;e<r;e++){var n=[],i=this.data.charCodeAt(e);i>65536?(n[0]=240|(i&1835008)>>>18,n[1]=128|(i&258048)>>>12,n[2]=128|(i&4032)>>>6,n[3]=128|i&63):i>2048?(n[0]=224|(i&61440)>>>12,n[1]=128|(i&4032)>>>6,n[2]=128|i&63):i>128?(n[0]=192|(i&1984)>>>6,n[1]=128|i&63):n[0]=i,this.parsedData.push(n)}this.parsedData=Array.prototype.concat.apply([],this.parsedData),this.parsedData.length!=this.data.length&&(this.parsedData.unshift(191),this.parsedData.unshift(187),this.parsedData.unshift(239))}Vh.prototype={getLength:function(t){return this.parsedData.length},write:function(t){for(var e=0,r=this.parsedData.length;e<r;e++)t.put(this.parsedData[e],8)}};function Ft(t,e){this.typeNumber=t,this.errorCorrectLevel=e,this.modules=null,this.moduleCount=0,this.dataCache=null,this.dataList=[]}Ft.prototype={addData:function(t){var e=new Vh(t);this.dataList.push(e),this.dataCache=null},isDark:function(t,e){if(t<0||this.moduleCount<=t||e<0||this.moduleCount<=e)throw new Error(t+","+e);return this.modules[t][e]},getModuleCount:function(){return this.moduleCount},make:function(){this.makeImpl(!1,this.getBestMaskPattern())},makeImpl:function(t,e){this.moduleCount=this.typeNumber*4+17,this.modules=new Array(this.moduleCount);for(var r=0;r<this.moduleCount;r++){this.modules[r]=new Array(this.moduleCount);for(var n=0;n<this.moduleCount;n++)this.modules[r][n]=null}this.setupPositionProbePattern(0,0),this.setupPositionProbePattern(this.moduleCount-7,0),this.setupPositionProbePattern(0,this.moduleCount-7),this.setupPositionAdjustPattern(),this.setupTimingPattern(),this.setupTypeInfo(t,e),this.typeNumber>=7&&this.setupTypeNumber(t),this.dataCache==null&&(this.dataCache=Ft.createData(this.typeNumber,this.errorCorrectLevel,this.dataList)),this.mapData(this.dataCache,e)},setupPositionProbePattern:function(t,e){for(var r=-1;r<=7;r++)if(!(t+r<=-1||this.moduleCount<=t+r))for(var n=-1;n<=7;n++)e+n<=-1||this.moduleCount<=e+n||(0<=r&&r<=6&&(n==0||n==6)||0<=n&&n<=6&&(r==0||r==6)||2<=r&&r<=4&&2<=n&&n<=4?this.modules[t+r][e+n]=!0:this.modules[t+r][e+n]=!1)},getBestMaskPattern:function(){for(var t=0,e=0,r=0;r<8;r++){this.makeImpl(!0,r);var n=Ze.getLostPoint(this);(r==0||t>n)&&(t=n,e=r)}return e},createMovieClip:function(t,e,r){var n=t.createEmptyMovieClip(e,r),i=1;this.make();for(var s=0;s<this.modules.length;s++)for(var o=s*i,c=0;c<this.modules[s].length;c++){var l=c*i,h=this.modules[s][c];h&&(n.beginFill(0,100),n.moveTo(l,o),n.lineTo(l+i,o),n.lineTo(l+i,o+i),n.lineTo(l,o+i),n.endFill())}return n},setupTimingPattern:function(){for(var t=8;t<this.moduleCount-8;t++)this.modules[t][6]==null&&(this.modules[t][6]=t%2==0);for(var e=8;e<this.moduleCount-8;e++)this.modules[6][e]==null&&(this.modules[6][e]=e%2==0)},setupPositionAdjustPattern:function(){for(var t=Ze.getPatternPosition(this.typeNumber),e=0;e<t.length;e++)for(var r=0;r<t.length;r++){var n=t[e],i=t[r];if(this.modules[n][i]==null)for(var s=-2;s<=2;s++)for(var o=-2;o<=2;o++)s==-2||s==2||o==-2||o==2||s==0&&o==0?this.modules[n+s][i+o]=!0:this.modules[n+s][i+o]=!1}},setupTypeNumber:function(t){for(var e=Ze.getBCHTypeNumber(this.typeNumber),r=0;r<18;r++){var n=!t&&(e>>r&1)==1;this.modules[Math.floor(r/3)][r%3+this.moduleCount-8-3]=n}for(var r=0;r<18;r++){var n=!t&&(e>>r&1)==1;this.modules[r%3+this.moduleCount-8-3][Math.floor(r/3)]=n}},setupTypeInfo:function(t,e){for(var r=this.errorCorrectLevel<<3|e,n=Ze.getBCHTypeInfo(r),i=0;i<15;i++){var s=!t&&(n>>i&1)==1;i<6?this.modules[i][8]=s:i<8?this.modules[i+1][8]=s:this.modules[this.moduleCount-15+i][8]=s}for(var i=0;i<15;i++){var s=!t&&(n>>i&1)==1;i<8?this.modules[8][this.moduleCount-i-1]=s:i<9?this.modules[8][15-i-1+1]=s:this.modules[8][15-i-1]=s}this.modules[this.moduleCount-8][8]=!t},mapData:function(t,e){for(var r=-1,n=this.moduleCount-1,i=7,s=0,o=this.moduleCount-1;o>0;o-=2)for(o==6&&o--;;){for(var c=0;c<2;c++)if(this.modules[n][o-c]==null){var l=!1;s<t.length&&(l=(t[s]>>>i&1)==1);var h=Ze.getMask(e,n,o-c);h&&(l=!l),this.modules[n][o-c]=l,i--,i==-1&&(s++,i=7)}if(n+=r,n<0||this.moduleCount<=n){n-=r,r=-r;break}}}};Ft.PAD0=236;Ft.PAD1=17;Ft.createData=function(t,e,r){for(var n=Bt.getRSBlocks(t,e),i=new qh,s=0;s<r.length;s++){var o=r[s];i.put(o.mode,4),i.put(o.getLength(),Ze.getLengthInBits(o.mode,t)),o.write(i)}for(var c=0,s=0;s<n.length;s++)c+=n[s].dataCount;if(i.getLengthInBits()>c*8)throw new Error("code length overflow. ("+i.getLengthInBits()+">"+c*8+")");for(i.getLengthInBits()+4<=c*8&&i.put(0,4);i.getLengthInBits()%8!=0;)i.putBit(!1);for(;!(i.getLengthInBits()>=c*8||(i.put(Ft.PAD0,8),i.getLengthInBits()>=c*8));)i.put(Ft.PAD1,8);return Ft.createBytes(i,n)};Ft.createBytes=function(t,e){for(var r=0,n=0,i=0,s=new Array(e.length),o=new Array(e.length),c=0;c<e.length;c++){var l=e[c].dataCount,h=e[c].totalCount-l;n=Math.max(n,l),i=Math.max(i,h),s[c]=new Array(l);for(var d=0;d<s[c].length;d++)s[c][d]=255&t.buffer[d+r];r+=l;var C=Ze.getErrorCorrectPolynomial(h),m=new hn(s[c],C.getLength()-1),x=m.mod(C);o[c]=new Array(C.getLength()-1);for(var d=0;d<o[c].length;d++){var A=d+x.getLength()-o[c].length;o[c][d]=A>=0?x.get(A):0}}for(var P=0,d=0;d<e.length;d++)P+=e[d].totalCount;for(var L=new Array(P),E=0,d=0;d<n;d++)for(var c=0;c<e.length;c++)d<s[c].length&&(L[E++]=s[c][d]);for(var d=0;d<i;d++)for(var c=0;c<e.length;c++)d<o[c].length&&(L[E++]=o[c][d]);return L};var vt={MODE_NUMBER:1<<0,MODE_ALPHA_NUM:1<<1,MODE_8BIT_BYTE:1<<2,MODE_KANJI:1<<3},ir={L:1,M:0,Q:3,H:2},Yt={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7},Ze={PATTERN_POSITION_TABLE:[[],[6,18],[6,22],[6,26],[6,30],[6,34],[6,22,38],[6,24,42],[6,26,46],[6,28,50],[6,30,54],[6,32,58],[6,34,62],[6,26,46,66],[6,26,48,70],[6,26,50,74],[6,30,54,78],[6,30,56,82],[6,30,58,86],[6,34,62,90],[6,28,50,72,94],[6,26,50,74,98],[6,30,54,78,102],[6,28,54,80,106],[6,32,58,84,110],[6,30,58,86,114],[6,34,62,90,118],[6,26,50,74,98,122],[6,30,54,78,102,126],[6,26,52,78,104,130],[6,30,56,82,108,134],[6,34,60,86,112,138],[6,30,58,86,114,142],[6,34,62,90,118,146],[6,30,54,78,102,126,150],[6,24,50,76,102,128,154],[6,28,54,80,106,132,158],[6,32,58,84,110,136,162],[6,26,54,82,110,138,166],[6,30,58,86,114,142,170]],G15:1<<10|1<<8|1<<5|1<<4|1<<2|1<<1|1<<0,G18:1<<12|1<<11|1<<10|1<<9|1<<8|1<<5|1<<2|1<<0,G15_MASK:1<<14|1<<12|1<<10|1<<4|1<<1,getBCHTypeInfo:function(t){for(var e=t<<10;Ze.getBCHDigit(e)-Ze.getBCHDigit(Ze.G15)>=0;)e^=Ze.G15<<Ze.getBCHDigit(e)-Ze.getBCHDigit(Ze.G15);return(t<<10|e)^Ze.G15_MASK},getBCHTypeNumber:function(t){for(var e=t<<12;Ze.getBCHDigit(e)-Ze.getBCHDigit(Ze.G18)>=0;)e^=Ze.G18<<Ze.getBCHDigit(e)-Ze.getBCHDigit(Ze.G18);return t<<12|e},getBCHDigit:function(t){for(var e=0;t!=0;)e++,t>>>=1;return e},getPatternPosition:function(t){return Ze.PATTERN_POSITION_TABLE[t-1]},getMask:function(t,e,r){switch(t){case Yt.PATTERN000:return(e+r)%2==0;case Yt.PATTERN001:return e%2==0;case Yt.PATTERN010:return r%3==0;case Yt.PATTERN011:return(e+r)%3==0;case Yt.PATTERN100:return(Math.floor(e/2)+Math.floor(r/3))%2==0;case Yt.PATTERN101:return e*r%2+e*r%3==0;case Yt.PATTERN110:return(e*r%2+e*r%3)%2==0;case Yt.PATTERN111:return(e*r%3+(e+r)%2)%2==0;default:throw new Error("bad maskPattern:"+t)}},getErrorCorrectPolynomial:function(t){for(var e=new hn([1],0),r=0;r<t;r++)e=e.multiply(new hn([1,rt.gexp(r)],0));return e},getLengthInBits:function(t,e){if(1<=e&&e<10)switch(t){case vt.MODE_NUMBER:return 10;case vt.MODE_ALPHA_NUM:return 9;case vt.MODE_8BIT_BYTE:return 8;case vt.MODE_KANJI:return 8;default:throw new Error("mode:"+t)}else if(e<27)switch(t){case vt.MODE_NUMBER:return 12;case vt.MODE_ALPHA_NUM:return 11;case vt.MODE_8BIT_BYTE:return 16;case vt.MODE_KANJI:return 10;default:throw new Error("mode:"+t)}else if(e<41)switch(t){case vt.MODE_NUMBER:return 14;case vt.MODE_ALPHA_NUM:return 13;case vt.MODE_8BIT_BYTE:return 16;case vt.MODE_KANJI:return 12;default:throw new Error("mode:"+t)}else throw new Error("type:"+e)},getLostPoint:function(t){for(var e=t.getModuleCount(),r=0,n=0;n<e;n++)for(var i=0;i<e;i++){for(var s=0,o=t.isDark(n,i),c=-1;c<=1;c++)if(!(n+c<0||e<=n+c))for(var l=-1;l<=1;l++)i+l<0||e<=i+l||c==0&&l==0||o==t.isDark(n+c,i+l)&&s++;s>5&&(r+=3+s-5)}for(var n=0;n<e-1;n++)for(var i=0;i<e-1;i++){var h=0;t.isDark(n,i)&&h++,t.isDark(n+1,i)&&h++,t.isDark(n,i+1)&&h++,t.isDark(n+1,i+1)&&h++,(h==0||h==4)&&(r+=3)}for(var n=0;n<e;n++)for(var i=0;i<e-6;i++)t.isDark(n,i)&&!t.isDark(n,i+1)&&t.isDark(n,i+2)&&t.isDark(n,i+3)&&t.isDark(n,i+4)&&!t.isDark(n,i+5)&&t.isDark(n,i+6)&&(r+=40);for(var i=0;i<e;i++)for(var n=0;n<e-6;n++)t.isDark(n,i)&&!t.isDark(n+1,i)&&t.isDark(n+2,i)&&t.isDark(n+3,i)&&t.isDark(n+4,i)&&!t.isDark(n+5,i)&&t.isDark(n+6,i)&&(r+=40);for(var d=0,i=0;i<e;i++)for(var n=0;n<e;n++)t.isDark(n,i)&&d++;var C=Math.abs(100*d/e/e-50)/5;return r+=C*10,r}},rt={glog:function(t){if(t<1)throw new Error("glog("+t+")");return rt.LOG_TABLE[t]},gexp:function(t){for(;t<0;)t+=255;for(;t>=256;)t-=255;return rt.EXP_TABLE[t]},EXP_TABLE:new Array(256),LOG_TABLE:new Array(256)};for(var ot=0;ot<8;ot++)rt.EXP_TABLE[ot]=1<<ot;for(var ot=8;ot<256;ot++)rt.EXP_TABLE[ot]=rt.EXP_TABLE[ot-4]^rt.EXP_TABLE[ot-5]^rt.EXP_TABLE[ot-6]^rt.EXP_TABLE[ot-8];for(var ot=0;ot<255;ot++)rt.LOG_TABLE[rt.EXP_TABLE[ot]]=ot;function hn(t,e){if(t.length==null)throw new Error(t.length+"/"+e);for(var r=0;r<t.length&&t[r]==0;)r++;this.num=new Array(t.length-r+e);for(var n=0;n<t.length-r;n++)this.num[n]=t[n+r]}hn.prototype={get:function(t){return this.num[t]},getLength:function(){return this.num.length},multiply:function(t){for(var e=new Array(this.getLength()+t.getLength()-1),r=0;r<this.getLength();r++)for(var n=0;n<t.getLength();n++)e[r+n]^=rt.gexp(rt.glog(this.get(r))+rt.glog(t.get(n)));return new hn(e,0)},mod:function(t){if(this.getLength()-t.getLength()<0)return this;for(var e=rt.glog(this.get(0))-rt.glog(t.get(0)),r=new Array(this.getLength()),n=0;n<this.getLength();n++)r[n]=this.get(n);for(var n=0;n<t.getLength();n++)r[n]^=rt.gexp(rt.glog(t.get(n))+e);return new hn(r,0).mod(t)}};function Bt(t,e){this.totalCount=t,this.dataCount=e}Bt.RS_BLOCK_TABLE=[[1,26,19],[1,26,16],[1,26,13],[1,26,9],[1,44,34],[1,44,28],[1,44,22],[1,44,16],[1,70,55],[1,70,44],[2,35,17],[2,35,13],[1,100,80],[2,50,32],[2,50,24],[4,25,9],[1,134,108],[2,67,43],[2,33,15,2,34,16],[2,33,11,2,34,12],[2,86,68],[4,43,27],[4,43,19],[4,43,15],[2,98,78],[4,49,31],[2,32,14,4,33,15],[4,39,13,1,40,14],[2,121,97],[2,60,38,2,61,39],[4,40,18,2,41,19],[4,40,14,2,41,15],[2,146,116],[3,58,36,2,59,37],[4,36,16,4,37,17],[4,36,12,4,37,13],[2,86,68,2,87,69],[4,69,43,1,70,44],[6,43,19,2,44,20],[6,43,15,2,44,16],[4,101,81],[1,80,50,4,81,51],[4,50,22,4,51,23],[3,36,12,8,37,13],[2,116,92,2,117,93],[6,58,36,2,59,37],[4,46,20,6,47,21],[7,42,14,4,43,15],[4,133,107],[8,59,37,1,60,38],[8,44,20,4,45,21],[12,33,11,4,34,12],[3,145,115,1,146,116],[4,64,40,5,65,41],[11,36,16,5,37,17],[11,36,12,5,37,13],[5,109,87,1,110,88],[5,65,41,5,66,42],[5,54,24,7,55,25],[11,36,12],[5,122,98,1,123,99],[7,73,45,3,74,46],[15,43,19,2,44,20],[3,45,15,13,46,16],[1,135,107,5,136,108],[10,74,46,1,75,47],[1,50,22,15,51,23],[2,42,14,17,43,15],[5,150,120,1,151,121],[9,69,43,4,70,44],[17,50,22,1,51,23],[2,42,14,19,43,15],[3,141,113,4,142,114],[3,70,44,11,71,45],[17,47,21,4,48,22],[9,39,13,16,40,14],[3,135,107,5,136,108],[3,67,41,13,68,42],[15,54,24,5,55,25],[15,43,15,10,44,16],[4,144,116,4,145,117],[17,68,42],[17,50,22,6,51,23],[19,46,16,6,47,17],[2,139,111,7,140,112],[17,74,46],[7,54,24,16,55,25],[34,37,13],[4,151,121,5,152,122],[4,75,47,14,76,48],[11,54,24,14,55,25],[16,45,15,14,46,16],[6,147,117,4,148,118],[6,73,45,14,74,46],[11,54,24,16,55,25],[30,46,16,2,47,17],[8,132,106,4,133,107],[8,75,47,13,76,48],[7,54,24,22,55,25],[22,45,15,13,46,16],[10,142,114,2,143,115],[19,74,46,4,75,47],[28,50,22,6,51,23],[33,46,16,4,47,17],[8,152,122,4,153,123],[22,73,45,3,74,46],[8,53,23,26,54,24],[12,45,15,28,46,16],[3,147,117,10,148,118],[3,73,45,23,74,46],[4,54,24,31,55,25],[11,45,15,31,46,16],[7,146,116,7,147,117],[21,73,45,7,74,46],[1,53,23,37,54,24],[19,45,15,26,46,16],[5,145,115,10,146,116],[19,75,47,10,76,48],[15,54,24,25,55,25],[23,45,15,25,46,16],[13,145,115,3,146,116],[2,74,46,29,75,47],[42,54,24,1,55,25],[23,45,15,28,46,16],[17,145,115],[10,74,46,23,75,47],[10,54,24,35,55,25],[19,45,15,35,46,16],[17,145,115,1,146,116],[14,74,46,21,75,47],[29,54,24,19,55,25],[11,45,15,46,46,16],[13,145,115,6,146,116],[14,74,46,23,75,47],[44,54,24,7,55,25],[59,46,16,1,47,17],[12,151,121,7,152,122],[12,75,47,26,76,48],[39,54,24,14,55,25],[22,45,15,41,46,16],[6,151,121,14,152,122],[6,75,47,34,76,48],[46,54,24,10,55,25],[2,45,15,64,46,16],[17,152,122,4,153,123],[29,74,46,14,75,47],[49,54,24,10,55,25],[24,45,15,46,46,16],[4,152,122,18,153,123],[13,74,46,32,75,47],[48,54,24,14,55,25],[42,45,15,32,46,16],[20,147,117,4,148,118],[40,75,47,7,76,48],[43,54,24,22,55,25],[10,45,15,67,46,16],[19,148,118,6,149,119],[18,75,47,31,76,48],[34,54,24,34,55,25],[20,45,15,61,46,16]];Bt.getRSBlocks=function(t,e){var r=Bt.getRsBlockTable(t,e);if(r==null)throw new Error("bad rs block @ typeNumber:"+t+"/errorCorrectLevel:"+e);for(var n=r.length/3,i=[],s=0;s<n;s++)for(var o=r[s*3+0],c=r[s*3+1],l=r[s*3+2],h=0;h<o;h++)i.push(new Bt(c,l));return i};Bt.getRsBlockTable=function(t,e){switch(e){case ir.L:return Bt.RS_BLOCK_TABLE[(t-1)*4+0];case ir.M:return Bt.RS_BLOCK_TABLE[(t-1)*4+1];case ir.Q:return Bt.RS_BLOCK_TABLE[(t-1)*4+2];case ir.H:return Bt.RS_BLOCK_TABLE[(t-1)*4+3];default:return}};function qh(){this.buffer=[],this.length=0}qh.prototype={get:function(t){var e=Math.floor(t/8);return(this.buffer[e]>>>7-t%8&1)==1},put:function(t,e){for(var r=0;r<e;r++)this.putBit((t>>>e-r-1&1)==1)},getLengthInBits:function(){return this.length},putBit:function(t){var e=Math.floor(this.length/8);this.buffer.length<=e&&this.buffer.push(0),t&&(this.buffer[e]|=128>>>this.length%8),this.length++}};var zo=[[17,14,11,7],[32,26,20,14],[53,42,32,24],[78,62,46,34],[106,84,60,44],[134,106,74,58],[154,122,86,64],[192,152,108,84],[230,180,130,98],[271,213,151,119],[321,251,177,137],[367,287,203,155],[425,331,241,177],[458,362,258,194],[520,412,292,220],[586,450,322,250],[644,504,364,280],[718,560,394,310],[792,624,442,338],[858,666,482,382],[929,711,509,403],[1003,779,565,439],[1091,857,611,461],[1171,911,661,511],[1273,997,715,535],[1367,1059,751,593],[1465,1125,805,625],[1528,1190,868,658],[1628,1264,908,698],[1732,1370,982,742],[1840,1452,1030,790],[1952,1538,1112,842],[2068,1628,1168,898],[2188,1722,1228,958],[2303,1809,1283,983],[2431,1911,1351,1051],[2563,1989,1423,1093],[2699,2099,1499,1139],[2809,2213,1579,1219],[2953,2331,1663,1273]];function zh(t){if(this.options={padding:4,width:256,height:256,typeNumber:4,color:"#000000",background:"#ffffff",ecl:"M",image:{svg:"",width:0,height:0}},typeof t=="string"&&(t={content:t}),t)for(var e in t)this.options[e]=t[e];if(typeof this.options.content!="string")throw new Error("Expected 'content' as string!");if(this.options.content.length===0)throw new Error("Expected 'content' to be non-empty!");if(!(this.options.padding>=0))throw new Error("Expected 'padding' value to be non-negative!");if(!(this.options.width>0)||!(this.options.height>0))throw new Error("Expected 'width' or 'height' value to be higher than zero!");function r(l){switch(l){case"L":return ir.L;case"M":return ir.M;case"Q":return ir.Q;case"H":return ir.H;default:throw new Error("Unknwon error correction level: "+l)}}function n(l,h){for(var d=i(l),C=1,m=0,x=0,A=zo.length;x<=A;x++){var P=zo[x];if(!P)throw new Error("Content too long: expected "+m+" but got "+d);switch(h){case"L":m=P[0];break;case"M":m=P[1];break;case"Q":m=P[2];break;case"H":m=P[3];break;default:throw new Error("Unknwon error correction level: "+h)}if(d<=m)break;C++}if(C>zo.length)throw new Error("Content too long");return C}function i(l){var h=encodeURI(l).toString().replace(/\%[0-9a-fA-F]{2}/g,"a");return h.length+(h.length!=l?3:0)}var s=this.options.content,o=n(s,this.options.ecl),c=r(this.options.ecl);this.qrcode=new Ft(o,c),this.qrcode.addData(s),this.qrcode.make()}zh.prototype.svg=function(t){var e=this.options||{},r=this.qrcode.modules;typeof t>"u"&&(t={container:e.container||"svg"});for(var n=typeof e.pretty<"u"?!!e.pretty:!0,i=n?"  ":"",s=n?`\r
`:"",o=e.width,c=e.height,l=r.length,h=o/(l+2*e.padding),d=c/(l+2*e.padding),C=typeof e.join<"u"?!!e.join:!1,m=typeof e.swap<"u"?!!e.swap:!1,x=typeof e.xmlDeclaration<"u"?!!e.xmlDeclaration:!0,A=typeof e.predefined<"u"?!!e.predefined:!1,P=A?i+'<defs><path id="qrmodule" d="M0 0 h'+d+" v"+h+' H0 z" style="fill:'+e.color+';shape-rendering:crispEdges;" /></defs>'+s:"",L=i+'<rect x="0" y="0" width="'+o+'" height="'+c+'" style="fill:'+e.background+';shape-rendering:crispEdges;"/>'+s,E="",I="",O=0;O<l;O++)for(var U=0;U<l;U++){var V=r[U][O];if(V){var q=U*h+e.padding*h,Z=O*d+e.padding*d;if(m){var Y=q;q=Z,Z=Y}if(C){var z=h+q,K=d+Z;q=Number.isInteger(q)?Number(q):q.toFixed(2),Z=Number.isInteger(Z)?Number(Z):Z.toFixed(2),z=Number.isInteger(z)?Number(z):z.toFixed(2),K=Number.isInteger(K)?Number(K):K.toFixed(2),I+="M"+q+","+Z+" V"+K+" H"+z+" V"+Z+" H"+q+" Z "}else A?E+=i+'<use x="'+q.toString()+'" y="'+Z.toString()+'" href="#qrmodule" />'+s:E+=i+'<rect x="'+q.toString()+'" y="'+Z.toString()+'" width="'+h+'" height="'+d+'" style="fill:'+e.color+';shape-rendering:crispEdges;"/>'+s}}C&&(E=i+'<path x="0" y="0" style="fill:'+e.color+';shape-rendering:crispEdges;" d="'+I+'" />');let Q="";if(this.options.image!==void 0&&this.options.image.svg){const _=o*this.options.image.width/100,a=c*this.options.image.height/100,f=o/2-_/2,p=c/2-a/2;Q+=`<svg x="${f}" y="${p}" width="${_}" height="${a}" viewBox="0 0 100 100" preserveAspectRatio="xMinYMin meet">`,Q+=this.options.image.svg+s,Q+="</svg>"}var X="";switch(t.container){case"svg":x&&(X+='<?xml version="1.0" standalone="yes"?>'+s),X+='<svg xmlns="http://www.w3.org/2000/svg" version="1.1" width="'+o+'" height="'+c+'">'+s,X+=P+L+E,X+=Q,X+="</svg>";break;case"svg-viewbox":x&&(X+='<?xml version="1.0" standalone="yes"?>'+s),X+='<svg xmlns="http://www.w3.org/2000/svg" version="1.1" viewBox="0 0 '+o+" "+c+'">'+s,X+=P+L+E,X+=Q,X+="</svg>";break;case"g":X+='<g width="'+o+'" height="'+c+'">'+s,X+=P+L+E,X+=Q,X+="</g>";break;default:X+=(P+L+E+Q).replace(/^\s+/,"");break}return X};var US=zh,$S=oe&&oe.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(qs,"__esModule",{value:!0});qs.QRCode=void 0;const WS=Ri,Ku=nc,HS=$S(US),VS=t=>{const[e,r]=(0,Ku.useState)("");return(0,Ku.useEffect)(()=>{var n,i;const s=new HS.default({content:t.content,background:t.bgColor||"#ffffff",color:t.fgColor||"#000000",container:"svg",ecl:"M",width:(n=t.width)!==null&&n!==void 0?n:256,height:(i=t.height)!==null&&i!==void 0?i:256,padding:0,image:t.image}),o=Buffer.from(s.svg(),"utf8").toString("base64");r(`data:image/svg+xml;base64,${o}`)}),e?(0,WS.h)("img",{src:e,alt:"QR Code"}):null};qs.QRCode=VS;var zs={},cc={};Object.defineProperty(cc,"__esModule",{value:!0});cc.default=".-cbwsdk-css-reset .-cbwsdk-spinner{display:inline-block}.-cbwsdk-css-reset .-cbwsdk-spinner svg{display:inline-block;animation:2s linear infinite -cbwsdk-spinner-svg}.-cbwsdk-css-reset .-cbwsdk-spinner svg circle{animation:1.9s ease-in-out infinite both -cbwsdk-spinner-circle;display:block;fill:rgba(0,0,0,0);stroke-dasharray:283;stroke-dashoffset:280;stroke-linecap:round;stroke-width:10px;transform-origin:50% 50%}@keyframes -cbwsdk-spinner-svg{0%{transform:rotateZ(0deg)}100%{transform:rotateZ(360deg)}}@keyframes -cbwsdk-spinner-circle{0%,25%{stroke-dashoffset:280;transform:rotate(0)}50%,75%{stroke-dashoffset:75;transform:rotate(45deg)}100%{stroke-dashoffset:280;transform:rotate(360deg)}}";var qS=oe&&oe.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(zs,"__esModule",{value:!0});zs.Spinner=void 0;const Bi=Ri,zS=qS(cc),GS=t=>{var e;const r=(e=t.size)!==null&&e!==void 0?e:64,n=t.color||"#000";return(0,Bi.h)("div",{class:"-cbwsdk-spinner"},(0,Bi.h)("style",null,zS.default),(0,Bi.h)("svg",{viewBox:"0 0 100 100",xmlns:"http://www.w3.org/2000/svg",style:{width:r,height:r}},(0,Bi.h)("circle",{style:{cx:50,cy:50,r:45,stroke:n}})))};zs.Spinner=GS;var uc={};Object.defineProperty(uc,"__esModule",{value:!0});uc.default='.-cbwsdk-css-reset .-cbwsdk-extension-dialog{z-index:2147483647;position:fixed;top:0;left:0;right:0;bottom:0;display:flex;align-items:center;justify-content:center}.-cbwsdk-css-reset .-cbwsdk-extension-dialog-backdrop{z-index:2147483647;position:fixed;top:0;left:0;right:0;bottom:0;transition:opacity .25s}.-cbwsdk-css-reset .-cbwsdk-extension-dialog-backdrop.light{background-color:rgba(0,0,0,.5)}.-cbwsdk-css-reset .-cbwsdk-extension-dialog-backdrop.dark{background-color:rgba(50,53,61,.4)}.-cbwsdk-css-reset .-cbwsdk-extension-dialog-backdrop-hidden{opacity:0}.-cbwsdk-css-reset .-cbwsdk-extension-dialog-box{display:flex;position:relative;max-width:500px;flex-direction:column;transform:scale(1);transition:opacity .25s,transform .25s}.-cbwsdk-css-reset .-cbwsdk-extension-dialog-box-hidden{opacity:0;transform:scale(0.85)}.-cbwsdk-css-reset .-cbwsdk-extension-dialog-box-top{display:flex;flex-direction:row;border-radius:8px;overflow:hidden;min-height:300px}.-cbwsdk-css-reset .-cbwsdk-extension-dialog-box-top.dark{color:#fff;background-color:#000;box-shadow:0 4px 16px rgba(255,255,255,.05)}.-cbwsdk-css-reset .-cbwsdk-extension-dialog-box-top.light{background-color:#fff}.-cbwsdk-css-reset .-cbwsdk-extension-dialog-box-top-subtext{margin-top:15px;font-size:12px;line-height:1.5}.-cbwsdk-css-reset .-cbwsdk-extension-dialog-box-top-install-region{display:flex;flex-basis:50%;flex-direction:column;justify-content:center;padding:32px}.-cbwsdk-css-reset .-cbwsdk-extension-dialog-box-top-install-region button{display:block;border-radius:8px;background-color:#1652f0;color:#fff;width:90%;min-width:fit-content;height:44px;margin-top:16px;font-size:16px;padding-left:16px;padding-right:16px;cursor:pointer;font-weight:500;text-align:center}.-cbwsdk-css-reset .-cbwsdk-extension-dialog-box-top-install-region button.dark{background-color:#3773f5}.-cbwsdk-css-reset .-cbwsdk-extension-dialog-box-top-info-region{display:flex;flex-basis:50%;flex-direction:column;justify-content:center}.-cbwsdk-css-reset .-cbwsdk-extension-dialog-box-top-info-region.light{background-color:#fafbfc}.-cbwsdk-css-reset .-cbwsdk-extension-dialog-box-top-info-region.dark{background-color:#141519}.-cbwsdk-css-reset .-cbwsdk-extension-dialog-box-top-description{display:flex;flex-direction:row;align-items:center;padding-top:14px;padding-bottom:14px;padding-left:24px;padding-right:32px}.-cbwsdk-css-reset .-cbwsdk-extension-dialog-box-top-description-icon-wrapper{display:block;position:relative;width:40px;height:40px;flex-shrink:0;flex-grow:0;border-radius:20px;background-color:#fff;box-shadow:0px 0px 8px rgba(0,0,0,.04),0px 16px 24px rgba(0,0,0,.06)}.-cbwsdk-css-reset .-cbwsdk-extension-dialog-box-top-description-icon-wrapper img{position:absolute;top:0;bottom:0;left:0;right:0;margin:auto}.-cbwsdk-css-reset .-cbwsdk-extension-dialog-box-top-description-text{margin-left:16px;flex-grow:1;font-size:13px;line-height:19px;align-self:center}.-cbwsdk-css-reset .-cbwsdk-extension-dialog-box-top-description-text.light{color:#000}.-cbwsdk-css-reset .-cbwsdk-extension-dialog-box-top-description-text.dark{color:#fff}.-cbwsdk-css-reset .-cbwsdk-extension-dialog-box-bottom{display:flex;flex-direction:row;overflow:hidden;border-radius:8px;margin-top:8px}.-cbwsdk-css-reset .-cbwsdk-extension-dialog-box-bottom.light{background-color:#fff}.-cbwsdk-css-reset .-cbwsdk-extension-dialog-box-bottom.dark{background-color:#000;box-shadow:0 4px 16px rgba(255,255,255,.05)}.-cbwsdk-css-reset .-cbwsdk-extension-dialog-box-bottom-description-region{display:flex;flex-direction:column;justify-content:center;padding:32px;flex-grow:1}.-cbwsdk-css-reset .-cbwsdk-extension-dialog-box-bottom-description{font-size:13px;line-height:19px;margin-top:12px;color:#aaa}.-cbwsdk-css-reset .-cbwsdk-extension-dialog-box-bottom-description.dark{color:#fff}.-cbwsdk-css-reset .-cbwsdk-extension-dialog-box-bottom-description.dark a{color:#3773f5}.-cbwsdk-css-reset .-cbwsdk-extension-dialog-box-bottom-description a{font-size:inherit;line-height:inherit;color:#1652f0;cursor:pointer}.-cbwsdk-css-reset .-cbwsdk-extension-dialog-box-bottom-qr-region{position:relative;flex-shrink:0;display:flex;flex-direction:column;justify-content:center;padding-left:24px;padding-right:24px;padding-top:16px;padding-bottom:16px}.-cbwsdk-css-reset .-cbwsdk-extension-dialog-box-bottom-qr-wrapper{position:relative;display:block;padding:8px;border-radius:8px;box-shadow:0px 4px 12px rgba(0,0,0,.1);background-color:#fff}.-cbwsdk-css-reset .-cbwsdk-extension-dialog-box-bottom-qr-wrapper img{display:block}.-cbwsdk-css-reset .-cbwsdk-extension-dialog-box-bottom-qr-connecting{position:absolute;top:0;bottom:0;left:0;right:0;display:flex;flex-direction:column;align-items:center;justify-content:center}.-cbwsdk-css-reset .-cbwsdk-extension-dialog-box-bottom-qr-connecting.light{background-color:rgba(255,255,255,.95)}.-cbwsdk-css-reset .-cbwsdk-extension-dialog-box-bottom-qr-connecting.light>p{color:#000}.-cbwsdk-css-reset .-cbwsdk-extension-dialog-box-bottom-qr-connecting.dark{background-color:rgba(20,21,25,.9)}.-cbwsdk-css-reset .-cbwsdk-extension-dialog-box-bottom-qr-connecting.dark>p{color:#fff}.-cbwsdk-css-reset .-cbwsdk-extension-dialog-box-bottom-qr-connecting>p{font-size:12px;font-weight:bold;margin-top:16px}.-cbwsdk-css-reset .-cbwsdk-extension-dialog-box-cancel{position:absolute;-webkit-appearance:none;display:flex;align-items:center;justify-content:center;top:16px;right:16px;width:24px;height:24px;border-radius:12px;cursor:pointer}.-cbwsdk-css-reset .-cbwsdk-extension-dialog-box-cancel.light{background-color:#fafbfc}.-cbwsdk-css-reset .-cbwsdk-extension-dialog-box-cancel.dark{background-color:#141519}.-cbwsdk-css-reset .-cbwsdk-extension-dialog-box-cancel-x{position:relative;display:block;cursor:pointer}.-cbwsdk-css-reset .-cbwsdk-extension-dialog-box-cancel-x.light::before,.-cbwsdk-css-reset .-cbwsdk-extension-dialog-box-cancel-x.light::after{background-color:#000}.-cbwsdk-css-reset .-cbwsdk-extension-dialog-box-cancel-x.dark::before,.-cbwsdk-css-reset .-cbwsdk-extension-dialog-box-cancel-x.dark::after{background-color:#fff}.-cbwsdk-css-reset .-cbwsdk-extension-dialog-box-cancel-x::before,.-cbwsdk-css-reset .-cbwsdk-extension-dialog-box-cancel-x::after{content:"";position:absolute;display:block;top:-1px;left:-7px;width:14px;height:1px;transition:background-color .2s}.-cbwsdk-css-reset .-cbwsdk-extension-dialog-box-cancel-x::before{transform:rotate(45deg)}.-cbwsdk-css-reset .-cbwsdk-extension-dialog-box-cancel-x::after{transform:rotate(135deg)}.-cbwsdk-css-reset .-cbwsdk-extension-dialog-box-cancel:hover .-cbwsdk-link-dialog-box-cancel-x-a,.-cbwsdk-css-reset .-cbwsdk-extension-dialog-box-cancel:hover .-cbwsdk-link-dialog-box-cancel-x-b{background-color:#000}.-cbwsdk-css-reset .-cbwsdk-extension-dialog-container{display:block}.-cbwsdk-css-reset .-cbwsdk-extension-dialog-container-hidden{display:none}.-cbwsdk-css-reset .-cbwsdk-extension-dialog h2{display:block;text-align:left;font-size:22px;font-weight:600;line-height:28px}.-cbwsdk-css-reset .-cbwsdk-extension-dialog h2.light{color:#000}.-cbwsdk-css-reset .-cbwsdk-extension-dialog h2.dark{color:#fff}';var Bn=oe&&oe.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Hs,"__esModule",{value:!0});Hs.TryExtensionLinkDialog=void 0;const Nt=Bn(Bh),le=Ri,ei=nc,ZS=J,KS=Vs,QS=Bn(ic),YS=Bn(sc),JS=Bn(oc),XS=Bn(ac),e3=qs,t3=zs,r3=Bn(uc),n3=t=>{const{isOpen:e,darkMode:r}=t,[n,i]=(0,ei.useState)(!e),[s,o]=(0,ei.useState)(!e);(0,ei.useEffect)(()=>{const l=[window.setTimeout(()=>{o(!e)},10)];return e?i(!1):l.push(window.setTimeout(()=>{i(!0)},360)),()=>{l.forEach(window.clearTimeout)}},[t.isOpen]);const c=r?"dark":"light";return(0,le.h)("div",{class:(0,Nt.default)("-cbwsdk-extension-dialog-container",n&&"-cbwsdk-extension-dialog-container-hidden")},(0,le.h)("style",null,r3.default),(0,le.h)("div",{class:(0,Nt.default)("-cbwsdk-extension-dialog-backdrop",c,s&&"-cbwsdk-extension-dialog-backdrop-hidden")}),(0,le.h)("div",{class:"-cbwsdk-extension-dialog"},(0,le.h)("div",{class:(0,Nt.default)("-cbwsdk-extension-dialog-box",s&&"-cbwsdk-extension-dialog-box-hidden")},(0,le.h)(i3,{darkMode:r,onInstallClick:()=>{window.open("https://api.wallet.coinbase.com/rpc/v2/desktop/chrome","_blank")}}),t.connectDisabled?null:(0,le.h)(s3,{darkMode:r,version:t.version,sessionId:t.sessionId,sessionSecret:t.sessionSecret,linkAPIUrl:t.linkAPIUrl,isConnected:t.isConnected,isParentConnection:t.isParentConnection,chainId:t.chainId}),t.onCancel&&(0,le.h)(o3,{darkMode:r,onClick:t.onCancel}))))};Hs.TryExtensionLinkDialog=n3;const i3=({darkMode:t,onInstallClick:e})=>{const[r,n]=(0,ei.useState)(!1),i=(0,ei.useCallback)(()=>{r?window.location.reload():(e(),n(!0))},[e,r]),s=t?"dark":"light";return(0,le.h)("div",{class:(0,Nt.default)("-cbwsdk-extension-dialog-box-top",s)},(0,le.h)("div",{class:"-cbwsdk-extension-dialog-box-top-install-region"},(0,le.h)("h2",{class:s},"Try the Coinbase Wallet extension"),r&&(0,le.h)("div",{class:"-cbwsdk-extension-dialog-box-top-subtext"},"After installing Coinbase Wallet, refresh the page and connect again."),(0,le.h)("button",{type:"button",onClick:i},r?"Refresh":"Install")),(0,le.h)("div",{class:(0,Nt.default)("-cbwsdk-extension-dialog-box-top-info-region",s)},(0,le.h)(Go,{darkMode:t,icon:YS.default,text:"Connect to crypto apps with one click"}),(0,le.h)(Go,{darkMode:t,icon:JS.default,text:"Your private key is stored securely"}),(0,le.h)(Go,{darkMode:t,icon:QS.default,text:"Works with Ethereum, Polygon, and more"})))},s3=t=>{const e=(0,ZS.createQrUrl)(t.sessionId,t.sessionSecret,t.linkAPIUrl,t.isParentConnection,t.chainId),r=t.darkMode?"dark":"light";return(0,le.h)("div",{"data-testid":"scan-qr-box",class:(0,Nt.default)("-cbwsdk-extension-dialog-box-bottom",r)},(0,le.h)("div",{class:"-cbwsdk-extension-dialog-box-bottom-description-region"},(0,le.h)("h2",{class:r},"Or scan to connect"),(0,le.h)("body",{class:(0,Nt.default)("-cbwsdk-extension-dialog-box-bottom-description",r)},"Open"," ",(0,le.h)("a",{href:"https://wallet.coinbase.com/",target:"_blank",rel:"noopener noreferrer"},"Coinbase Wallet")," ","on your mobile phone and scan")),(0,le.h)("div",{class:"-cbwsdk-extension-dialog-box-bottom-qr-region"},(0,le.h)("div",{class:"-cbwsdk-extension-dialog-box-bottom-qr-wrapper"},(0,le.h)(e3.QRCode,{content:e,width:150,height:150,fgColor:"#000",bgColor:"transparent",image:{svg:XS.default,width:34,height:34}})),(0,le.h)("input",{type:"hidden",name:"cbwsdk-version",value:KS.LIB_VERSION}),(0,le.h)("input",{type:"hidden",value:e}),!t.isConnected&&(0,le.h)("div",{"data-testid":"connecting-spinner",class:(0,Nt.default)("-cbwsdk-extension-dialog-box-bottom-qr-connecting",r)},(0,le.h)(t3.Spinner,{size:36,color:t.darkMode?"#FFF":"#000"}),(0,le.h)("p",null,"Connecting..."))))},Go=t=>{const e=t.darkMode?"dark":"light";return(0,le.h)("div",{class:"-cbwsdk-extension-dialog-box-top-description"},(0,le.h)("div",{class:"-cbwsdk-extension-dialog-box-top-description-icon-wrapper"},(0,le.h)("img",{src:t.icon})),(0,le.h)("body",{class:(0,Nt.default)("-cbwsdk-extension-dialog-box-top-description-text",e)},t.text))},o3=t=>{const e=t.darkMode?"dark":"light";return(0,le.h)("button",{type:"button",class:(0,Nt.default)("-cbwsdk-extension-dialog-box-cancel",e),onClick:t.onClick},(0,le.h)("div",{class:(0,Nt.default)("-cbwsdk-extension-dialog-box-cancel-x",e)}))};Object.defineProperty(Ws,"__esModule",{value:!0});Ws.LinkFlow=void 0;const Zo=Ri,Qu=Nn,a3=Hs;class c3{constructor(e){this.extensionUI$=new Qu.BehaviorSubject({}),this.subscriptions=new Qu.Subscription,this.isConnected=!1,this.chainId=1,this.isOpen=!1,this.onCancel=null,this.root=null,this.connectDisabled=!1,this.darkMode=e.darkMode,this.version=e.version,this.sessionId=e.sessionId,this.sessionSecret=e.sessionSecret,this.linkAPIUrl=e.linkAPIUrl,this.isParentConnection=e.isParentConnection,this.connected$=e.connected$,this.chainId$=e.chainId$}attach(e){this.root=document.createElement("div"),this.root.className="-cbwsdk-link-flow-root",e.appendChild(this.root),this.render(),this.subscriptions.add(this.connected$.subscribe(r=>{this.isConnected!==r&&(this.isConnected=r,this.render())})),this.subscriptions.add(this.chainId$.subscribe(r=>{this.chainId!==r&&(this.chainId=r,this.render())}))}detach(){var e;!this.root||(this.subscriptions.unsubscribe(),(0,Zo.render)(null,this.root),(e=this.root.parentElement)===null||e===void 0||e.removeChild(this.root))}setConnectDisabled(e){this.connectDisabled=e}open(e){this.isOpen=!0,this.onCancel=e.onCancel,this.render()}close(){this.isOpen=!1,this.onCancel=null,this.render()}render(){if(!this.root)return;const e=this.extensionUI$.subscribe(()=>{!this.root||(0,Zo.render)((0,Zo.h)(a3.TryExtensionLinkDialog,{darkMode:this.darkMode,version:this.version,sessionId:this.sessionId,sessionSecret:this.sessionSecret,linkAPIUrl:this.linkAPIUrl,isOpen:this.isOpen,isConnected:this.isConnected,isParentConnection:this.isParentConnection,chainId:this.chainId,onCancel:this.onCancel,connectDisabled:this.connectDisabled}),this.root)});this.subscriptions.add(e)}}Ws.LinkFlow=c3;var Gh={},lc={};Object.defineProperty(lc,"__esModule",{value:!0});lc.default=".-cbwsdk-css-reset .-gear-container{margin-left:16px !important;margin-right:9px !important;display:flex;align-items:center;justify-content:center;width:24px;height:24px;transition:opacity .25s}.-cbwsdk-css-reset .-gear-container *{user-select:none}.-cbwsdk-css-reset .-gear-container svg{opacity:0;position:absolute}.-cbwsdk-css-reset .-gear-icon{height:12px;width:12px;z-index:10000}.-cbwsdk-css-reset .-cbwsdk-snackbar{align-items:flex-end;display:flex;flex-direction:column;position:fixed;right:0;top:0;z-index:2147483647}.-cbwsdk-css-reset .-cbwsdk-snackbar *{user-select:none}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance{display:flex;flex-direction:column;margin:8px 16px 0 16px;overflow:visible;text-align:left;transform:translateX(0);transition:opacity .25s,transform .25s}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-header:hover .-gear-container svg{opacity:1}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-header{display:flex;align-items:center;background:#fff;overflow:hidden;border:1px solid #e7ebee;box-sizing:border-box;border-radius:8px;cursor:pointer}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-header-cblogo{margin:8px 8px 8px 8px}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-header *{cursor:pointer}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-header-message{color:#000;font-size:13px;line-height:1.5;user-select:none}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu{background:#fff;transition:opacity .25s ease-in-out,transform .25s linear,visibility 0s;visibility:hidden;border:1px solid #e7ebee;box-sizing:border-box;border-radius:8px;opacity:0;flex-direction:column;padding-left:8px;padding-right:8px}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item:last-child{margin-bottom:8px !important}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item:hover{background:#f5f7f8;border-radius:6px;transition:background .25s}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item:hover span{color:#050f19;transition:color .25s}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item:hover svg path{fill:#000;transition:fill .25s}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item{visibility:inherit;height:35px;margin-top:8px;margin-bottom:0;display:flex;flex-direction:row;align-items:center;padding:8px;cursor:pointer}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item *{visibility:inherit;cursor:pointer}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item-is-red:hover{background:rgba(223,95,103,.2);transition:background .25s}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item-is-red:hover *{cursor:pointer}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item-is-red:hover svg path{fill:#df5f67;transition:fill .25s}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item-is-red:hover span{color:#df5f67;transition:color .25s}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item-info{color:#aaa;font-size:13px;margin:0 8px 0 32px;position:absolute}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-hidden{opacity:0;text-align:left;transform:translateX(25%);transition:opacity .5s linear}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-expanded .-cbwsdk-snackbar-instance-menu{opacity:1;display:flex;transform:translateY(8px);visibility:visible}";(function(t){var e=oe&&oe.__importDefault||function(C){return C&&C.__esModule?C:{default:C}};Object.defineProperty(t,"__esModule",{value:!0}),t.SnackbarInstance=t.SnackbarContainer=t.Snackbar=void 0;const r=e(Bh),n=Ri,i=nc,s=e(lc),o="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMzIiIGhlaWdodD0iMzIiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHBhdGggZD0iTTEuNDkyIDEwLjQxOWE4LjkzIDguOTMgMCAwMTguOTMtOC45M2gxMS4xNjNhOC45MyA4LjkzIDAgMDE4LjkzIDguOTN2MTEuMTYzYTguOTMgOC45MyAwIDAxLTguOTMgOC45M0gxMC40MjJhOC45MyA4LjkzIDAgMDEtOC45My04LjkzVjEwLjQxOXoiIGZpbGw9IiMxNjUyRjAiLz48cGF0aCBmaWxsLXJ1bGU9ImV2ZW5vZGQiIGNsaXAtcnVsZT0iZXZlbm9kZCIgZD0iTTEwLjQxOSAwSDIxLjU4QzI3LjMzNSAwIDMyIDQuNjY1IDMyIDEwLjQxOVYyMS41OEMzMiAyNy4zMzUgMjcuMzM1IDMyIDIxLjU4MSAzMkgxMC40MkM0LjY2NSAzMiAwIDI3LjMzNSAwIDIxLjU4MVYxMC40MkMwIDQuNjY1IDQuNjY1IDAgMTAuNDE5IDB6bTAgMS40ODhhOC45MyA4LjkzIDAgMDAtOC45MyA4LjkzdjExLjE2M2E4LjkzIDguOTMgMCAwMDguOTMgOC45M0gyMS41OGE4LjkzIDguOTMgMCAwMDguOTMtOC45M1YxMC40MmE4LjkzIDguOTMgMCAwMC04LjkzLTguOTNIMTAuNDJ6IiBmaWxsPSIjZmZmIi8+PHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik0xNS45OTggMjYuMDQ5Yy01LjU0OSAwLTEwLjA0Ny00LjQ5OC0xMC4wNDctMTAuMDQ3IDAtNS41NDggNC40OTgtMTAuMDQ2IDEwLjA0Ny0xMC4wNDYgNS41NDggMCAxMC4wNDYgNC40OTggMTAuMDQ2IDEwLjA0NiAwIDUuNTQ5LTQuNDk4IDEwLjA0Ny0xMC4wNDYgMTAuMDQ3eiIgZmlsbD0iI2ZmZiIvPjxwYXRoIGQ9Ik0xMi43NjIgMTQuMjU0YzAtLjgyMi42NjctMS40ODkgMS40ODktMS40ODloMy40OTdjLjgyMiAwIDEuNDg4LjY2NiAxLjQ4OCAxLjQ4OXYzLjQ5N2MwIC44MjItLjY2NiAxLjQ4OC0xLjQ4OCAxLjQ4OGgtMy40OTdhMS40ODggMS40ODggMCAwMS0xLjQ4OS0xLjQ4OHYtMy40OTh6IiBmaWxsPSIjMTY1MkYwIi8+PC9zdmc+",c="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTIiIGhlaWdodD0iMTIiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHBhdGggZD0iTTEyIDYuNzV2LTEuNWwtMS43Mi0uNTdjLS4wOC0uMjctLjE5LS41Mi0uMzItLjc3bC44MS0xLjYyLTEuMDYtMS4wNi0xLjYyLjgxYy0uMjQtLjEzLS41LS4yNC0uNzctLjMyTDYuNzUgMGgtMS41bC0uNTcgMS43MmMtLjI3LjA4LS41My4xOS0uNzcuMzJsLTEuNjItLjgxLTEuMDYgMS4wNi44MSAxLjYyYy0uMTMuMjQtLjI0LjUtLjMyLjc3TDAgNS4yNXYxLjVsMS43Mi41N2MuMDguMjcuMTkuNTMuMzIuNzdsLS44MSAxLjYyIDEuMDYgMS4wNiAxLjYyLS44MWMuMjQuMTMuNS4yMy43Ny4zMkw1LjI1IDEyaDEuNWwuNTctMS43MmMuMjctLjA4LjUyLS4xOS43Ny0uMzJsMS42Mi44MSAxLjA2LTEuMDYtLjgxLTEuNjJjLjEzLS4yNC4yMy0uNS4zMi0uNzdMMTIgNi43NXpNNiA4LjVhMi41IDIuNSAwIDAxMC01IDIuNSAyLjUgMCAwMTAgNXoiIGZpbGw9IiMwNTBGMTkiLz48L3N2Zz4=";class l{constructor(m){this.items=new Map,this.nextItemKey=0,this.root=null,this.darkMode=m.darkMode}attach(m){this.root=document.createElement("div"),this.root.className="-cbwsdk-snackbar-root",m.appendChild(this.root),this.render()}presentItem(m){const x=this.nextItemKey++;return this.items.set(x,m),this.render(),()=>{this.items.delete(x),this.render()}}clear(){this.items.clear(),this.render()}render(){!this.root||(0,n.render)((0,n.h)("div",null,(0,n.h)(t.SnackbarContainer,{darkMode:this.darkMode},Array.from(this.items.entries()).map(([m,x])=>(0,n.h)(t.SnackbarInstance,Object.assign({},x,{key:m}))))),this.root)}}t.Snackbar=l;const h=C=>(0,n.h)("div",{class:(0,r.default)("-cbwsdk-snackbar-container")},(0,n.h)("style",null,s.default),(0,n.h)("div",{class:"-cbwsdk-snackbar"},C.children));t.SnackbarContainer=h;const d=({autoExpand:C,message:m,menuItems:x})=>{const[A,P]=(0,i.useState)(!0),[L,E]=(0,i.useState)(C!=null?C:!1);(0,i.useEffect)(()=>{const O=[window.setTimeout(()=>{P(!1)},1),window.setTimeout(()=>{E(!0)},1e4)];return()=>{O.forEach(window.clearTimeout)}});const I=()=>{E(!L)};return(0,n.h)("div",{class:(0,r.default)("-cbwsdk-snackbar-instance",A&&"-cbwsdk-snackbar-instance-hidden",L&&"-cbwsdk-snackbar-instance-expanded")},(0,n.h)("div",{class:"-cbwsdk-snackbar-instance-header",onClick:I},(0,n.h)("img",{src:o,class:"-cbwsdk-snackbar-instance-header-cblogo"}),(0,n.h)("div",{class:"-cbwsdk-snackbar-instance-header-message"},m),(0,n.h)("div",{class:"-gear-container"},!L&&(0,n.h)("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},(0,n.h)("circle",{cx:"12",cy:"12",r:"12",fill:"#F5F7F8"})),(0,n.h)("img",{src:c,class:"-gear-icon",title:"Expand"}))),x&&x.length>0&&(0,n.h)("div",{class:"-cbwsdk-snackbar-instance-menu"},x.map((O,U)=>(0,n.h)("div",{class:(0,r.default)("-cbwsdk-snackbar-instance-menu-item",O.isRed&&"-cbwsdk-snackbar-instance-menu-item-is-red"),onClick:O.onClick,key:U},(0,n.h)("svg",{width:O.svgWidth,height:O.svgHeight,viewBox:"0 0 10 11",fill:"none",xmlns:"http://www.w3.org/2000/svg"},(0,n.h)("path",{"fill-rule":O.defaultFillRule,"clip-rule":O.defaultClipRule,d:O.path,fill:"#AAAAAA"})),(0,n.h)("span",{class:(0,r.default)("-cbwsdk-snackbar-instance-menu-item-info",O.isRed&&"-cbwsdk-snackbar-instance-menu-item-info-is-red")},O.info)))))};t.SnackbarInstance=d})(Gh);var Gs={},fc={};Object.defineProperty(fc,"__esModule",{value:!0});fc.default='@namespace svg "http://www.w3.org/2000/svg";.-cbwsdk-css-reset,.-cbwsdk-css-reset *{animation:none;animation-delay:0;animation-direction:normal;animation-duration:0;animation-fill-mode:none;animation-iteration-count:1;animation-name:none;animation-play-state:running;animation-timing-function:ease;backface-visibility:visible;background:0;background-attachment:scroll;background-clip:border-box;background-color:rgba(0,0,0,0);background-image:none;background-origin:padding-box;background-position:0 0;background-position-x:0;background-position-y:0;background-repeat:repeat;background-size:auto auto;border:0;border-style:none;border-width:medium;border-color:inherit;border-bottom:0;border-bottom-color:inherit;border-bottom-left-radius:0;border-bottom-right-radius:0;border-bottom-style:none;border-bottom-width:medium;border-collapse:separate;border-image:none;border-left:0;border-left-color:inherit;border-left-style:none;border-left-width:medium;border-radius:0;border-right:0;border-right-color:inherit;border-right-style:none;border-right-width:medium;border-spacing:0;border-top:0;border-top-color:inherit;border-top-left-radius:0;border-top-right-radius:0;border-top-style:none;border-top-width:medium;bottom:auto;box-shadow:none;box-sizing:border-box;caption-side:top;clear:none;clip:auto;color:inherit;columns:auto;column-count:auto;column-fill:balance;column-gap:normal;column-rule:medium none currentColor;column-rule-color:currentColor;column-rule-style:none;column-rule-width:none;column-span:1;column-width:auto;content:normal;counter-increment:none;counter-reset:none;cursor:auto;direction:ltr;display:block;empty-cells:show;float:none;font:normal;font-family:-apple-system,BlinkMacSystemFont,"Segoe UI","Helvetica Neue",Arial,sans-serif;font-size:medium;font-style:normal;font-variant:normal;font-weight:normal;height:auto;hyphens:none;left:auto;letter-spacing:normal;line-height:normal;list-style:none;list-style-image:none;list-style-position:outside;list-style-type:disc;margin:0;margin-bottom:0;margin-left:0;margin-right:0;margin-top:0;max-height:none;max-width:none;min-height:0;min-width:0;opacity:1;orphans:0;outline:0;outline-color:invert;outline-style:none;outline-width:medium;overflow:visible;overflow-x:visible;overflow-y:visible;padding:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;page-break-after:auto;page-break-before:auto;page-break-inside:auto;perspective:none;perspective-origin:50% 50%;pointer-events:auto;position:static;quotes:"\\201C" "\\201D" "\\2018" "\\2019";right:auto;tab-size:8;table-layout:auto;text-align:inherit;text-align-last:auto;text-decoration:none;text-decoration-color:inherit;text-decoration-line:none;text-decoration-style:solid;text-indent:0;text-shadow:none;text-transform:none;top:auto;transform:none;transform-style:flat;transition:none;transition-delay:0s;transition-duration:0s;transition-property:none;transition-timing-function:ease;unicode-bidi:normal;vertical-align:baseline;visibility:visible;white-space:normal;widows:0;width:auto;word-spacing:normal;z-index:auto}.-cbwsdk-css-reset *{box-sizing:border-box;display:initial;font-family:-apple-system,BlinkMacSystemFont,"Segoe UI","Helvetica Neue",Arial,sans-serif;line-height:1}.-cbwsdk-css-reset [class*=container]{margin:0;padding:0}.-cbwsdk-css-reset style{display:none}';var u3=oe&&oe.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Gs,"__esModule",{value:!0});Gs.injectCssReset=void 0;const l3=u3(fc);function f3(){const t=document.createElement("style");t.type="text/css",t.appendChild(document.createTextNode(l3.default)),document.documentElement.appendChild(t)}Gs.injectCssReset=f3;Object.defineProperty($s,"__esModule",{value:!0});$s.WalletSDKUI=void 0;const h3=Ws,d3=Gh,p3=Gs;class _3{constructor(e){this.standalone=null,this.attached=!1,this.snackbar=new d3.Snackbar({darkMode:e.darkMode}),this.linkFlow=new h3.LinkFlow({darkMode:e.darkMode,version:e.version,sessionId:e.session.id,sessionSecret:e.session.secret,linkAPIUrl:e.linkAPIUrl,connected$:e.connected$,chainId$:e.chainId$,isParentConnection:!1})}attach(){if(this.attached)throw new Error("Coinbase Wallet SDK UI is already attached");const e=document.documentElement,r=document.createElement("div");r.className="-cbwsdk-css-reset",e.appendChild(r),this.linkFlow.attach(r),this.snackbar.attach(r),this.attached=!0,(0,p3.injectCssReset)()}setConnectDisabled(e){this.linkFlow.setConnectDisabled(e)}addEthereumChain(e){}watchAsset(e){}switchEthereumChain(e){}requestEthereumAccounts(e){this.linkFlow.open({onCancel:e.onCancel})}hideRequestEthereumAccounts(){this.linkFlow.close()}signEthereumMessage(e){}signEthereumTransaction(e){}submitEthereumTransaction(e){}ethereumAddressFromSignedMessage(e){}showConnecting(e){let r;return e.isUnlinkedErrorState?r={autoExpand:!0,message:"Connection lost",menuItems:[{isRed:!1,info:"Reset connection",svgWidth:"10",svgHeight:"11",path:"M5.00008 0.96875C6.73133 0.96875 8.23758 1.94375 9.00008 3.375L10.0001 2.375V5.5H9.53133H7.96883H6.87508L7.80633 4.56875C7.41258 3.3875 6.31258 2.53125 5.00008 2.53125C3.76258 2.53125 2.70633 3.2875 2.25633 4.36875L0.812576 3.76875C1.50008 2.125 3.11258 0.96875 5.00008 0.96875ZM2.19375 6.43125C2.5875 7.6125 3.6875 8.46875 5 8.46875C6.2375 8.46875 7.29375 7.7125 7.74375 6.63125L9.1875 7.23125C8.5 8.875 6.8875 10.0312 5 10.0312C3.26875 10.0312 1.7625 9.05625 1 7.625L0 8.625V5.5H0.46875H2.03125H3.125L2.19375 6.43125Z",defaultFillRule:"evenodd",defaultClipRule:"evenodd",onClick:e.onResetConnection}]}:r={message:"Confirm on phone",menuItems:[{isRed:!0,info:"Cancel transaction",svgWidth:"11",svgHeight:"11",path:"M10.3711 1.52346L9.21775 0.370117L5.37109 4.21022L1.52444 0.370117L0.371094 1.52346L4.2112 5.37012L0.371094 9.21677L1.52444 10.3701L5.37109 6.53001L9.21775 10.3701L10.3711 9.21677L6.53099 5.37012L10.3711 1.52346Z",defaultFillRule:"inherit",defaultClipRule:"inherit",onClick:e.onCancel},{isRed:!1,info:"Reset connection",svgWidth:"10",svgHeight:"11",path:"M5.00008 0.96875C6.73133 0.96875 8.23758 1.94375 9.00008 3.375L10.0001 2.375V5.5H9.53133H7.96883H6.87508L7.80633 4.56875C7.41258 3.3875 6.31258 2.53125 5.00008 2.53125C3.76258 2.53125 2.70633 3.2875 2.25633 4.36875L0.812576 3.76875C1.50008 2.125 3.11258 0.96875 5.00008 0.96875ZM2.19375 6.43125C2.5875 7.6125 3.6875 8.46875 5 8.46875C6.2375 8.46875 7.29375 7.7125 7.74375 6.63125L9.1875 7.23125C8.5 8.875 6.8875 10.0312 5 10.0312C3.26875 10.0312 1.7625 9.05625 1 7.625L0 8.625V5.5H0.46875H2.03125H3.125L2.19375 6.43125Z",defaultFillRule:"evenodd",defaultClipRule:"evenodd",onClick:e.onResetConnection}]},this.snackbar.presentItem(r)}reloadUI(){document.location.reload()}inlineAccountsResponse(){return!1}inlineAddEthereumChain(e){return!1}inlineWatchAsset(){return!1}inlineSwitchEthereumChain(){return!1}setStandalone(e){this.standalone=e}isStandalone(){var e;return(e=this.standalone)!==null&&e!==void 0?e:!1}}$s.WalletSDKUI=_3;var Zs={},Ks={};Object.defineProperty(Ks,"__esModule",{value:!0});var an;(function(t){t.typeOfFunction="function",t.boolTrue=!0})(an||(an={}));function Zh(t,e,r){if(!r||typeof r.value!==an.typeOfFunction)throw new TypeError("Only methods can be decorated with @bind. <"+e+"> is not a method!");return{configurable:an.boolTrue,get:function(){var n=r.value.bind(this);return Object.defineProperty(this,e,{value:n,configurable:an.boolTrue,writable:an.boolTrue}),n}}}Ks.bind=Zh;Ks.default=Zh;var Qs={},kt={};Object.defineProperty(kt,"__esModule",{value:!0});kt.ClientMessagePublishEvent=kt.ClientMessageSetSessionConfig=kt.ClientMessageGetSessionConfig=kt.ClientMessageIsLinked=kt.ClientMessageHostSession=void 0;function g3(t){return Object.assign({type:"HostSession"},t)}kt.ClientMessageHostSession=g3;function b3(t){return Object.assign({type:"IsLinked"},t)}kt.ClientMessageIsLinked=b3;function v3(t){return Object.assign({type:"GetSessionConfig"},t)}kt.ClientMessageGetSessionConfig=v3;function m3(t){return Object.assign({type:"SetSessionConfig"},t)}kt.ClientMessageSetSessionConfig=m3;function y3(t){return Object.assign({type:"PublishEvent"},t)}kt.ClientMessagePublishEvent=y3;var Kh={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.RxWebSocket=t.ConnectionState=void 0;const e=Nn,r=ys;var n;(function(s){s[s.DISCONNECTED=0]="DISCONNECTED",s[s.CONNECTING=1]="CONNECTING",s[s.CONNECTED=2]="CONNECTED"})(n=t.ConnectionState||(t.ConnectionState={}));class i{constructor(o,c=WebSocket){this.WebSocketClass=c,this.webSocket=null,this.connectionStateSubject=new e.BehaviorSubject(n.DISCONNECTED),this.incomingDataSubject=new e.Subject,this.url=o.replace(/^http/,"ws")}connect(){return this.webSocket?(0,e.throwError)(new Error("webSocket object is not null")):new e.Observable(o=>{let c;try{this.webSocket=c=new this.WebSocketClass(this.url)}catch(l){o.error(l);return}this.connectionStateSubject.next(n.CONNECTING),c.onclose=l=>{this.clearWebSocket(),o.error(new Error(`websocket error ${l.code}: ${l.reason}`)),this.connectionStateSubject.next(n.DISCONNECTED)},c.onopen=l=>{o.next(),o.complete(),this.connectionStateSubject.next(n.CONNECTED)},c.onmessage=l=>{this.incomingDataSubject.next(l.data)}}).pipe((0,r.take)(1))}disconnect(){const{webSocket:o}=this;if(!!o){this.clearWebSocket(),this.connectionStateSubject.next(n.DISCONNECTED);try{o.close()}catch{}}}get connectionState$(){return this.connectionStateSubject.asObservable()}get incomingData$(){return this.incomingDataSubject.asObservable()}get incomingJSONData$(){return this.incomingData$.pipe((0,r.flatMap)(o=>{let c;try{c=JSON.parse(o)}catch{return(0,e.empty)()}return(0,e.of)(c)}))}sendData(o){const{webSocket:c}=this;if(!c)throw new Error("websocket is not connected");c.send(o)}clearWebSocket(){const{webSocket:o}=this;!o||(this.webSocket=null,o.onclose=null,o.onerror=null,o.onmessage=null,o.onopen=null)}}t.RxWebSocket=i})(Kh);var Ys={};Object.defineProperty(Ys,"__esModule",{value:!0});Ys.isServerMessageFail=void 0;function w3(t){return t&&t.type==="Fail"&&typeof t.id=="number"&&typeof t.sessionId=="string"&&typeof t.error=="string"}Ys.isServerMessageFail=w3;Object.defineProperty(Qs,"__esModule",{value:!0});Qs.WalletSDKConnection=void 0;const Rt=Nn,fe=ys,Wn=Rn,tn=yi,Hn=kt,Vn=An,Fi=Kh,Ko=Ys,Yu=1e4,S3=6e4;class E3{constructor(e,r,n,i,s=WebSocket){this.sessionId=e,this.sessionKey=r,this.diagnostic=i,this.subscriptions=new Rt.Subscription,this.destroyed=!1,this.lastHeartbeatResponse=0,this.nextReqId=(0,tn.IntNumber)(1),this.connectedSubject=new Rt.BehaviorSubject(!1),this.linkedSubject=new Rt.BehaviorSubject(!1),this.sessionConfigSubject=new Rt.ReplaySubject(1);const o=new Fi.RxWebSocket(n+"/rpc",s);this.ws=o,this.subscriptions.add(o.connectionState$.pipe((0,fe.tap)(c=>{var l;return(l=this.diagnostic)===null||l===void 0?void 0:l.log(Vn.EVENTS.CONNECTED_STATE_CHANGE,{state:c,sessionIdHash:Wn.Session.hash(e)})}),(0,fe.skip)(1),(0,fe.filter)(c=>c===Fi.ConnectionState.DISCONNECTED&&!this.destroyed),(0,fe.delay)(5e3),(0,fe.filter)(c=>!this.destroyed),(0,fe.flatMap)(c=>o.connect()),(0,fe.retry)()).subscribe()),this.subscriptions.add(o.connectionState$.pipe((0,fe.skip)(2),(0,fe.switchMap)(c=>(0,Rt.iif)(()=>c===Fi.ConnectionState.CONNECTED,this.authenticate().pipe((0,fe.tap)(l=>this.sendIsLinked()),(0,fe.tap)(l=>this.sendGetSessionConfig()),(0,fe.map)(l=>!0)),(0,Rt.of)(!1))),(0,fe.distinctUntilChanged)(),(0,fe.catchError)(c=>(0,Rt.of)(!1))).subscribe(c=>this.connectedSubject.next(c))),this.subscriptions.add(o.connectionState$.pipe((0,fe.skip)(1),(0,fe.switchMap)(c=>(0,Rt.iif)(()=>c===Fi.ConnectionState.CONNECTED,(0,Rt.timer)(0,Yu)))).subscribe(c=>c===0?this.updateLastHeartbeat():this.heartbeat())),this.subscriptions.add(o.incomingData$.pipe((0,fe.filter)(c=>c==="h")).subscribe(c=>this.updateLastHeartbeat())),this.subscriptions.add(o.incomingJSONData$.pipe((0,fe.filter)(c=>["IsLinkedOK","Linked"].includes(c.type))).subscribe(c=>{var l;const h=c;(l=this.diagnostic)===null||l===void 0||l.log(Vn.EVENTS.LINKED,{sessionIdHash:Wn.Session.hash(e),linked:h.linked,type:c.type,onlineGuests:h.onlineGuests}),this.linkedSubject.next(h.linked||h.onlineGuests>0)})),this.subscriptions.add(o.incomingJSONData$.pipe((0,fe.filter)(c=>["GetSessionConfigOK","SessionConfigUpdated"].includes(c.type))).subscribe(c=>{var l;const h=c;(l=this.diagnostic)===null||l===void 0||l.log(Vn.EVENTS.SESSION_CONFIG_RECEIVED,{sessionIdHash:Wn.Session.hash(e),metadata_keys:h&&h.metadata?Object.keys(h.metadata):void 0}),this.sessionConfigSubject.next({webhookId:h.webhookId,webhookUrl:h.webhookUrl,metadata:h.metadata})}))}connect(){var e;if(this.destroyed)throw new Error("instance is destroyed");(e=this.diagnostic)===null||e===void 0||e.log(Vn.EVENTS.STARTED_CONNECTING,{sessionIdHash:Wn.Session.hash(this.sessionId)}),this.ws.connect().subscribe()}destroy(){var e;this.subscriptions.unsubscribe(),this.ws.disconnect(),(e=this.diagnostic)===null||e===void 0||e.log(Vn.EVENTS.DISCONNECTED,{sessionIdHash:Wn.Session.hash(this.sessionId)}),this.destroyed=!0}get isDestroyed(){return this.destroyed}get connected$(){return this.connectedSubject.asObservable()}get onceConnected$(){return this.connected$.pipe((0,fe.filter)(e=>e),(0,fe.take)(1),(0,fe.map)(()=>{}))}get linked$(){return this.linkedSubject.asObservable()}get onceLinked$(){return this.linked$.pipe((0,fe.filter)(e=>e),(0,fe.take)(1),(0,fe.map)(()=>{}))}get sessionConfig$(){return this.sessionConfigSubject.asObservable()}get incomingEvent$(){return this.ws.incomingJSONData$.pipe((0,fe.filter)(e=>{if(e.type!=="Event")return!1;const r=e;return typeof r.sessionId=="string"&&typeof r.eventId=="string"&&typeof r.event=="string"&&typeof r.data=="string"}),(0,fe.map)(e=>e))}setSessionMetadata(e,r){const n=(0,Hn.ClientMessageSetSessionConfig)({id:(0,tn.IntNumber)(this.nextReqId++),sessionId:this.sessionId,metadata:{[e]:r}});return this.onceConnected$.pipe((0,fe.flatMap)(i=>this.makeRequest(n)),(0,fe.map)(i=>{if((0,Ko.isServerMessageFail)(i))throw new Error(i.error||"failed to set session metadata")}))}publishEvent(e,r,n=!1){const i=(0,Hn.ClientMessagePublishEvent)({id:(0,tn.IntNumber)(this.nextReqId++),sessionId:this.sessionId,event:e,data:r,callWebhook:n});return this.onceLinked$.pipe((0,fe.flatMap)(s=>this.makeRequest(i)),(0,fe.map)(s=>{if((0,Ko.isServerMessageFail)(s))throw new Error(s.error||"failed to publish event");return s.eventId}))}sendData(e){this.ws.sendData(JSON.stringify(e))}updateLastHeartbeat(){this.lastHeartbeatResponse=Date.now()}heartbeat(){if(Date.now()-this.lastHeartbeatResponse>Yu*2){this.ws.disconnect();return}try{this.ws.sendData("h")}catch{}}makeRequest(e,r=S3){const n=e.id;try{this.sendData(e)}catch(i){return(0,Rt.throwError)(i)}return this.ws.incomingJSONData$.pipe((0,fe.timeoutWith)(r,(0,Rt.throwError)(new Error(`request ${n} timed out`))),(0,fe.filter)(i=>i.id===n),(0,fe.take)(1))}authenticate(){const e=(0,Hn.ClientMessageHostSession)({id:(0,tn.IntNumber)(this.nextReqId++),sessionId:this.sessionId,sessionKey:this.sessionKey});return this.makeRequest(e).pipe((0,fe.map)(r=>{if((0,Ko.isServerMessageFail)(r))throw new Error(r.error||"failed to authentcate")}))}sendIsLinked(){const e=(0,Hn.ClientMessageIsLinked)({id:(0,tn.IntNumber)(this.nextReqId++),sessionId:this.sessionId});this.sendData(e)}sendGetSessionConfig(){const e=(0,Hn.ClientMessageGetSessionConfig)({id:(0,tn.IntNumber)(this.nextReqId++),sessionId:this.sessionId});this.sendData(e)}}Qs.WalletSDKConnection=E3;var Js={};Object.defineProperty(Js,"__esModule",{value:!0});Js.WalletUIError=void 0;class ai extends Error{constructor(e,r){super(e),this.message=e,this.errorCode=r}}Js.WalletUIError=ai;ai.UserRejectedRequest=new ai("User rejected request");ai.SwitchEthereumChainUnsupportedChainId=new ai("Unsupported chainId",4902);var xn={};Object.defineProperty(xn,"__esModule",{value:!0});xn.decrypt=xn.encrypt=void 0;const k3=Nn,us=J;async function x3(t,e){if(e.length!==64)throw Error("secret must be 256 bits");const r=crypto.getRandomValues(new Uint8Array(12)),n=await crypto.subtle.importKey("raw",(0,us.hexStringToUint8Array)(e),{name:"aes-gcm"},!1,["encrypt","decrypt"]),i=new TextEncoder,s=await window.crypto.subtle.encrypt({name:"AES-GCM",iv:r},n,i.encode(t)),o=16,c=s.slice(s.byteLength-o),l=s.slice(0,s.byteLength-o),h=new Uint8Array(c),d=new Uint8Array(l),C=new Uint8Array([...r,...h,...d]);return(0,us.uint8ArrayToHex)(C)}xn.encrypt=x3;function M3(t,e){if(e.length!==64)throw Error("secret must be 256 bits");return new k3.Observable(r=>{(async function(){const n=await crypto.subtle.importKey("raw",(0,us.hexStringToUint8Array)(e),{name:"aes-gcm"},!1,["encrypt","decrypt"]),i=(0,us.hexStringToUint8Array)(t),s=i.slice(0,12),o=i.slice(12,28),c=i.slice(28),l=new Uint8Array([...c,...o]),h={name:"AES-GCM",iv:new Uint8Array(s)};try{const d=await window.crypto.subtle.decrypt(h,n,l),C=new TextDecoder;r.next(C.decode(d)),r.complete()}catch(d){r.error(d)}})()})}xn.decrypt=M3;var hc={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.Web3Method=void 0,function(e){e.requestEthereumAccounts="requestEthereumAccounts",e.signEthereumMessage="signEthereumMessage",e.signEthereumTransaction="signEthereumTransaction",e.submitEthereumTransaction="submitEthereumTransaction",e.ethereumAddressFromSignedMessage="ethereumAddressFromSignedMessage",e.scanQRCode="scanQRCode",e.generic="generic",e.childRequestEthereumAccounts="childRequestEthereumAccounts",e.addEthereumChain="addEthereumChain",e.switchEthereumChain="switchEthereumChain",e.makeEthereumJSONRPCRequest="makeEthereumJSONRPCRequest",e.watchAsset="watchAsset",e.selectProvider="selectProvider"}(t.Web3Method||(t.Web3Method={}))})(hc);var Xs={},eo={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.RelayMessageType=void 0,function(e){e.SESSION_ID_REQUEST="SESSION_ID_REQUEST",e.SESSION_ID_RESPONSE="SESSION_ID_RESPONSE",e.LINKED="LINKED",e.UNLINKED="UNLINKED",e.WEB3_REQUEST="WEB3_REQUEST",e.WEB3_REQUEST_CANCELED="WEB3_REQUEST_CANCELED",e.WEB3_RESPONSE="WEB3_RESPONSE"}(t.RelayMessageType||(t.RelayMessageType={}))})(eo);Object.defineProperty(Xs,"__esModule",{value:!0});Xs.Web3RequestCanceledMessage=void 0;const C3=eo;function A3(t){return{type:C3.RelayMessageType.WEB3_REQUEST_CANCELED,id:t}}Xs.Web3RequestCanceledMessage=A3;var to={};Object.defineProperty(to,"__esModule",{value:!0});to.Web3RequestMessage=void 0;const R3=eo;function I3(t){return Object.assign({type:R3.RelayMessageType.WEB3_REQUEST},t)}to.Web3RequestMessage=I3;var ze={};Object.defineProperty(ze,"__esModule",{value:!0});ze.EthereumAddressFromSignedMessageResponse=ze.SubmitEthereumTransactionResponse=ze.SignEthereumTransactionResponse=ze.SignEthereumMessageResponse=ze.isRequestEthereumAccountsResponse=ze.SelectProviderResponse=ze.WatchAssetReponse=ze.RequestEthereumAccountsResponse=ze.SwitchEthereumChainResponse=ze.AddEthereumChainResponse=ze.ErrorResponse=void 0;const $t=hc;function T3(t,e,r){return{method:t,errorMessage:e,errorCode:r}}ze.ErrorResponse=T3;function O3(t){return{method:$t.Web3Method.addEthereumChain,result:t}}ze.AddEthereumChainResponse=O3;function N3(t){return{method:$t.Web3Method.switchEthereumChain,result:t}}ze.SwitchEthereumChainResponse=N3;function D3(t){return{method:$t.Web3Method.requestEthereumAccounts,result:t}}ze.RequestEthereumAccountsResponse=D3;function P3(t){return{method:$t.Web3Method.watchAsset,result:t}}ze.WatchAssetReponse=P3;function L3(t){return{method:$t.Web3Method.selectProvider,result:t}}ze.SelectProviderResponse=L3;function j3(t){return t&&t.method===$t.Web3Method.requestEthereumAccounts}ze.isRequestEthereumAccountsResponse=j3;function B3(t){return{method:$t.Web3Method.signEthereumMessage,result:t}}ze.SignEthereumMessageResponse=B3;function F3(t){return{method:$t.Web3Method.signEthereumTransaction,result:t}}ze.SignEthereumTransactionResponse=F3;function U3(t){return{method:$t.Web3Method.submitEthereumTransaction,result:t}}ze.SubmitEthereumTransactionResponse=U3;function $3(t){return{method:$t.Web3Method.ethereumAddressFromSignedMessage,result:t}}ze.EthereumAddressFromSignedMessageResponse=$3;var Mn={};Object.defineProperty(Mn,"__esModule",{value:!0});Mn.isWeb3ResponseMessage=Mn.Web3ResponseMessage=void 0;const Qh=eo;function W3(t){return Object.assign({type:Qh.RelayMessageType.WEB3_RESPONSE},t)}Mn.Web3ResponseMessage=W3;function H3(t){return t&&t.type===Qh.RelayMessageType.WEB3_RESPONSE}Mn.isWeb3ResponseMessage=H3;var V3=oe&&oe.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r),Object.defineProperty(t,n,{enumerable:!0,get:function(){return e[r]}})}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),q3=oe&&oe.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),Yh=oe&&oe.__decorate||function(t,e,r,n){var i=arguments.length,s=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,r):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,r,n);else for(var c=t.length-1;c>=0;c--)(o=t[c])&&(s=(i<3?o(s):i>3?o(e,r,s):o(e,r))||s);return i>3&&s&&Object.defineProperty(e,r,s),s},z3=oe&&oe.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&V3(e,t,r);return q3(e,t),e},G3=oe&&oe.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Zs,"__esModule",{value:!0});Zs.WalletSDKRelay=void 0;const Jh=G3(Ks),Ju=_s,qn=Nn,it=ys,ft=An,Z3=Qs,Qo=Js,K3=yi,qe=J,Cr=z3(xn),Jt=Rn,Ui=Ot,et=hc,Q3=Xs,Y3=to,bt=ze,ht=Mn;class Tt extends Ui.WalletSDKRelayAbstract{constructor(e){var r;super(),this.accountsCallback=null,this.chainCallback=null,this.dappDefaultChainSubject=new qn.BehaviorSubject(1),this.dappDefaultChain=1,this.appName="",this.appLogoUrl=null,this.subscriptions=new qn.Subscription,this.linkAPIUrl=e.linkAPIUrl,this.storage=e.storage,this.options=e;const{session:n,ui:i,connection:s}=this.subscribe();if(this._session=n,this.connection=s,this.relayEventManager=e.relayEventManager,e.diagnosticLogger&&e.eventListener)throw new Error("Can't have both eventListener and diagnosticLogger options, use only diagnosticLogger");e.eventListener?this.diagnostic={log:e.eventListener.onEvent}:this.diagnostic=e.diagnosticLogger,this._reloadOnDisconnect=(r=e.reloadOnDisconnect)!==null&&r!==void 0?r:!0,this.ui=i}subscribe(){this.subscriptions.add(this.dappDefaultChainSubject.subscribe(i=>{this.dappDefaultChain!==i&&(this.dappDefaultChain=i)}));const e=Jt.Session.load(this.storage)||new Jt.Session(this.storage).save(),r=new Z3.WalletSDKConnection(e.id,e.key,this.linkAPIUrl,this.diagnostic);this.subscriptions.add(r.sessionConfig$.subscribe({next:i=>{this.onSessionConfigChanged(i)},error:()=>{var i;(i=this.diagnostic)===null||i===void 0||i.log(ft.EVENTS.GENERAL_ERROR,{message:"error while invoking session config callback"})}})),this.subscriptions.add(r.incomingEvent$.pipe((0,it.filter)(i=>i.event==="Web3Response")).subscribe({next:this.handleIncomingEvent})),this.subscriptions.add(r.linked$.pipe((0,it.skip)(1),(0,it.tap)(i=>{var s;this.isLinked=i;const o=this.storage.getItem(Ui.LOCAL_STORAGE_ADDRESSES_KEY);if(i&&(this.session.linked=i),this.isUnlinkedErrorState=!1,o){const c=o.split(" "),l=this.storage.getItem("IsStandaloneSigning")==="true";if(c[0]!==""&&!i&&this.session.linked&&!l){this.isUnlinkedErrorState=!0;const h=this.getSessionIdHash();(s=this.diagnostic)===null||s===void 0||s.log(ft.EVENTS.UNLINKED_ERROR_STATE,{sessionIdHash:h})}}})).subscribe()),this.subscriptions.add(r.sessionConfig$.pipe((0,it.filter)(i=>!!i.metadata&&i.metadata.__destroyed==="1")).subscribe(()=>{var i;const s=r.isDestroyed;return(i=this.diagnostic)===null||i===void 0||i.log(ft.EVENTS.METADATA_DESTROYED,{alreadyDestroyed:s,sessionIdHash:this.getSessionIdHash()}),this.resetAndReload()})),this.subscriptions.add(r.sessionConfig$.pipe((0,it.filter)(i=>i.metadata&&i.metadata.WalletUsername!==void 0)).pipe((0,it.mergeMap)(i=>Cr.decrypt(i.metadata.WalletUsername,e.secret))).subscribe({next:i=>{this.storage.setItem(Ui.WALLET_USER_NAME_KEY,i)},error:()=>{var i;(i=this.diagnostic)===null||i===void 0||i.log(ft.EVENTS.GENERAL_ERROR,{message:"Had error decrypting",value:"username"})}})),this.subscriptions.add(r.sessionConfig$.pipe((0,it.filter)(i=>i.metadata&&i.metadata.AppVersion!==void 0)).pipe((0,it.mergeMap)(i=>Cr.decrypt(i.metadata.AppVersion,e.secret))).subscribe({next:i=>{this.storage.setItem(Ui.APP_VERSION_KEY,i)},error:()=>{var i;(i=this.diagnostic)===null||i===void 0||i.log(ft.EVENTS.GENERAL_ERROR,{message:"Had error decrypting",value:"appversion"})}})),this.subscriptions.add(r.sessionConfig$.pipe((0,it.filter)(i=>i.metadata&&i.metadata.ChainId!==void 0&&i.metadata.JsonRpcUrl!==void 0)).pipe((0,it.mergeMap)(i=>(0,qn.zip)(Cr.decrypt(i.metadata.ChainId,e.secret),Cr.decrypt(i.metadata.JsonRpcUrl,e.secret)))).pipe((0,it.distinctUntilChanged)()).subscribe({next:([i,s])=>{this.chainCallback&&this.chainCallback(i,s)},error:()=>{var i;(i=this.diagnostic)===null||i===void 0||i.log(ft.EVENTS.GENERAL_ERROR,{message:"Had error decrypting",value:"chainId|jsonRpcUrl"})}})),this.subscriptions.add(r.sessionConfig$.pipe((0,it.filter)(i=>i.metadata&&i.metadata.EthereumAddress!==void 0)).pipe((0,it.mergeMap)(i=>Cr.decrypt(i.metadata.EthereumAddress,e.secret))).subscribe({next:i=>{this.accountsCallback&&this.accountsCallback([i]),Tt.accountRequestCallbackIds.size>0&&(Array.from(Tt.accountRequestCallbackIds.values()).forEach(s=>{const o=(0,ht.Web3ResponseMessage)({id:s,response:(0,bt.RequestEthereumAccountsResponse)([i])});this.invokeCallback(Object.assign(Object.assign({},o),{id:s}))}),Tt.accountRequestCallbackIds.clear())},error:()=>{var i;(i=this.diagnostic)===null||i===void 0||i.log(ft.EVENTS.GENERAL_ERROR,{message:"Had error decrypting",value:"selectedAddress"})}}));const n=this.options.uiConstructor({linkAPIUrl:this.options.linkAPIUrl,version:this.options.version,darkMode:this.options.darkMode,session:e,connected$:r.connected$,chainId$:this.dappDefaultChainSubject});return r.connect(),{session:e,ui:n,connection:r}}attachUI(){this.ui.attach()}resetAndReload(){this.connection.setSessionMetadata("__destroyed","1").pipe((0,it.timeout)(1e3),(0,it.catchError)(e=>(0,qn.of)(null))).subscribe(e=>{var r,n,i;const s=this.ui.isStandalone();try{this.subscriptions.unsubscribe()}catch{(r=this.diagnostic)===null||r===void 0||r.log(ft.EVENTS.GENERAL_ERROR,{message:"Had error unsubscribing"})}(n=this.diagnostic)===null||n===void 0||n.log(ft.EVENTS.SESSION_STATE_CHANGE,{method:"relay::resetAndReload",sessionMetadataChange:"__destroyed, 1",sessionIdHash:this.getSessionIdHash()}),this.connection.destroy();const o=Jt.Session.load(this.storage);if((o==null?void 0:o.id)===this._session.id?this.storage.clear():o&&((i=this.diagnostic)===null||i===void 0||i.log(ft.EVENTS.SKIPPED_CLEARING_SESSION,{sessionIdHash:this.getSessionIdHash(),storedSessionIdHash:Jt.Session.hash(o.id)})),this._reloadOnDisconnect){this.ui.reloadUI();return}this.accountsCallback&&this.accountsCallback([],!0);const{session:c,ui:l,connection:h}=this.subscribe();this._session=c,this.connection=h,this.ui=l,s&&this.ui.setStandalone&&this.ui.setStandalone(!0),this.attachUI()},e=>{var r;(r=this.diagnostic)===null||r===void 0||r.log(ft.EVENTS.FAILURE,{method:"relay::resetAndReload",message:`failed to reset and reload with ${e}`,sessionIdHash:this.getSessionIdHash()})})}setAppInfo(e,r){this.appName=e,this.appLogoUrl=r}getStorageItem(e){return this.storage.getItem(e)}get session(){return this._session}setStorageItem(e,r){this.storage.setItem(e,r)}signEthereumMessage(e,r,n,i){return this.sendRequest({method:et.Web3Method.signEthereumMessage,params:{message:(0,qe.hexStringFromBuffer)(e,!0),address:r,addPrefix:n,typedDataJson:i||null}})}ethereumAddressFromSignedMessage(e,r,n){return this.sendRequest({method:et.Web3Method.ethereumAddressFromSignedMessage,params:{message:(0,qe.hexStringFromBuffer)(e,!0),signature:(0,qe.hexStringFromBuffer)(r,!0),addPrefix:n}})}signEthereumTransaction(e){return this.sendRequest({method:et.Web3Method.signEthereumTransaction,params:{fromAddress:e.fromAddress,toAddress:e.toAddress,weiValue:(0,qe.bigIntStringFromBN)(e.weiValue),data:(0,qe.hexStringFromBuffer)(e.data,!0),nonce:e.nonce,gasPriceInWei:e.gasPriceInWei?(0,qe.bigIntStringFromBN)(e.gasPriceInWei):null,maxFeePerGas:e.gasPriceInWei?(0,qe.bigIntStringFromBN)(e.gasPriceInWei):null,maxPriorityFeePerGas:e.gasPriceInWei?(0,qe.bigIntStringFromBN)(e.gasPriceInWei):null,gasLimit:e.gasLimit?(0,qe.bigIntStringFromBN)(e.gasLimit):null,chainId:e.chainId,shouldSubmit:!1}})}signAndSubmitEthereumTransaction(e){return this.sendRequest({method:et.Web3Method.signEthereumTransaction,params:{fromAddress:e.fromAddress,toAddress:e.toAddress,weiValue:(0,qe.bigIntStringFromBN)(e.weiValue),data:(0,qe.hexStringFromBuffer)(e.data,!0),nonce:e.nonce,gasPriceInWei:e.gasPriceInWei?(0,qe.bigIntStringFromBN)(e.gasPriceInWei):null,maxFeePerGas:e.maxFeePerGas?(0,qe.bigIntStringFromBN)(e.maxFeePerGas):null,maxPriorityFeePerGas:e.maxPriorityFeePerGas?(0,qe.bigIntStringFromBN)(e.maxPriorityFeePerGas):null,gasLimit:e.gasLimit?(0,qe.bigIntStringFromBN)(e.gasLimit):null,chainId:e.chainId,shouldSubmit:!0}})}submitEthereumTransaction(e,r){return this.sendRequest({method:et.Web3Method.submitEthereumTransaction,params:{signedTransaction:(0,qe.hexStringFromBuffer)(e,!0),chainId:r}})}scanQRCode(e){return this.sendRequest({method:et.Web3Method.scanQRCode,params:{regExp:e}})}getQRCodeUrl(){return(0,qe.createQrUrl)(this._session.id,this._session.secret,this.linkAPIUrl,!1,this.dappDefaultChain)}genericRequest(e,r){return this.sendRequest({method:et.Web3Method.generic,params:{action:r,data:e}})}sendGenericMessage(e){return this.sendRequest(e)}sendRequest(e){let r=null;const n=(0,qe.randomBytesHex)(8),i=o=>{this.publishWeb3RequestCanceledEvent(n),this.handleErrorResponse(n,e.method,o),r==null||r()};return{promise:new Promise((o,c)=>{this.ui.isStandalone()||(r=this.ui.showConnecting({isUnlinkedErrorState:this.isUnlinkedErrorState,onCancel:i,onResetConnection:this.resetAndReload})),this.relayEventManager.callbacks.set(n,l=>{if(r==null||r(),l.errorMessage)return c(new Error(l.errorMessage));o(l)}),this.ui.isStandalone()?this.sendRequestStandalone(n,e):this.publishWeb3RequestEvent(n,e)}),cancel:i}}setConnectDisabled(e){this.ui.setConnectDisabled(e)}setAccountsCallback(e){this.accountsCallback=e}setChainCallback(e){this.chainCallback=e}setDappDefaultChainCallback(e){this.dappDefaultChainSubject.next(e)}publishWeb3RequestEvent(e,r){var n;const i=(0,Y3.Web3RequestMessage)({id:e,request:r}),s=Jt.Session.load(this.storage);(n=this.diagnostic)===null||n===void 0||n.log(ft.EVENTS.WEB3_REQUEST,{eventId:i.id,method:`relay::${i.request.method}`,sessionIdHash:this.getSessionIdHash(),storedSessionIdHash:s?Jt.Session.hash(s.id):"",isSessionMismatched:((s==null?void 0:s.id)!==this._session.id).toString()}),this.subscriptions.add(this.publishEvent("Web3Request",i,!0).subscribe({next:o=>{var c;(c=this.diagnostic)===null||c===void 0||c.log(ft.EVENTS.WEB3_REQUEST_PUBLISHED,{eventId:i.id,method:`relay::${i.request.method}`,sessionIdHash:this.getSessionIdHash(),storedSessionIdHash:s?Jt.Session.hash(s.id):"",isSessionMismatched:((s==null?void 0:s.id)!==this._session.id).toString()})},error:o=>{this.handleWeb3ResponseMessage((0,ht.Web3ResponseMessage)({id:i.id,response:{method:i.request.method,errorMessage:o.message}}))}}))}publishWeb3RequestCanceledEvent(e){const r=(0,Q3.Web3RequestCanceledMessage)(e);this.subscriptions.add(this.publishEvent("Web3RequestCanceled",r,!1).subscribe())}publishEvent(e,r,n){const i=this.session.secret;return new qn.Observable(s=>{Cr.encrypt(JSON.stringify(Object.assign(Object.assign({},r),{origin:location.origin})),i).then(o=>{s.next(o),s.complete()})}).pipe((0,it.mergeMap)(s=>this.connection.publishEvent(e,s,n)))}handleIncomingEvent(e){try{this.subscriptions.add(Cr.decrypt(e.data,this.session.secret).pipe((0,it.map)(r=>JSON.parse(r))).subscribe({next:r=>{const n=(0,ht.isWeb3ResponseMessage)(r)?r:null;!n||this.handleWeb3ResponseMessage(n)},error:()=>{var r;(r=this.diagnostic)===null||r===void 0||r.log(ft.EVENTS.GENERAL_ERROR,{message:"Had error decrypting",value:"incomingEvent"})}}))}catch{return}}handleWeb3ResponseMessage(e){var r;const{response:n}=e;if((r=this.diagnostic)===null||r===void 0||r.log(ft.EVENTS.WEB3_RESPONSE,{eventId:e.id,method:`relay::${n.method}`,sessionIdHash:this.getSessionIdHash()}),(0,bt.isRequestEthereumAccountsResponse)(n)){Tt.accountRequestCallbackIds.forEach(i=>this.invokeCallback(Object.assign(Object.assign({},e),{id:i}))),Tt.accountRequestCallbackIds.clear();return}this.invokeCallback(e)}handleErrorResponse(e,r,n,i){this.handleWeb3ResponseMessage((0,ht.Web3ResponseMessage)({id:e,response:(0,bt.ErrorResponse)(r,(n!=null?n:Qo.WalletUIError.UserRejectedRequest).message,i)}))}invokeCallback(e){const r=this.relayEventManager.callbacks.get(e.id);r&&(r(e.response),this.relayEventManager.callbacks.delete(e.id))}requestEthereumAccounts(){const e={method:et.Web3Method.requestEthereumAccounts,params:{appName:this.appName,appLogoUrl:this.appLogoUrl||null}},r=(0,qe.randomBytesHex)(8),n=s=>{this.publishWeb3RequestCanceledEvent(r),this.handleErrorResponse(r,e.method,s)};return{promise:new Promise((s,o)=>{var c;this.relayEventManager.callbacks.set(r,h=>{if(this.ui.hideRequestEthereumAccounts(),h.errorMessage)return o(new Error(h.errorMessage));s(h)});const l=((c=window==null?void 0:window.navigator)===null||c===void 0?void 0:c.userAgent)||null;if(l&&/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(l)){let h;try{(0,qe.isInIFrame)()&&window.top?h=window.top.location:h=window.location}catch{h=window.location}h.href=`https://go.cb-w.com/xoXnYwQimhb?cb_url=${encodeURIComponent(h.href)}`;return}if(this.ui.inlineAccountsResponse()){const h=d=>{this.handleWeb3ResponseMessage((0,ht.Web3ResponseMessage)({id:r,response:(0,bt.RequestEthereumAccountsResponse)(d)}))};this.ui.requestEthereumAccounts({onCancel:n,onAccounts:h})}else{const h=Ju.ethErrors.provider.userRejectedRequest("User denied account authorization");this.ui.requestEthereumAccounts({onCancel:()=>n(h)})}Tt.accountRequestCallbackIds.add(r),!this.ui.inlineAccountsResponse()&&!this.ui.isStandalone()&&this.publishWeb3RequestEvent(r,e)}),cancel:n}}selectProvider(e){const r={method:et.Web3Method.selectProvider,params:{providerOptions:e}},n=(0,qe.randomBytesHex)(8),i=o=>{this.publishWeb3RequestCanceledEvent(n),this.handleErrorResponse(n,r.method,o)},s=new Promise((o,c)=>{this.relayEventManager.callbacks.set(n,d=>{if(d.errorMessage)return c(new Error(d.errorMessage));o(d)});const l=d=>{this.handleWeb3ResponseMessage((0,ht.Web3ResponseMessage)({id:n,response:(0,bt.SelectProviderResponse)(K3.ProviderType.Unselected)}))},h=d=>{this.handleWeb3ResponseMessage((0,ht.Web3ResponseMessage)({id:n,response:(0,bt.SelectProviderResponse)(d)}))};this.ui.selectProvider&&this.ui.selectProvider({onApprove:h,onCancel:l,providerOptions:e})});return{cancel:i,promise:s}}watchAsset(e,r,n,i,s,o){const c={method:et.Web3Method.watchAsset,params:{type:e,options:{address:r,symbol:n,decimals:i,image:s},chainId:o}};let l=null;const h=(0,qe.randomBytesHex)(8),d=m=>{this.publishWeb3RequestCanceledEvent(h),this.handleErrorResponse(h,c.method,m),l==null||l()};this.ui.inlineWatchAsset()||(l=this.ui.showConnecting({isUnlinkedErrorState:this.isUnlinkedErrorState,onCancel:d,onResetConnection:this.resetAndReload}));const C=new Promise((m,x)=>{this.relayEventManager.callbacks.set(h,L=>{if(l==null||l(),L.errorMessage)return x(new Error(L.errorMessage));m(L)});const A=L=>{this.handleWeb3ResponseMessage((0,ht.Web3ResponseMessage)({id:h,response:(0,bt.WatchAssetReponse)(!1)}))},P=()=>{this.handleWeb3ResponseMessage((0,ht.Web3ResponseMessage)({id:h,response:(0,bt.WatchAssetReponse)(!0)}))};this.ui.inlineWatchAsset()&&this.ui.watchAsset({onApprove:P,onCancel:A,type:e,address:r,symbol:n,decimals:i,image:s,chainId:o}),!this.ui.inlineWatchAsset()&&!this.ui.isStandalone()&&this.publishWeb3RequestEvent(h,c)});return{cancel:d,promise:C}}addEthereumChain(e,r,n,i,s,o){const c={method:et.Web3Method.addEthereumChain,params:{chainId:e,rpcUrls:r,blockExplorerUrls:i,chainName:s,iconUrls:n,nativeCurrency:o}};let l=null;const h=(0,qe.randomBytesHex)(8),d=m=>{this.publishWeb3RequestCanceledEvent(h),this.handleErrorResponse(h,c.method,m),l==null||l()};return this.ui.inlineAddEthereumChain(e)||(l=this.ui.showConnecting({isUnlinkedErrorState:this.isUnlinkedErrorState,onCancel:d,onResetConnection:this.resetAndReload})),{promise:new Promise((m,x)=>{this.relayEventManager.callbacks.set(h,L=>{if(l==null||l(),L.errorMessage)return x(new Error(L.errorMessage));m(L)});const A=L=>{this.handleWeb3ResponseMessage((0,ht.Web3ResponseMessage)({id:h,response:(0,bt.AddEthereumChainResponse)({isApproved:!1,rpcUrl:""})}))},P=L=>{this.handleWeb3ResponseMessage((0,ht.Web3ResponseMessage)({id:h,response:(0,bt.AddEthereumChainResponse)({isApproved:!0,rpcUrl:L})}))};this.ui.inlineAddEthereumChain(e)&&this.ui.addEthereumChain({onCancel:A,onApprove:P,chainId:c.params.chainId,rpcUrls:c.params.rpcUrls,blockExplorerUrls:c.params.blockExplorerUrls,chainName:c.params.chainName,iconUrls:c.params.iconUrls,nativeCurrency:c.params.nativeCurrency}),!this.ui.inlineAddEthereumChain(e)&&!this.ui.isStandalone()&&this.publishWeb3RequestEvent(h,c)}),cancel:d}}switchEthereumChain(e,r){const n={method:et.Web3Method.switchEthereumChain,params:Object.assign({chainId:e},{address:r})},i=(0,qe.randomBytesHex)(8),s=c=>{this.publishWeb3RequestCanceledEvent(i),this.handleErrorResponse(i,n.method,c)};return{promise:new Promise((c,l)=>{this.relayEventManager.callbacks.set(i,C=>{if(C.errorMessage&&C.errorCode)return l(Ju.ethErrors.provider.custom({code:C.errorCode,message:"Unrecognized chain ID. Try adding the chain using addEthereumChain first."}));if(C.errorMessage)return l(new Error(C.errorMessage));c(C)});const h=C=>{if(typeof C=="number"){const m=C;this.handleWeb3ResponseMessage((0,ht.Web3ResponseMessage)({id:i,response:(0,bt.ErrorResponse)(et.Web3Method.switchEthereumChain,Qo.WalletUIError.SwitchEthereumChainUnsupportedChainId.message,m)}))}else C instanceof Qo.WalletUIError?this.handleErrorResponse(i,et.Web3Method.switchEthereumChain,C,C.errorCode):this.handleWeb3ResponseMessage((0,ht.Web3ResponseMessage)({id:i,response:(0,bt.SwitchEthereumChainResponse)({isApproved:!1,rpcUrl:""})}))},d=C=>{this.handleWeb3ResponseMessage((0,ht.Web3ResponseMessage)({id:i,response:(0,bt.SwitchEthereumChainResponse)({isApproved:!0,rpcUrl:C})}))};this.ui.switchEthereumChain({onCancel:h,onApprove:d,chainId:n.params.chainId,address:n.params.address}),!this.ui.inlineSwitchEthereumChain()&&!this.ui.isStandalone()&&this.publishWeb3RequestEvent(i,n)}),cancel:s}}inlineAddEthereumChain(e){return this.ui.inlineAddEthereumChain(e)}getSessionIdHash(){return Jt.Session.hash(this._session.id)}sendRequestStandalone(e,r){const n=s=>{this.handleErrorResponse(e,r.method,s)},i=s=>{this.handleWeb3ResponseMessage((0,ht.Web3ResponseMessage)({id:e,response:s}))};switch(r.method){case et.Web3Method.signEthereumMessage:this.ui.signEthereumMessage({request:r,onSuccess:i,onCancel:n});break;case et.Web3Method.signEthereumTransaction:this.ui.signEthereumTransaction({request:r,onSuccess:i,onCancel:n});break;case et.Web3Method.submitEthereumTransaction:this.ui.submitEthereumTransaction({request:r,onSuccess:i,onCancel:n});break;case et.Web3Method.ethereumAddressFromSignedMessage:this.ui.ethereumAddressFromSignedMessage({request:r,onSuccess:i});break;default:n();break}}onSessionConfigChanged(e){}}Tt.accountRequestCallbackIds=new Set;Yh([Jh.default],Tt.prototype,"resetAndReload",null);Yh([Jh.default],Tt.prototype,"handleIncomingEvent",null);Zs.WalletSDKRelay=Tt;var ro={};Object.defineProperty(ro,"__esModule",{value:!0});ro.WalletSDKRelayEventManager=void 0;const J3=J;class X3{constructor(){this._nextRequestId=0,this.callbacks=new Map}makeRequestId(){this._nextRequestId=(this._nextRequestId+1)%2147483647;const e=this._nextRequestId,r=(0,J3.prepend0x)(e.toString(16));return this.callbacks.get(r)&&this.callbacks.delete(r),e}}ro.WalletSDKRelayEventManager=X3;const eE="@coinbase/wallet-sdk",tE="3.5.1",rE="Coinbase Wallet JavaScript SDK",nE=["cipher","cipherbrowser","coinbase","coinbasewallet","eth","ether","ethereum","etherium","injection","toshi","wallet","walletlink","web3"],iE="dist/index.js",sE="dist/index.d.ts",oE="https://github.com/coinbase/coinbase-wallet-sdk.git",aE="Coinbase, Inc.",cE="Apache-2.0",uE={"pretest:unit":"node compile-assets.js","test:unit":"jest","test:unit:coverage":"yarn test:unit && open coverage/lcov-report/index.html","test:karma":"yarn build-npm && karma start",prebuild:`node -p "'export const LIB_VERSION = ' + JSON.stringify(require('./package.json').version) + ';'" > src/version.ts`,build:"node compile-assets.js && webpack --config webpack.config.js","build-npm":"tsc -p ./tsconfig.build.json","build:dev":"export LINK_API_URL='http://localhost:3000'; yarn build","build:dev:watch":"nodemon -e 'ts,tsx,js,json,css,scss,svg' --ignore 'src/**/*-css.ts' --ignore 'src/**/*-svg.ts' --watch src/ --exec 'yarn build:dev'","build:prod":`yarn prebuild && yarn build && yarn build-npm && cp ./package.json ../../README.md ./LICENSE build/npm && cp -a src/vendor-js build/npm/dist && sed -i.bak 's|  "private": true,||g' build/npm/package.json && rm -f build/npm/package.json.bak`,"lint:types":"tsc --noEmit","lint:prettier":'prettier --check "{src,__tests__}/**/*.(js|ts|tsx)"',"lint:eslint":"eslint ./src --ext .ts,.tsx","fix:eslint":"yarn lint:eslint --fix","fix:prettier":"prettier . --write",release:"./scripts/release.sh"},lE={"@metamask/safe-event-emitter":"2.0.0","@solana/web3.js":"1.52.0","bind-decorator":"^1.0.11","bn.js":"^5.1.1",buffer:"^6.0.3",clsx:"^1.1.0","eth-block-tracker":"4.4.3","eth-json-rpc-filters":"4.2.2","eth-rpc-errors":"4.0.2","json-rpc-engine":"6.1.0",keccak:"^3.0.1",preact:"^10.5.9",qs:"^6.10.3",rxjs:"^6.6.3","sha.js":"^2.4.11","stream-browserify":"^3.0.0",util:"^0.12.4"},fE={"@babel/core":"^7.17.9","@babel/plugin-proposal-decorators":"^7.17.9","@babel/plugin-transform-react-jsx":"^7.17.3","@babel/preset-env":"^7.16.11","@babel/preset-typescript":"^7.16.7","@peculiar/webcrypto":"^1.3.3","@testing-library/jest-dom":"^5.16.4","@testing-library/preact":"^2.0.1","@types/bn.js":"^4.11.6","@types/jest":"^27.4.1","@types/node":"^14.14.20","@types/qs":"^6.9.7","@types/sha.js":"^2.4.0","@typescript-eslint/eslint-plugin":"^5.7.0","@typescript-eslint/eslint-plugin-tslint":"^5.7.0","@typescript-eslint/parser":"^5.7.0","babel-jest":"^27.5.1",browserify:"17.0.0","copy-webpack-plugin":"^6.4.1","core-js":"^3.8.2",eslint:"^8.4.1","eslint-config-prettier":"^8.3.0","eslint-plugin-import":"^2.25.3","eslint-plugin-preact":"^0.1.0","eslint-plugin-prettier":"^4.0.0","eslint-plugin-simple-import-sort":"^7.0.0",jasmine:"3.8.0",jest:"^27.5.1","jest-chrome":"^0.7.2","jest-websocket-mock":"^2.3.0",karma:"^6.3.15","karma-browserify":"8.1.0","karma-chrome-launcher":"^3.1.0","karma-jasmine":"^4.0.1",nodemon:"^2.0.6",prettier:"^2.5.1","raw-loader":"^4.0.2","regenerator-runtime":"^0.13.7",sass:"^1.50.0",svgo:"^2.8.0","ts-jest":"^27.1.4","ts-loader":"^8.0.13","ts-node":"^10.7.0",tslib:"^2.0.3",typescript:"^4.1.3",watchify:"4.0.0",webpack:"^5.72.0","webpack-cli":"^4.9.2","whatwg-fetch":"^3.5.0"},hE={node:">= 10.0.0"},dE={name:eE,version:tE,description:rE,keywords:nE,main:iE,types:sE,repository:oE,author:aE,license:cE,scripts:uE,dependencies:lE,devDependencies:fE,engines:hE};Object.defineProperty(ti,"__esModule",{value:!0});ti.CoinbaseWalletSDK=void 0;const pE=ds,_E=ps,gE=dn,bE=$s,vE=Zs,mE=ro,yE=J,wE={NVM_INC:"/Users/kuteteoku/.nvm/versions/node/v16.0.0/include/node",npm_package_dependencies_web3_react:"^5.0.5",npm_package_dependencies__reduxjs_toolkit:"^1.8.5",npm_package_devDependencies_prettier:"^2.7.1",npm_package_dependencies_use_deep_compare_effect:"^1.8.1",npm_package_dependencies__types_multicodec:"^2.1.0",npm_package_dependencies__types_qs:"^6.9.7",TERM_PROGRAM:"vscode",npm_package_dependencies_toformat:"^2.0.0",NODE:"/Users/kuteteoku/.nvm/versions/node/v16.0.0/bin/node",npm_package_dependencies_process:"^0.11.10",INIT_CWD:"/Users/kuteteoku/Desktop/farmer-finance/interface",NVM_CD_FLAGS:"-q",npm_package_devDependencies_typescript:"^4.6.4",npm_package_dependencies_react_hook_form:"^7.34.2",npm_package_dependencies_polished:"^4.2.2",npm_package_dependencies_big_js:"^6.2.1",npm_package_dependencies_axios:"^0.27.2",npm_package_dependencies__web3_react_core:"^6.1.9",npm_package_dependencies__esbuild_plugins_node_globals_polyfill:"^0.1.1",npm_config_version_git_tag:"true",SHELL:"/bin/zsh",TERM:"xterm-256color",npm_package_devDependencies_vite:"^3.0.7",npm_package_dependencies__sentry_tracing:"^7.14.1",TMPDIR:"/var/folders/qr/mymsv4rs7j91ntm88vcvdxjw0000gn/T/",npm_package_dependencies__types_chart_js:"^2.9.37",npm_config_init_license:"MIT",TERM_PROGRAM_VERSION:"1.73.0",npm_package_devDependencies__vitejs_plugin_react:"^2.0.1",npm_package_dependencies_jsbi:"^4.3.0",npm_package_scripts_dev:"vite --host",MallocNanoZone:"0",ORIGINAL_XDG_CURRENT_DESKTOP:"undefined",ZDOTDIR:"/Users/kuteteoku",npm_package_dependencies__types_mocha:"^9.1.1",npm_package_dependencies_react_fast_marquee:"^1.3.5",npm_package_private:"true",npm_config_registry:"https://registry.yarnpkg.com",ZSH:"/Users/kuteteoku/.oh-my-zsh",npm_package_dependencies_react_dom:"^18.2.0",USER:"kuteteoku",NVM_DIR:"/Users/kuteteoku/.nvm",npm_package_devDependencies_vite_plugin_mkcert:"^1.10.1",npm_package_devDependencies__types_react:"^18.0.17",npm_package_devDependencies__types_papaparse:"^5.3.5",COMMAND_MODE:"unix2003",npm_package_dependencies__esbuild_plugins_node_modules_polyfill:"^0.1.4",npm_package_dependencies_decimal_js_light:"^2.5.1",npm_package_dependencies__uniswap_liquidity_staker:"^1.0.2",SSH_AUTH_SOCK:"/private/tmp/com.apple.launchd.8ry85lkHZ3/Listeners",npm_package_dependencies_lodash:"^4.17.21",npm_package_dependencies__uniswap_merkle_distributor:"^1.0.1",__CF_USER_TEXT_ENCODING:"0x1F5:0x0:0x0",npm_package_devDependencies_postcss:"^8.4.16",npm_package_devDependencies_babel_plugin_styled_components:"^2.0.7",npm_package_dependencies_styled_components:"^5.3.5",npm_package_dependencies_buffer:"^6.0.3",npm_execpath:"/usr/local/lib/node_modules/yarn/bin/yarn.js",PAGER:"less",npm_package_dependencies_util:"^0.12.4",npm_package_dependencies_react_redux:"^8.0.2",npm_package_dependencies__binance_chain_bsc_connector:"^1.0.0",npm_package_dependencies_vite_tsconfig_paths:"^3.5.0",npm_package_dependencies_ramda:"^0.28.0",npm_package_dependencies__types_big_js:"^6.1.5",LSCOLORS:"Gxfxcxdxbxegedabagacad",npm_package_devDependencies__types_react_dom:"^18.0.6",npm_package_dependencies__uniswap_v2_core:"^1.0.1",PATH:"/var/folders/qr/mymsv4rs7j91ntm88vcvdxjw0000gn/T/yarn--1670812430631-0.7351908168490706:/Users/kuteteoku/Desktop/farmer-finance/interface/node_modules/.bin:/Users/kuteteoku/.config/yarn/link/node_modules/.bin:/Users/kuteteoku/.yarn/bin:/Users/kuteteoku/.nvm/versions/node/v16.0.0/libexec/lib/node_modules/npm/bin/node-gyp-bin:/Users/kuteteoku/.nvm/versions/node/v16.0.0/lib/node_modules/npm/bin/node-gyp-bin:/Users/kuteteoku/.nvm/versions/node/v16.0.0/bin/node_modules/npm/bin/node-gyp-bin:/Users/kuteteoku/.nvm/versions/node/v16.0.0/bin:/opt/homebrew/opt/postgresql@11/bin:/usr/local/bin:/usr/bin:/bin:/usr/sbin:/sbin:/Users/kuteteoku/development/flutter/bin:/opt/homebrew/bin/:/opt/homebrew/opt/postgresql@9.6/bin:/usr/local/share/dotnet:~/.dotnet/tools:/Library/Apple/usr/bin:/Users/kuteteoku/.nvm/versions/node/v16.0.0/bin:/opt/homebrew/opt/postgresql@11/bin:/Users/kuteteoku/.cargo/bin",npm_config_argv:'{"remain":[],"cooked":["run","build"],"original":["build"]}',npm_package_dependencies_add:"^2.0.6",npm_package_dependencies__uniswap_governance:"^1.0.2",_:"/Users/kuteteoku/Desktop/farmer-finance/interface/node_modules/.bin/vite",npm_package_dependencies__uniswap_v2_periphery:"^1.1.0-beta.0",__CFBundleIdentifier:"com.microsoft.VSCode",USER_ZDOTDIR:"/Users/kuteteoku",npm_package_dependencies_bignumber_js:"^9.1.0",npm_package_dependencies__types_jest:"^29.0.0",PWD:"/Users/kuteteoku/Desktop/farmer-finance/interface",npm_package_devDependencies_tailwindcss:"^3.1.8",npm_package_dependencies_react_countdown:"^2.3.2",npm_package_scripts_preview:"vite preview",npm_lifecycle_event:"build",npm_package_dependencies_react_loading:"^2.0.3",LANG:"en_US.UTF-8",npm_package_name:"sale-fe",npm_package_devDependencies__types_ramda:"^0.28.15",npm_package_scripts_build:"vite build",npm_config_version_commit_hooks:"true",XPC_FLAGS:"0x0",VSCODE_GIT_ASKPASS_EXTRA_ARGS:"--ms-enable-electron-run-as-node",npm_package_dependencies_react_router_dom:"6",npm_package_dependencies__web3_react_fortmatic_connector:"^6.1.6",npm_package_dependencies__web3_react_injected_connector:"^6.0.7",npm_config_bin_links:"true",npm_package_dependencies_react_feather:"^2.0.10",XPC_SERVICE_NAME:"0",npm_package_dependencies_react_device_detect:"^2.2.2",npm_package_dependencies_chart_js:"^2.9.4",npm_package_version:"0.0.0",VSCODE_INJECTION:"1",npm_package_devDependencies_autoprefixer:"^10.4.8",npm_package_dependencies_axios_hooks:"^3.1.5",HOME:"/Users/kuteteoku",SHLVL:"2",npm_package_type:"module",VSCODE_GIT_ASKPASS_MAIN:"/Users/kuteteoku/Documents/Visual Studio Code.app/Contents/Resources/app/extensions/git/dist/askpass-main.js",npm_package_dependencies_papaparse:"^5.3.2",npm_package_dependencies_events:"^3.3.0",npm_package_dependencies_animate_css:"^4.1.1",npm_package_dependencies_yarn:"^1.22.19",npm_package_dependencies_rebass:"^4.0.7",npm_package_dependencies__web3_react_walletlink_connector:"^6.2.14",npm_config_save_prefix:"^",npm_config_strict_ssl:"true",npm_config_version_git_message:"v%s",npm_package_dependencies_redux_localstorage_simple:"^2.5.1",LOGNAME:"kuteteoku",LESS:"-R",YARN_WRAP_OUTPUT:"false",npm_package_dependencies__uniswap_token_lists:"^1.0.0-beta.30",npm_lifecycle_script:"vite build",npm_package_dependencies_react_transition_group:"^4.4.5",VSCODE_GIT_IPC_HANDLE:"/var/folders/qr/mymsv4rs7j91ntm88vcvdxjw0000gn/T/vscode-git-ab523388bf.sock",npm_package_dependencies_react:"^18.2.0",npm_package_dependencies_ethers:"^5.7.0",NVM_BIN:"/Users/kuteteoku/.nvm/versions/node/v16.0.0/bin",npm_package_dependencies__types_rebass:"^4.0.10",npm_config_version_git_sign:"",npm_config_ignore_scripts:"",npm_config_user_agent:"yarn/1.22.11 npm/? node/v16.0.0 darwin arm64",GIT_ASKPASS:"/Users/kuteteoku/Documents/Visual Studio Code.app/Contents/Resources/app/extensions/git/dist/askpass.sh",VSCODE_GIT_ASKPASS_NODE:"/Users/kuteteoku/Documents/Visual Studio Code.app/Contents/Frameworks/Code Helper.app/Contents/MacOS/Code Helper",npm_package_dependencies_react_chartjs_2:"^2.11.2",npm_package_dependencies__web3_react_portis_connector:"^6.2.11",npm_package_dependencies__types_lodash:"^4.14.184",npm_package_dependencies__types_styled_components:"^5.1.26",npm_package_dependencies__types_react_transition_group:"^4.4.5",npm_package_dependencies_antd:"^4.22.7",npm_config_init_version:"1.0.0",npm_config_ignore_optional:"",npm_package_dependencies__sentry_react:"^7.14.1",COLORTERM:"truecolor",npm_node_execpath:"/Users/kuteteoku/.nvm/versions/node/v16.0.0/bin/node",npm_package_dependencies__web3_react_walletconnect_connector:"^6.2.13",npm_config_version_tag_prefix:"v",NODE_ENV:"production"}.LINK_API_URL||"https://www.walletlink.org",Xh={NVM_INC:"/Users/kuteteoku/.nvm/versions/node/v16.0.0/include/node",npm_package_dependencies_web3_react:"^5.0.5",npm_package_dependencies__reduxjs_toolkit:"^1.8.5",npm_package_devDependencies_prettier:"^2.7.1",npm_package_dependencies_use_deep_compare_effect:"^1.8.1",npm_package_dependencies__types_multicodec:"^2.1.0",npm_package_dependencies__types_qs:"^6.9.7",TERM_PROGRAM:"vscode",npm_package_dependencies_toformat:"^2.0.0",NODE:"/Users/kuteteoku/.nvm/versions/node/v16.0.0/bin/node",npm_package_dependencies_process:"^0.11.10",INIT_CWD:"/Users/kuteteoku/Desktop/farmer-finance/interface",NVM_CD_FLAGS:"-q",npm_package_devDependencies_typescript:"^4.6.4",npm_package_dependencies_react_hook_form:"^7.34.2",npm_package_dependencies_polished:"^4.2.2",npm_package_dependencies_big_js:"^6.2.1",npm_package_dependencies_axios:"^0.27.2",npm_package_dependencies__web3_react_core:"^6.1.9",npm_package_dependencies__esbuild_plugins_node_globals_polyfill:"^0.1.1",npm_config_version_git_tag:"true",SHELL:"/bin/zsh",TERM:"xterm-256color",npm_package_devDependencies_vite:"^3.0.7",npm_package_dependencies__sentry_tracing:"^7.14.1",TMPDIR:"/var/folders/qr/mymsv4rs7j91ntm88vcvdxjw0000gn/T/",npm_package_dependencies__types_chart_js:"^2.9.37",npm_config_init_license:"MIT",TERM_PROGRAM_VERSION:"1.73.0",npm_package_devDependencies__vitejs_plugin_react:"^2.0.1",npm_package_dependencies_jsbi:"^4.3.0",npm_package_scripts_dev:"vite --host",MallocNanoZone:"0",ORIGINAL_XDG_CURRENT_DESKTOP:"undefined",ZDOTDIR:"/Users/kuteteoku",npm_package_dependencies__types_mocha:"^9.1.1",npm_package_dependencies_react_fast_marquee:"^1.3.5",npm_package_private:"true",npm_config_registry:"https://registry.yarnpkg.com",ZSH:"/Users/kuteteoku/.oh-my-zsh",npm_package_dependencies_react_dom:"^18.2.0",USER:"kuteteoku",NVM_DIR:"/Users/kuteteoku/.nvm",npm_package_devDependencies_vite_plugin_mkcert:"^1.10.1",npm_package_devDependencies__types_react:"^18.0.17",npm_package_devDependencies__types_papaparse:"^5.3.5",COMMAND_MODE:"unix2003",npm_package_dependencies__esbuild_plugins_node_modules_polyfill:"^0.1.4",npm_package_dependencies_decimal_js_light:"^2.5.1",npm_package_dependencies__uniswap_liquidity_staker:"^1.0.2",SSH_AUTH_SOCK:"/private/tmp/com.apple.launchd.8ry85lkHZ3/Listeners",npm_package_dependencies_lodash:"^4.17.21",npm_package_dependencies__uniswap_merkle_distributor:"^1.0.1",__CF_USER_TEXT_ENCODING:"0x1F5:0x0:0x0",npm_package_devDependencies_postcss:"^8.4.16",npm_package_devDependencies_babel_plugin_styled_components:"^2.0.7",npm_package_dependencies_styled_components:"^5.3.5",npm_package_dependencies_buffer:"^6.0.3",npm_execpath:"/usr/local/lib/node_modules/yarn/bin/yarn.js",PAGER:"less",npm_package_dependencies_util:"^0.12.4",npm_package_dependencies_react_redux:"^8.0.2",npm_package_dependencies__binance_chain_bsc_connector:"^1.0.0",npm_package_dependencies_vite_tsconfig_paths:"^3.5.0",npm_package_dependencies_ramda:"^0.28.0",npm_package_dependencies__types_big_js:"^6.1.5",LSCOLORS:"Gxfxcxdxbxegedabagacad",npm_package_devDependencies__types_react_dom:"^18.0.6",npm_package_dependencies__uniswap_v2_core:"^1.0.1",PATH:"/var/folders/qr/mymsv4rs7j91ntm88vcvdxjw0000gn/T/yarn--1670812430631-0.7351908168490706:/Users/kuteteoku/Desktop/farmer-finance/interface/node_modules/.bin:/Users/kuteteoku/.config/yarn/link/node_modules/.bin:/Users/kuteteoku/.yarn/bin:/Users/kuteteoku/.nvm/versions/node/v16.0.0/libexec/lib/node_modules/npm/bin/node-gyp-bin:/Users/kuteteoku/.nvm/versions/node/v16.0.0/lib/node_modules/npm/bin/node-gyp-bin:/Users/kuteteoku/.nvm/versions/node/v16.0.0/bin/node_modules/npm/bin/node-gyp-bin:/Users/kuteteoku/.nvm/versions/node/v16.0.0/bin:/opt/homebrew/opt/postgresql@11/bin:/usr/local/bin:/usr/bin:/bin:/usr/sbin:/sbin:/Users/kuteteoku/development/flutter/bin:/opt/homebrew/bin/:/opt/homebrew/opt/postgresql@9.6/bin:/usr/local/share/dotnet:~/.dotnet/tools:/Library/Apple/usr/bin:/Users/kuteteoku/.nvm/versions/node/v16.0.0/bin:/opt/homebrew/opt/postgresql@11/bin:/Users/kuteteoku/.cargo/bin",npm_config_argv:'{"remain":[],"cooked":["run","build"],"original":["build"]}',npm_package_dependencies_add:"^2.0.6",npm_package_dependencies__uniswap_governance:"^1.0.2",_:"/Users/kuteteoku/Desktop/farmer-finance/interface/node_modules/.bin/vite",npm_package_dependencies__uniswap_v2_periphery:"^1.1.0-beta.0",__CFBundleIdentifier:"com.microsoft.VSCode",USER_ZDOTDIR:"/Users/kuteteoku",npm_package_dependencies_bignumber_js:"^9.1.0",npm_package_dependencies__types_jest:"^29.0.0",PWD:"/Users/kuteteoku/Desktop/farmer-finance/interface",npm_package_devDependencies_tailwindcss:"^3.1.8",npm_package_dependencies_react_countdown:"^2.3.2",npm_package_scripts_preview:"vite preview",npm_lifecycle_event:"build",npm_package_dependencies_react_loading:"^2.0.3",LANG:"en_US.UTF-8",npm_package_name:"sale-fe",npm_package_devDependencies__types_ramda:"^0.28.15",npm_package_scripts_build:"vite build",npm_config_version_commit_hooks:"true",XPC_FLAGS:"0x0",VSCODE_GIT_ASKPASS_EXTRA_ARGS:"--ms-enable-electron-run-as-node",npm_package_dependencies_react_router_dom:"6",npm_package_dependencies__web3_react_fortmatic_connector:"^6.1.6",npm_package_dependencies__web3_react_injected_connector:"^6.0.7",npm_config_bin_links:"true",npm_package_dependencies_react_feather:"^2.0.10",XPC_SERVICE_NAME:"0",npm_package_dependencies_react_device_detect:"^2.2.2",npm_package_dependencies_chart_js:"^2.9.4",npm_package_version:"0.0.0",VSCODE_INJECTION:"1",npm_package_devDependencies_autoprefixer:"^10.4.8",npm_package_dependencies_axios_hooks:"^3.1.5",HOME:"/Users/kuteteoku",SHLVL:"2",npm_package_type:"module",VSCODE_GIT_ASKPASS_MAIN:"/Users/kuteteoku/Documents/Visual Studio Code.app/Contents/Resources/app/extensions/git/dist/askpass-main.js",npm_package_dependencies_papaparse:"^5.3.2",npm_package_dependencies_events:"^3.3.0",npm_package_dependencies_animate_css:"^4.1.1",npm_package_dependencies_yarn:"^1.22.19",npm_package_dependencies_rebass:"^4.0.7",npm_package_dependencies__web3_react_walletlink_connector:"^6.2.14",npm_config_save_prefix:"^",npm_config_strict_ssl:"true",npm_config_version_git_message:"v%s",npm_package_dependencies_redux_localstorage_simple:"^2.5.1",LOGNAME:"kuteteoku",LESS:"-R",YARN_WRAP_OUTPUT:"false",npm_package_dependencies__uniswap_token_lists:"^1.0.0-beta.30",npm_lifecycle_script:"vite build",npm_package_dependencies_react_transition_group:"^4.4.5",VSCODE_GIT_IPC_HANDLE:"/var/folders/qr/mymsv4rs7j91ntm88vcvdxjw0000gn/T/vscode-git-ab523388bf.sock",npm_package_dependencies_react:"^18.2.0",npm_package_dependencies_ethers:"^5.7.0",NVM_BIN:"/Users/kuteteoku/.nvm/versions/node/v16.0.0/bin",npm_package_dependencies__types_rebass:"^4.0.10",npm_config_version_git_sign:"",npm_config_ignore_scripts:"",npm_config_user_agent:"yarn/1.22.11 npm/? node/v16.0.0 darwin arm64",GIT_ASKPASS:"/Users/kuteteoku/Documents/Visual Studio Code.app/Contents/Resources/app/extensions/git/dist/askpass.sh",VSCODE_GIT_ASKPASS_NODE:"/Users/kuteteoku/Documents/Visual Studio Code.app/Contents/Frameworks/Code Helper.app/Contents/MacOS/Code Helper",npm_package_dependencies_react_chartjs_2:"^2.11.2",npm_package_dependencies__web3_react_portis_connector:"^6.2.11",npm_package_dependencies__types_lodash:"^4.14.184",npm_package_dependencies__types_styled_components:"^5.1.26",npm_package_dependencies__types_react_transition_group:"^4.4.5",npm_package_dependencies_antd:"^4.22.7",npm_config_init_version:"1.0.0",npm_config_ignore_optional:"",npm_package_dependencies__sentry_react:"^7.14.1",COLORTERM:"truecolor",npm_node_execpath:"/Users/kuteteoku/.nvm/versions/node/v16.0.0/bin/node",npm_package_dependencies__web3_react_walletconnect_connector:"^6.2.13",npm_config_version_tag_prefix:"v",NODE_ENV:"production"}.SDK_VERSION||dE.version||"unknown";class no{constructor(e){var r,n,i;this._appName="",this._appLogoUrl=null,this._relay=null,this._relayEventManager=null;const s=e.linkAPIUrl||wE;let o;if(e.uiConstructor?o=e.uiConstructor:o=h=>new bE.WalletSDKUI(h),typeof e.overrideIsMetaMask>"u"?this._overrideIsMetaMask=!1:this._overrideIsMetaMask=e.overrideIsMetaMask,this._overrideIsCoinbaseWallet=(r=e.overrideIsCoinbaseWallet)!==null&&r!==void 0?r:!0,this._overrideIsCoinbaseBrowser=(n=e.overrideIsCoinbaseBrowser)!==null&&n!==void 0?n:!1,e.diagnosticLogger&&e.eventListener)throw new Error("Can't have both eventListener and diagnosticLogger options, use only diagnosticLogger");e.eventListener?this._diagnosticLogger={log:e.eventListener.onEvent}:this._diagnosticLogger=e.diagnosticLogger,this._reloadOnDisconnect=(i=e.reloadOnDisconnect)!==null&&i!==void 0?i:!0;const c=new URL(s),l=`${c.protocol}//${c.host}`;this._storage=new _E.ScopedLocalStorage(`-walletlink:${l}`),this._storage.setItem("version",no.VERSION),!(this.walletExtension||this.coinbaseBrowser)&&(this._relayEventManager=new mE.WalletSDKRelayEventManager,this._relay=new vE.WalletSDKRelay({linkAPIUrl:s,version:Xh,darkMode:!!e.darkMode,uiConstructor:o,storage:this._storage,relayEventManager:this._relayEventManager,diagnosticLogger:this._diagnosticLogger}),this.setAppInfo(e.appName,e.appLogoUrl),!e.headlessMode&&this._relay.attachUI())}makeWeb3Provider(e="",r=1){const n=this.walletExtension;if(n)return this.isCipherProvider(n)||n.setProviderInfo(e,r),this._reloadOnDisconnect===!1&&typeof n.disableReloadOnDisconnect=="function"&&n.disableReloadOnDisconnect(),n;const i=this.coinbaseBrowser;if(i)return i;const s=this._relay;if(!s||!this._relayEventManager||!this._storage)throw new Error("Relay not initialized, should never happen");return e||s.setConnectDisabled(!0),new gE.CoinbaseWalletProvider({relayProvider:()=>Promise.resolve(s),relayEventManager:this._relayEventManager,storage:this._storage,jsonRpcUrl:e,chainId:r,qrUrl:this.getQrUrl(),diagnosticLogger:this._diagnosticLogger,overrideIsMetaMask:this._overrideIsMetaMask,overrideIsCoinbaseWallet:this._overrideIsCoinbaseWallet,overrideIsCoinbaseBrowser:this._overrideIsCoinbaseBrowser})}setAppInfo(e,r){var n;this._appName=e||"DApp",this._appLogoUrl=r||(0,yE.getFavicon)();const i=this.walletExtension;i?this.isCipherProvider(i)||i.setAppInfo(this._appName,this._appLogoUrl):(n=this._relay)===null||n===void 0||n.setAppInfo(this._appName,this._appLogoUrl)}disconnect(){var e;const r=this.walletExtension;r?r.close():(e=this._relay)===null||e===void 0||e.resetAndReload()}getQrUrl(){var e,r;return(r=(e=this._relay)===null||e===void 0?void 0:e.getQRCodeUrl())!==null&&r!==void 0?r:null}getCoinbaseWalletLogo(e,r=240){return(0,pE.walletLogo)(e,r)}get walletExtension(){var e;return(e=window.coinbaseWalletExtension)!==null&&e!==void 0?e:window.walletLinkExtension}get coinbaseBrowser(){var e,r;try{const n=(e=window.ethereum)!==null&&e!==void 0?e:(r=window.top)===null||r===void 0?void 0:r.ethereum;return n&&"isCoinbaseBrowser"in n&&n.isCoinbaseBrowser?n:void 0}catch{return}}isCipherProvider(e){return typeof e.isCipher=="boolean"&&e.isCipher}}ti.CoinbaseWalletSDK=no;no.VERSION=Xh;(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.CoinbaseWalletProvider=t.CoinbaseWalletSDK=void 0;const e=ti,r=dn;var n=ti;Object.defineProperty(t,"CoinbaseWalletSDK",{enumerable:!0,get:function(){return n.CoinbaseWalletSDK}});var i=dn;Object.defineProperty(t,"CoinbaseWalletProvider",{enumerable:!0,get:function(){return i.CoinbaseWalletProvider}}),t.default=e.CoinbaseWalletSDK,typeof window<"u"&&(window.CoinbaseWalletSDK=e.CoinbaseWalletSDK,window.CoinbaseWalletProvider=r.CoinbaseWalletProvider,window.WalletLink=e.CoinbaseWalletSDK,window.WalletLinkProvider=r.CoinbaseWalletProvider)})(ya);const SE=ed(ya),xE=td({__proto__:null,default:SE},[ya]);export{xE as i};
